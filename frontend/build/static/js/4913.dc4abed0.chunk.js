"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[4913],{34913:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var a=r(9950),s=r(4139),o=r(95537),l=r(27081),n=r(9449),i=r(26473),c=r(60666),d=r(74288),u=r(6944),m=r(53984),v=r(78581),j=r(96951),h=r(29024),L=r(80733),b=r(40761),g=r(43997),p=r(88848),y=r(94826),A=r(73961),x=r(14351),M=r(44414);const f=[{Header:"Organization Name",accessor:"Organization Name"},{Header:"Meter Issued To Contractor",accessor:"Meter Issued To Contractor"},{Header:"Meter Available At Contractor",accessor:"Meter Available At Contractor"},{Header:"Meter Issued To Installer",accessor:"Meter Issued To Installer"},{Header:"Total Installation",accessor:"Total Installation"},{Header:"L1 Level - Pending",accessor:"L1 Level - Pending"},{Header:"L1 Level - Approved",accessor:"L1 Level - Approved"},{Header:"L1 Level - Rejected",accessor:"L1 Level - Rejected"},{Header:"L1 Level - On-Hold",accessor:"L1 Level - On-Hold"},{Header:"L2 Level - Pending",accessor:"L2 Level - Pending"},{Header:"L2 Level - Approved",accessor:"L2 Level - Approved"},{Header:"L2 Level - Rejected",accessor:"L2 Level - Rejected"},{Header:"L2 Level - On-Hold",accessor:"L2 Level - On-Hold"}].map((e=>({...e,align:"center"}))),T=()=>{var e,t,r,T,O,k,C,H,I,S;const E=(0,l.wA)(),D=null===(e=(0,L.Y)())||void 0===e||null===(t=e.projectsDropdown)||void 0===t?void 0:t.projectsDropdownObject,w=null===(r=(0,p.$)())||void 0===r||null===(T=r.masterMakerOrgType)||void 0===T?void 0:T.masterObject,[N,P,R]=[null===(O=(0,b.r)())||void 0===O||null===(k=O.contractorDashboard)||void 0===k?void 0:k.contractorDashboardObject,null===(C=(0,b.r)())||void 0===C||null===(H=C.contractorDashboard)||void 0===H?void 0:H.loading,null===(I=(0,b.r)())||void 0===I||null===(S=I.contractorDashboard)||void 0===S?void 0:S.error],z=Object.keys(N).length>0,{baseTable:F,contractorCount:W,teamAvailaibilityToday:V,teamAvailaibilityCurrentWeek:Y,teamAvailabilityLastWeek:_,teamAvailabilityCurrentMonth:G,teamAvailabilityLastMonth:$,todaysStatus:q,currentMonthStatus:B}=N;(0,g.i)(R);const J=(0,n.mN)({resolver:(0,i.t)(c.Ik().shape({})),defaultValues:{projectId:"",meterTypeId:""},mode:"all"}),{watch:K,setValue:Q}=J,[U,X]=K(["projectId","meterTypeId"]);return(0,a.useEffect)((()=>{D&&D.length>0&&Q("projectId",D[0].id)}),[D,Q]),(0,a.useEffect)((()=>{U&&E((0,h.CCt)({projectId:U,...X&&{meterTypeId:X}}))}),[U,X,E]),(0,a.useEffect)((()=>{E((0,h.uiG)()),E((0,h.VOH)("MATERIAL TYPE"))}),[E]),(0,M.jsxs)(M.Fragment,{children:[D&&D.length>1&&(0,M.jsx)(m.CustomMainCard,{sx:{mb:2},title:(0,M.jsx)(m.CenteredMainCardTitle,{title:"Contractor Dashboard"}),children:(0,M.jsx)(j.Op,{methods:J,children:(0,M.jsx)(s.Ay,{container:!0,spacing:2,mb:4,children:(0,M.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,M.jsx)(j.eu,{name:"projectId",label:"Project",menus:D})})})})}),P&&!z&&(0,M.jsx)(o.A,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,M.jsx)(y.A,{})}),z&&(0,M.jsxs)(x.A,{children:[(0,M.jsx)(o.A,{sx:{mb:1},children:(0,M.jsx)(u.A,{data:[{title:"Contractor Count",value:W},{title:"Team Availability (Today)",value:V},{title:"Team Availability (Current Week)",value:Y},{title:"Team Availability (Last Week)",value:_},{title:"Team Availability (Current Month)",value:G},{title:"Team Availability (Last Month)",value:$}],expectedLength:6,loadingCondition:P})}),(0,M.jsx)(j.Op,{methods:J,children:(0,M.jsx)(s.Ay,{container:!0,spacing:0,children:(0,M.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,M.jsx)(j.Yq,{name:"meterTypeId",label:"",placeholder:"Material Type",menus:w})})})}),(0,M.jsx)(o.A,{sx:{mt:2},children:(0,M.jsx)(d.A,{title:"none",backgroundColor:v.H_,data:F,columns:f,loadingCondition:P})}),(0,M.jsx)(s.Ay,{item:!0,xs:12,children:(0,M.jsx)(o.A,{sx:{mb:8},children:(0,M.jsx)(A.A,{chartData:q,xAxis:"Organization Name",title:"Today's Status",height:500})})}),(0,M.jsx)(s.Ay,{item:!0,xs:12,children:(0,M.jsx)(A.A,{chartData:B,xAxis:"Organization Name",title:"Current Month Status",from:"contractor",height:500})})]})]})}},88848:(e,t,r)=>{r.d(t,{$:()=>o});var a=r(9950),s=r(27081);const o=()=>{const[e,t]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[r,o]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[l,n]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[i,c]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[d,u]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[m,v]=(0,a.useState)({currencyObject:[],error:"",loading:!0}),[j,h]=(0,a.useState)({gstStatusObject:[],error:"",loading:!0}),[L,b]=(0,a.useState)({paymentTermObject:[],error:"",loading:!0}),[g,p]=(0,a.useState)({incotermsObject:[],error:"",loading:!0}),[y,A]=(0,a.useState)({titleObject:[],error:"",loading:!0}),[x,M]=(0,a.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),f=(0,s.d4)((e=>e.masterMakerLov||{})),T=(0,s.d4)((e=>e.masterMakerLovList||{})),O=(0,s.d4)((e=>e.lovsForMasterName||[])),k=(0,s.d4)((e=>e.lovsForMasterNameSecond||[])),C=(0,s.d4)((e=>e.lovsForMasterNameThird||[])),H=(0,s.d4)((e=>e.currency||[])),I=(0,s.d4)((e=>e.gstStatus||[])),S=(0,s.d4)((e=>e.paymentTerm||[])),E=(0,s.d4)((e=>e.incoterms||[])),D=(0,s.d4)((e=>e.title||[])),w=(0,s.d4)((e=>e.masterMakerLovHistory||{}));return(0,a.useEffect)((()=>{t((e=>({...e,...f})))}),[f]),(0,a.useEffect)((()=>{o((e=>({...e,...T})))}),[T]),(0,a.useEffect)((()=>{n((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{c((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{u((e=>({...e,...C})))}),[C]),(0,a.useEffect)((()=>{v((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{h((e=>({...e,...I})))}),[I]),(0,a.useEffect)((()=>{b((e=>({...e,...S})))}),[S]),(0,a.useEffect)((()=>{p((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{A((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{M((e=>({...e,...w})))}),[w]),{masterMakerLovs:e,masterMakerLovsList:r,masterMakerOrgType:l,masterMakerOrgTypeSecond:i,masterMakerOrgTypeThird:d,masterMakerCurrency:m,masterMakerGstStatus:j,masterMakerIncoterms:g,masterMakerPaymentTerm:L,masterMakerLovHistory:x,masterMakerTitle:y}}}}]);