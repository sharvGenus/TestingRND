"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[826,5406],{47501:(e,t,r)=>{r.d(t,{A:()=>O});var o=r(19223),a=r(4139),s=r(87233),n=r(67535),i=r(9449),d=r(9950),c=r(27081),l=r(3147),u=r(80733),f=r(62605),S=r(88848),g=r(96951),m=r(29024),v=r(52867),j=r(62054),p=r(46091),b=r(44414);const O=e=>{var t,r,O,y;let{type:D="request",disableAll:E=!1,setReqData:x,showToStoreDropdown:h=!1,showFromStoreAddress:L=!1,showToStoreAddress:k=!1,setFromStoreId:T,ignoreStoreId:A=!1,setToStoreId:w,setFromOrganizationId:z,setToOrganizationId:M,fromStoreLabel:I,toStoreLabel:N,fromStoreType:q,toStoreType:H,transactionType:R,approvedOnly:C,getFilteredStore:P=!1,setProjectId:F,showOrgType:V=!1,getNegativeOnly:B=!1}=e;const Q=(0,i.mN)({defaultValues:{},mode:"all"}),G=(0,c.wA)(),{watch:$}=Q,Y=$(["projectId","fromStoreId",...h?["toStoreId"]:[]]),[_,U,J]=Y,K=Object.values(Y).some((e=>!e)),[W,X]=(0,d.useState)(null);_&&F&&F(_);const{projectsDropdown:Z}=(0,u.Y)(),{organizationStores:ee,organizationStoresSecond:te}=(0,l.E)(),{masterMakerLovs:re}=(0,S.$)(),{refDataThird:oe}=(0,f.t)(),ae=re.masterMakerLovsObject.rows,se=(0,v.x)(ae,q),ne=(0,v.x)(ae,H),ie=(0,v.x)(ae,R),{transactionRequest:de}=(0,p.b)(),ce=(0,d.useMemo)((()=>{var e,t;return null===de||void 0===de||null===(e=de.requestDetails)||void 0===e||null===(t=e.rows)||void 0===t?void 0:t.filter((e=>e.fromStoreId===R==="STR"?J:U))}),[U,J,R,null===de||void 0===de||null===(t=de.requestDetails)||void 0===t?void 0:t.rows]),le=null===de||void 0===de?void 0:de.loading,ue=(0,d.useMemo)((()=>{var e;return null===oe||void 0===oe||null===(e=oe.refDataThirdObject)||void 0===e?void 0:e.rows}),[null===oe||void 0===oe||null===(r=oe.refDataThirdObject)||void 0===r?void 0:r.rows]),fe=null===oe||void 0===oe?void 0:oe.loading,Se="stockLedger"===D?ue:ce,ge="stockLedger"===D?fe:le,me=(null===ee||void 0===ee||null===(O=ee.organizationStoreObject)||void 0===O?void 0:O.rows)||[],ve=(null===te||void 0===te||null===(y=te.organizationStoreObject)||void 0===y?void 0:y.rows)||[],je=(null===Z||void 0===Z?void 0:Z.projectsDropdownObject)||[],pe=(0,v.ns)(me.find((e=>e.id===U)))||"",be=(0,v.ns)(ve.find((e=>e.id===J)))||"";(0,d.useEffect)((()=>{ne&&G((0,m.QEJ)({organizationType:ne}))}),[G,ne]),(0,d.useEffect)((()=>{se&&(V||G((0,m.qV$)({organizationType:se})))}),[G,se,V]);(0,d.useEffect)((()=>{G((0,m.uiG)()),G((0,m._G1)())}),[G]),(0,d.useEffect)((()=>{ie&&U&&_&&W&&G("stockLedger"===D?(0,m.Trr)({projectId:_,...!A&&{storeId:U},...B&&{getNegativeOnly:B},referenceDocumentNumber:W,transactionTypeId:ie,sortBy:"updatedAt",sortOrder:"DESC"}):(0,m.exE)({projectId:_,...!A&&{fromStoreId:"STR"===R?J:U},...J&&{toStoreId:"STR"===R?U:J},...C&&{approvalStatus:"1"},referenceDocumentNumber:W,transactionTypeId:ie,sortBy:"updatedAt",sortOrder:"DESC"}))}),[G,U,J,A,C,R,_,ie,D,W,B]);return(0,b.jsx)(g.Op,{methods:Q,children:(0,b.jsxs)(a.Ay,{container:!0,spacing:4,children:[(0,b.jsx)(a.Ay,{item:!0,xs:12,md:3,xl:3,children:(0,b.jsx)(g.eu,{InputLabelProps:{shrink:!0},name:"projectId",label:"Project",menus:je,disable:E})}),V&&(0,b.jsx)(a.Ay,{item:!0,xs:12,md:3,xl:3,children:(0,b.jsx)(g.eu,{InputLabelProps:{shrink:!0},name:"orgTypeId",label:"Organization Type",menus:[{id:"420e7b13-25fd-4d23-9959-af1c07c7e94b",name:"COMPANY"},{id:"decb6c57-6d85-4f83-9cc2-50e0630003df",name:"CONTRACTOR"}],disable:E,onChange:e=>{var t,r;null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value&&G((0,m.qV$)({organizationType:null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value}))}})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:3,xl:3,children:(0,b.jsx)(g.eu,{InputLabelProps:{shrink:!0},name:"fromStoreId",label:I||"From Store",menus:me,disable:E})}),L&&(0,b.jsxs)(a.Ay,{item:!0,xs:12,md:V?3:6,xl:V?3:6,children:[(0,b.jsx)(s.A,{children:"Address: "}),(0,b.jsx)(s.A,{mt:2,children:pe})]}),!L&&k&&(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,xl:6}),h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Ay,{item:!0,xs:12,md:3,xl:3,children:(0,b.jsx)(g.eu,{InputLabelProps:{shrink:!0},name:"toStoreId",label:N||"To Store",menus:P?ve.filter((e=>e.id!==U)):ve,disable:E})}),k&&(0,b.jsxs)(a.Ay,{item:!0,xs:12,md:L?9:3,xl:L?9:3,children:[(0,b.jsx)(s.A,{children:"Address: "}),(0,b.jsx)(s.A,{mt:2,children:be})]})]}),!L&&k&&(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,xl:6}),L&&h&&!k&&(0,b.jsx)(a.Ay,{item:!0,xs:12,md:9,xl:9}),(0,b.jsxs)(a.Ay,{item:!0,display:"flex",xs:12,md:3,xl:3,children:[(0,b.jsx)(g.o3,{InputLabelProps:{shrink:!0},name:"requisitionNumberId",label:"Requisition Number",handleChange:e=>{var t;X(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value.trim())},disabled:E}),(0,b.jsx)(n.A,{disabled:E||K||ge,sx:{mt:3},onClick:()=>{if(z){var e,t;const r=null===me||void 0===me?void 0:me.find((e=>e.id===U));z((null===r||void 0===r||null===(e=r.organization)||void 0===e?void 0:e.parentId)||(null===r||void 0===r||null===(t=r.organization)||void 0===t?void 0:t.id))}if(T&&T(U),w&&w(J),M){var r,o;const e=null===ve||void 0===ve?void 0:ve.find((e=>e.id===J));M((null===e||void 0===e||null===(r=e.organization)||void 0===r?void 0:r.parentId)||(null===e||void 0===e||null===(o=e.organization)||void 0===o?void 0:o.id))}const a=(null===Se||void 0===Se?void 0:Se.filter((e=>e.referenceDocumentNumber===W)))||[];0!==a.length?a.some((e=>e.isCancelled))?(0,j.A)("This requisition number is already cancelled!",{variant:"error"}):a.some((e=>e.isProcessed))?(0,j.A)("This requisition number is already processed!",{variant:"error"}):a.some((e=>!isNaN(e.status)&&"1"!==e.status))?(0,j.A)("This requisition number is already cancelled!",{variant:"error"}):x(a):(0,j.A)("No data!",{variant:"error"})},children:(0,b.jsx)(o.A,{})})]})]})})}},88848:(e,t,r)=>{r.d(t,{$:()=>s});var o=r(9950),a=r(27081);const s=()=>{const[e,t]=(0,o.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[r,s]=(0,o.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[n,i]=(0,o.useState)({masterObject:[],error:"",loading:!0}),[d,c]=(0,o.useState)({masterObject:[],error:"",loading:!0}),[l,u]=(0,o.useState)({masterObject:[],error:"",loading:!0}),[f,S]=(0,o.useState)({currencyObject:[],error:"",loading:!0}),[g,m]=(0,o.useState)({gstStatusObject:[],error:"",loading:!0}),[v,j]=(0,o.useState)({paymentTermObject:[],error:"",loading:!0}),[p,b]=(0,o.useState)({incotermsObject:[],error:"",loading:!0}),[O,y]=(0,o.useState)({titleObject:[],error:"",loading:!0}),[D,E]=(0,o.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),x=(0,a.d4)((e=>e.masterMakerLov||{})),h=(0,a.d4)((e=>e.masterMakerLovList||{})),L=(0,a.d4)((e=>e.lovsForMasterName||[])),k=(0,a.d4)((e=>e.lovsForMasterNameSecond||[])),T=(0,a.d4)((e=>e.lovsForMasterNameThird||[])),A=(0,a.d4)((e=>e.currency||[])),w=(0,a.d4)((e=>e.gstStatus||[])),z=(0,a.d4)((e=>e.paymentTerm||[])),M=(0,a.d4)((e=>e.incoterms||[])),I=(0,a.d4)((e=>e.title||[])),N=(0,a.d4)((e=>e.masterMakerLovHistory||{}));return(0,o.useEffect)((()=>{t((e=>({...e,...x})))}),[x]),(0,o.useEffect)((()=>{s((e=>({...e,...h})))}),[h]),(0,o.useEffect)((()=>{i((e=>({...e,...L})))}),[L]),(0,o.useEffect)((()=>{c((e=>({...e,...k})))}),[k]),(0,o.useEffect)((()=>{u((e=>({...e,...T})))}),[T]),(0,o.useEffect)((()=>{S((e=>({...e,...A})))}),[A]),(0,o.useEffect)((()=>{m((e=>({...e,...w})))}),[w]),(0,o.useEffect)((()=>{j((e=>({...e,...z})))}),[z]),(0,o.useEffect)((()=>{b((e=>({...e,...M})))}),[M]),(0,o.useEffect)((()=>{y((e=>({...e,...I})))}),[I]),(0,o.useEffect)((()=>{E((e=>({...e,...N})))}),[N]),{masterMakerLovs:e,masterMakerLovsList:r,masterMakerOrgType:n,masterMakerOrgTypeSecond:d,masterMakerOrgTypeThird:l,masterMakerCurrency:f,masterMakerGstStatus:g,masterMakerIncoterms:p,masterMakerPaymentTerm:v,masterMakerLovHistory:D,masterMakerTitle:O}}},3147:(e,t,r)=>{r.d(t,{E:()=>s});var o=r(9950),a=r(27081);const s=()=>{const[e,t]=(0,o.useState)({organizationStoreObject:{},error:"",loading:!0}),[r,s]=(0,o.useState)({organizationStoreObject:{},error:"",loading:!0}),[n,i]=(0,o.useState)({organizationStoreObject:[],error:"",loading:!0}),[d,c]=(0,o.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[l,u]=(0,o.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[f,S]=(0,o.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[g,m]=(0,o.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[v,j]=(0,o.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),p=(0,a.d4)((e=>e.organizationStores||{})),b=(0,a.d4)((e=>e.organizationStoresAllAccess||{})),O=(0,a.d4)((e=>e.organizationStoresSecond||[])),y=(0,a.d4)((e=>e.organizationStoreDropdown||[])),D=(0,a.d4)((e=>e.organizationStoreDropdownSecond||[])),E=(0,a.d4)((e=>e.orgStoreDropDown||[])),x=(0,a.d4)((e=>e.orgViewStoreDropDown||[])),h=(0,a.d4)((e=>e.organizationStoresHistory||[]));return(0,o.useEffect)((()=>{t((e=>({...e,...p})))}),[p]),(0,o.useEffect)((()=>{s((e=>({...e,...b})))}),[b]),(0,o.useEffect)((()=>{i((e=>({...e,...O})))}),[O]),(0,o.useEffect)((()=>{c((e=>({...e,...y})))}),[y]),(0,o.useEffect)((()=>{u((e=>({...e,...D})))}),[D]),(0,o.useEffect)((()=>{S((e=>({...e,...E})))}),[E]),(0,o.useEffect)((()=>{m((e=>({...e,...x})))}),[x]),(0,o.useEffect)((()=>{j((e=>({...e,...h})))}),[h]),{organizationStores:e,organizationStoresSecond:n,organizationStoresDropdown:d,orgStoreDropDown:f,orgViewStoreDropDown:g,organizationStoresHistory:v,organizationStoresAllAccess:r,organizationStoresDropdownSecond:l}}},80733:(e,t,r)=>{r.d(t,{Y:()=>s});var o=r(9950),a=r(27081);const s=()=>{const[e,t]=(0,o.useState)({projectsObject:{},error:"",loading:!0}),[r,s]=(0,o.useState)({projectDetailsObject:{},error:"",loading:!0}),[n,i]=(0,o.useState)({projectsDropdownObject:[],error:"",loading:!0}),[d,c]=(0,o.useState)({projectsDropdownObject:[],error:"",loading:!0}),[l,u]=(0,o.useState)({projectsObject:[],error:"",loading:!0}),[f,S]=(0,o.useState)({projectsHistoryObject:{},error:"",loading:!0}),g=(0,a.d4)((e=>e.projects||{})),m=(0,a.d4)((e=>e.projectDetails||{})),v=(0,a.d4)((e=>e.projectsDropdown||[])),j=(0,a.d4)((e=>e.allProjectsDropdown||[])),p=(0,a.d4)((e=>e.projectsForRoleOrUser||[])),b=(0,a.d4)((e=>e.projectsHistory||{}));return(0,o.useEffect)((()=>{t((e=>({...e,...g})))}),[g]),(0,o.useEffect)((()=>{s((e=>({...e,...m})))}),[m]),(0,o.useEffect)((()=>{i((e=>({...e,...v})))}),[v]),(0,o.useEffect)((()=>{c((e=>({...e,...j})))}),[j]),(0,o.useEffect)((()=>{u((e=>({...e,...p})))}),[p]),(0,o.useEffect)((()=>{S((e=>({...e,...b})))}),[b]),{projects:e,projectsDropdown:n,allProjectsDropdown:d,projectsHistory:f,projectsGovernForRoleOrUser:l,projectDetails:r}}},62605:(e,t,r)=>{r.d(t,{t:()=>s});var o=r(9950),a=r(27081);const s=()=>{const[e,t]=(0,o.useState)({stocksObject:{},error:"",loading:!0}),[r,s]=(0,o.useState)({transactionObject:{},error:"",loading:!1}),[n,i]=(0,o.useState)({transactionObject:{},error:"",loading:!0}),[d,c]=(0,o.useState)({transactionObject:{},error:"",loading:!0}),[l,u]=(0,o.useState)({transactionObject:{},error:"",loading:!0}),[f,S]=(0,o.useState)({data:{},error:"",loading:!0}),[g,m]=(0,o.useState)({data:{},error:"",loading:!0}),[v,j]=(0,o.useState)({data:{},error:"",loading:!0}),[p,b]=(0,o.useState)({stoDataObject:{},error:"",loading:!0}),[O,y]=(0,o.useState)({refDataObject:{},error:"",loading:!0}),[D,E]=(0,o.useState)({refDataSecondObject:{},error:"",loading:!0}),[x,h]=(0,o.useState)({refDataThirdObject:{},error:"",loading:!0}),[L,k]=(0,o.useState)({stockLedgerDetailListObject:{},error:"",loading:!0}),[T,A]=(0,o.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[w,z]=(0,o.useState)({allStoreLocationsStock:[],error:"",loading:!0}),[M,I]=(0,o.useState)({transactionObject:{},error:"",loading:!1}),[N,q]=(0,o.useState)({transactionObject:{},error:"",loading:!1}),[H,R]=(0,o.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[C,P]=(0,o.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[F,V]=(0,o.useState)({transactionObject:{},error:"",loading:!1}),B=(0,a.d4)((e=>e.stocks||{})),Q=(0,a.d4)((e=>e.transactions||{})),G=(0,a.d4)((e=>e.transactionsSecond||{})),$=(0,a.d4)((e=>e.transactionsQty||{})),Y=(0,a.d4)((e=>e.transactionsSecondQty||{})),_=(0,a.d4)((e=>e.serialNumbers||{})),U=(0,a.d4)((e=>e.serialNumbersSecond||{})),J=(0,a.d4)((e=>e.allSerialNumbers||{})),K=(0,a.d4)((e=>e.stoData||{})),W=(0,a.d4)((e=>e.refData||{})),X=(0,a.d4)((e=>e.refDataSecond||{})),Z=(0,a.d4)((e=>e.refDataThird||{})),ee=(0,a.d4)((e=>e.stockLedgerDetailList||{})),te=(0,a.d4)((e=>e.storeLocationsTransactions||{})),re=(0,a.d4)((e=>e.storeLocationsStock||[])),oe=(0,a.d4)((e=>e.transactionMaterialList||{})),ae=(0,a.d4)((e=>e.txnByMaterial||{})),se=(0,a.d4)((e=>e.txnByLocationMaterial||{})),ne=(0,a.d4)((e=>e.storeStockReport||{})),ie=(0,a.d4)((e=>e.stockLedgerMaterialList||{}));return(0,o.useEffect)((()=>{t((e=>({...e,...B})))}),[B]),(0,o.useEffect)((()=>{s((e=>({...e,...Q})))}),[Q]),(0,o.useEffect)((()=>{i((e=>({...e,...G})))}),[G]),(0,o.useEffect)((()=>{c((e=>({...e,...$})))}),[$]),(0,o.useEffect)((()=>{u((e=>({...e,...Y})))}),[Y]),(0,o.useEffect)((()=>{S((e=>({...e,..._})))}),[_]),(0,o.useEffect)((()=>{m((e=>({...e,...U})))}),[U]),(0,o.useEffect)((()=>{j((e=>({...e,...J})))}),[J]),(0,o.useEffect)((()=>{b((e=>({...e,...K})))}),[K]),(0,o.useEffect)((()=>{y((e=>({...e,...W})))}),[W]),(0,o.useEffect)((()=>{E((e=>({...e,...X})))}),[X]),(0,o.useEffect)((()=>{h((e=>({...e,...Z})))}),[Z]),(0,o.useEffect)((()=>{k((e=>({...e,...ee})))}),[ee]),(0,o.useEffect)((()=>{A((e=>({...e,...te})))}),[te]),(0,o.useEffect)((()=>{z((e=>({...e,...re})))}),[re]),(0,o.useEffect)((()=>{I((e=>({...e,...oe})))}),[oe]),(0,o.useEffect)((()=>{q((e=>({...e,...ae})))}),[ae]),(0,o.useEffect)((()=>{R((e=>({...e,...se})))}),[se]),(0,o.useEffect)((()=>{P((e=>({...e,...ne})))}),[ne]),(0,o.useEffect)((()=>{V((e=>({...e,...ie})))}),[ie]),{stocks:e,transaction:r,serialNumbers:f,serialNumbersSecond:g,allSerialNumbers:v,stoData:p,refData:O,stockLedgerDetailList:L,storeLocationsTransaction:T,transactionsSecond:n,refDataSecond:D,refDataThird:x,transactionQty:d,transactionSecondQty:l,storeLocationsStock:w,transactionMaterialList:M,txnByMaterial:N,txnByLocationMaterial:H,storeStockReport:C,stockLedgerMaterialList:F}}},46091:(e,t,r)=>{r.d(t,{b:()=>s});var o=r(9950),a=r(27081);const s=()=>{const[e,t]=(0,o.useState)({requestDetails:{},error:"",loading:!0}),r=(0,a.d4)((e=>e.requestList||{}));return(0,o.useEffect)((()=>{t((e=>({...e,...r})))}),[r]),{transactionRequest:e}}},13239:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(89379),a=r(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=r(14840),i=function(e,t){return a.createElement(n.A,(0,o.A)((0,o.A)({},e),{},{ref:t,icon:s}))};const d=a.forwardRef(i)},26592:(e,t,r)=>{var o=r(24994);t.A=void 0;var a=o(r(79526)),s=r(44414);t.A=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,t,r)=>{var o=r(24994);t.A=void 0;var a=o(r(79526)),s=r(44414);t.A=(0,a.default)((0,s.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);