"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[8928],{3147:(o,e,t)=>{t.d(e,{E:()=>a});var r=t(9950),n=t(27081);const a=()=>{const[o,e]=(0,r.useState)({organizationStoreObject:{},error:"",loading:!0}),[t,a]=(0,r.useState)({organizationStoreObject:{},error:"",loading:!0}),[i,s]=(0,r.useState)({organizationStoreObject:[],error:"",loading:!0}),[c,d]=(0,r.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[l,g]=(0,r.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[u,S]=(0,r.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[z,p]=(0,r.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[f,j]=(0,r.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),D=(0,n.d4)((o=>o.organizationStores||{})),b=(0,n.d4)((o=>o.organizationStoresAllAccess||{})),m=(0,n.d4)((o=>o.organizationStoresSecond||[])),w=(0,n.d4)((o=>o.organizationStoreDropdown||[])),y=(0,n.d4)((o=>o.organizationStoreDropdownSecond||[])),x=(0,n.d4)((o=>o.orgStoreDropDown||[])),O=(0,n.d4)((o=>o.orgViewStoreDropDown||[])),E=(0,n.d4)((o=>o.organizationStoresHistory||[]));return(0,r.useEffect)((()=>{e((o=>({...o,...D})))}),[D]),(0,r.useEffect)((()=>{a((o=>({...o,...b})))}),[b]),(0,r.useEffect)((()=>{s((o=>({...o,...m})))}),[m]),(0,r.useEffect)((()=>{d((o=>({...o,...w})))}),[w]),(0,r.useEffect)((()=>{g((o=>({...o,...y})))}),[y]),(0,r.useEffect)((()=>{S((o=>({...o,...x})))}),[x]),(0,r.useEffect)((()=>{p((o=>({...o,...O})))}),[O]),(0,r.useEffect)((()=>{j((o=>({...o,...E})))}),[E]),{organizationStores:o,organizationStoresSecond:i,organizationStoresDropdown:c,orgStoreDropDown:u,orgViewStoreDropDown:z,organizationStoresHistory:f,organizationStoresAllAccess:t,organizationStoresDropdownSecond:l}}},55519:(o,e,t)=>{t.d(e,{G:()=>a});var r=t(9950),n=t(27081);const a=()=>{const[o,e]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[t,a]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[i,s]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[c,d]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[l,g]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[u,S]=(0,r.useState)({organizationLocationObject:{},error:"",loading:!0}),[z,p]=(0,r.useState)({organizationGetListObject:{},error:"",loading:!0}),[f,j]=(0,r.useState)({organizationDropdownObject:[],error:"",loading:!0}),[D,b]=(0,r.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[m,w]=(0,r.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[y,x]=(0,r.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[O,E]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[v,L]=(0,r.useState)({organizationObject:{},error:"",loading:!0}),[A,h]=(0,r.useState)({organizationHistoryObject:{},error:"",loading:!0}),I=(0,n.d4)((o=>o.organization||[])),H=(0,n.d4)((o=>o.organizationAllData||[])),P=(0,n.d4)((o=>o.organizationAllDataSecond||[])),k=(0,n.d4)((o=>o.organizationLocationByParent||[])),C=(0,n.d4)((o=>o.organizationLocationByParentSecond||[])),R=(0,n.d4)((o=>o.organizationLocation||[])),N=(0,n.d4)((o=>o.organizationListData||[])),B=(0,n.d4)((o=>o.organizationList||[])),M=(0,n.d4)((o=>o.organizationDropdown||[])),V=(0,n.d4)((o=>o.organizationLocationDropdown||[])),_=(0,n.d4)((o=>o.organizationLocationDropdownSecond||[])),G=(0,n.d4)((o=>o.organizationDropdownSecond||[])),T=(0,n.d4)((o=>o.organizationListSecond||[])),q=(0,n.d4)((o=>o.organizationHistory||[]));return(0,r.useEffect)((()=>{e((o=>({...o,...I})))}),[I]),(0,r.useEffect)((()=>{a((o=>({...o,...H})))}),[H]),(0,r.useEffect)((()=>{s((o=>({...o,...P})))}),[P]),(0,r.useEffect)((()=>{d((o=>({...o,...k})))}),[k]),(0,r.useEffect)((()=>{g((o=>({...o,...C})))}),[C]),(0,r.useEffect)((()=>{S((o=>({...o,...R})))}),[R]),(0,r.useEffect)((()=>{p((o=>({...o,...N})))}),[N]),(0,r.useEffect)((()=>{j((o=>({...o,...M})))}),[M]),(0,r.useEffect)((()=>{b((o=>({...o,...V})))}),[V]),(0,r.useEffect)((()=>{x((o=>({...o,..._})))}),[_]),(0,r.useEffect)((()=>{w((o=>({...o,...G})))}),[G]),(0,r.useEffect)((()=>{E((o=>({...o,...B})))}),[B]),(0,r.useEffect)((()=>{L((o=>({...o,...T})))}),[T]),(0,r.useEffect)((()=>{h((o=>({...o,...q})))}),[q]),{organizations:o,organizationsAllData:t,organizationsAllDataSecond:i,organizationsLocByParent:c,organizationsLocByParentSecond:l,organizationsGetListData:z,organizationsDropdown:f,organizationsDropdownSecond:m,organizationsList:O,organizationsListSecond:v,organizationHistory:A,organizationsLocation:u,organizationsLocationDropdown:D,organizationsLocationDropdownSecond:y}}},88928:(o,e,t)=>{t.r(e),t.d(e,{default:()=>x});var r=t(9950),n=t(27081),a=t(4139),i=t(67535),s=t(60666),c=t(9449),d=t(26473),l=t(80733),g=t(88848),u=t(3147),S=t(8008),z=t(96951),p=t(14351),f=t(84601),j=t(29024),D=t(52867),b=t(55519),m=t(99635),w=t(89649),y=t(44414);const x=()=>{var o,e;const[t,x]=(0,r.useState)(!1),{paginations:{pageSize:O,pageIndex:E},setPageIndex:v,setPageSize:L}=(0,w.A)(),A=(0,n.wA)(),h=(0,c.mN)({resolver:(0,d.t)(s.Ik().shape({projectId:f.A.project,storeId:f.A.store,firmId:f.A.firm})),defaultValues:{},mode:"all"}),{handleSubmit:I}=h,{projectsDropdown:H}=(0,l.Y)(),{masterMakerLovs:P}=(0,g.$)(),{organizationStores:k}=(0,u.E)(),{organizationsDropdown:C}=(0,b.G)(),R=null===H||void 0===H?void 0:H.projectsDropdownObject,N=null===(o=P.masterMakerLovsObject)||void 0===o?void 0:o.rows,B=null===k||void 0===k||null===(e=k.organizationStoreObject)||void 0===e?void 0:e.rows,M=null===C||void 0===C?void 0:C.organizationDropdownObject,{deliveryReports:V}=(0,S.r)(),{data:_,count:G}=(0,r.useMemo)((()=>{var o,e;return{data:(null===(o=V.deliveryReportsObject)||void 0===o?void 0:o.rows)||[],count:(null===(e=V.deliveryReportsObject)||void 0===e?void 0:e.count)||0,isLoading:V.loading||!1}}),[V]),T=(0,r.useMemo)((()=>[{Header:"MIV No",accessor:"referenceDocumentNumber"},{Header:"Date",accessor:"createdAt"},{Header:"Name of Contractors",accessor:"stock_ledgers[2].organization_store.name"},{Header:"E-Way Bill No",accessor:"eWayBillNumber"},{Header:"E-Way Bill Qty",accessor:"eWayBillQty"},{Header:"Total Value of Challan ",accessor:"totalChallanValue"},{Header:"MatMovementType",accessor:"stock_ledgers[1].transaction_type.name"},{Header:"ReferenceDocNo",accessor:"ReferenceDocNo"}]),[]);return(0,r.useEffect)((()=>{A((0,j.uiG)()),A((0,j._G1)())}),[A]),(0,r.useEffect)((()=>{A((0,j.d8s)((0,D.x)(N,"CONTRACTOR"))),A((0,j.qV$)({organizationType:(0,D.x)(N,"COMPANY")}))}),[A,N]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(z.Op,{methods:h,onSubmit:I((async o=>{o.pageSize=O,o.pageIndex=E,delete o.trxnType,A((0,j.ylP)(o)),x(!t)})),children:(0,y.jsxs)(p.A,{title:"Contractor Reconciliation Report",sx:{mb:2},children:[(0,y.jsxs)(a.Ay,{container:!0,spacing:4,children:[(0,y.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,y.jsx)(z.eu,{name:"projectId",label:"Project",InputLabelProps:{shrink:!0},menus:R,required:!0})}),(0,y.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,y.jsx)(z.eu,{name:"storeId",label:"Store",InputLabelProps:{shrink:!0},menus:B,required:!0})}),(0,y.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,y.jsx)(z.eu,{name:"firmId",label:"Contractor",InputLabelProps:{shrink:!0},menus:(0,D.HF)(M),required:!0})}),(0,y.jsx)(a.Ay,{container:!0,spacing:2,alignItems:"end",sx:{mt:2},children:(0,y.jsx)(a.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:(0,y.jsx)(i.A,{type:"submit",size:"small",variant:"contained",color:"primary",children:"Proceed"})})})]}),t?(0,y.jsx)(m.default,{title:"Contractor Reconciliation Report",data:_,count:G,setPageIndex:v,setPageSize:L,pageIndex:E,pageSize:O,columns:T,hideActions:!0}):null]})})})}}}]);