"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[6499,5406],{64499:(e,r,t)=>{t.d(r,{A:()=>q});var a=t(9950),i=t(65669),n=t(43263),o=t(57191),d=t(95537),s=t(67535),l=t(87233),u=t(44414);q.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},m={display:"flex",flexDirection:"row",padding:"15px 0"},g={display:"flex",justifyContent:"flex-end",gap:2},j={marginTop:2,display:"flex",fontSize:"14px"};function q(e){let{open:r,handleClose:t,title:q,message:v,closeBtnTitle:p,confirmBtnTitle:h,handleConfirm:b,confirmColor:f}=e;const[y,R]=(0,a.useState)(null);return(0,a.useEffect)((()=>{R(null)}),[r]),(0,u.jsx)("div",{children:(0,u.jsx)(i.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:n.A},slotProps:{backdrop:{timeout:500}},children:(0,u.jsx)(o.A,{in:r,children:(0,u.jsxs)(d.A,{sx:c,children:[(0,u.jsx)(l.A,{id:"transition-modal-title",variant:"h4",children:q}),(0,u.jsx)(l.A,{id:"transition-modal-title",variant:"h6",sx:m,children:v}),(0,u.jsxs)(d.A,{sx:g,children:[!!t&&(0,u.jsx)(s.A,{onClick:t,size:"small",variant:"outlined",color:"primary",children:p}),!!b&&(0,u.jsx)(s.A,{onClick:b,size:"small",variant:"contained",color:f||"error",children:h})]}),y&&(0,u.jsx)(l.A,{variant:"p",color:"red",sx:j,children:y})]})})})})}},84601:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(60666);const i=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],n=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},d=["nothing","",()=>!0],s=function(e,r,t){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new Date(e),n=new Date(r),o=new Date(t);return a?o<=i&&i<=n:o<=i&&i>=n},l={allowedColumns:a.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:a.Yj().required("Required").nullable(),formType:a.Yj().required("Required").nullable(),taskType:a.Yj().required("Required").nullable(),code:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:a.Yj().required("Required"),title:a.Yj().required("Required").nullable(),office:a.Yj().required("Required").nullable(),masterCode:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:a.Yj().required("Required"),gstNumber:a.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:a.Yj().required("Required"),storePhoto:a.Yj().required("Required"),email:a.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:a.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:a.Yj().required("Required"),nother:a.Yj().nullable().required("Required"),otherArray:a.YO().min(1,"Please select atleast one field"),areaLevel:a.YO().min(1,"Please select atleast one level."),formTitle:a.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:a.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:a.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:a.Yj().required(" "),telephone:a.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:a.Yj().required("Required"),registeredAddress:a.Yj().required("Required"),quantity:a.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:a.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:a.ai().test(...o()).test(...i).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.ai().test(...r?o():d).test(...i).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:a.Yj().required("Required"),state:a.Yj().required("Required"),city:a.Yj().required("Required"),registeredCountry:a.Yj().required("Required"),registeredState:a.Yj().required("Required"),registeredCity:a.Yj().required("Required"),organizationType:a.Yj().nullable().required("Required"),organizationCode:a.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:a.Yj().nullable().required("Required"),organizationLocationId:a.Yj().required("Required"),integrationId:a.Yj().required("Required"),firm:a.Yj().required("Required"),movementType:a.Yj().required("Required"),supplier:a.Yj().required("Required"),masterMaker:a.Yj().required("Required"),projectMasterMaker:a.Yj().required("Required"),lov:a.Yj().required("Required"),date:a.Yj().required("Required"),fromDate:a.Yj().required("Required"),toDate:a.Yj().when("fromDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:a.Yj().required("Required"),challanNumber:a.Yj().required("Required"),poNumber:a.Yj().required("Required"),workOrderNumber:a.Yj().required("Required"),receivingStore:a.Yj().required("Required"),uom:a.Yj().required("Required"),project:a.Yj().nullable().required("Required"),projectArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),organizationArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),accessProject:a.Yj().nullable().required("Required"),rate:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:a.Yj().required("Required"),rangeTo:a.Yj().required("Required"),requiredWithLabel:()=>a.Yj().nullable().required("Required"),requiredWithNonZero:e=>a.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>a.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:a.ai().required("Required"),isSerialize:a.Yj().required("Please select a checkbox"),vehicleNumber:a.Yj().required("Required"),vehicleNumberOptional:a.Yj().nullable(),inventoryNameOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:a.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:a.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:a.Yj().required("Required"),eWayBillNumber:a.Yj().required("Required"),eWayBillDate:a.Yj().required("Required"),actualReceiptDate:a.Yj().when("eWayBillDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:a.Yj().nullable().required("Required"),placeOfTransfer:a.Yj().required("Required"),contractorStore:a.Yj().nullable().required("Required"),projectSiteStoreLocation:a.Yj().required("Required"),contractorStoreLocation:a.Yj().nullable().required("Required"),contractorEmployee:a.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>a.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:a.Yj().required("Required"),longDescription:a.Yj().required("Required"),hsnCode:a.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:a.Yj().required("Required"),store:a.Yj().nullable().required("Required"),accessStore:a.Yj().nullable().required("Required"),series:a.Yj().required("Required"),material:a.Yj().required("Required"),materialType:a.Yj().required("Required"),materialCode:a.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:a.Yj().nullable().required("Required"),accessOrganizationId:a.Yj().nullable().required("Required"),company:a.Yj().required("Required"),contractor:a.Yj().nullable().required("Required"),contractorId:a.Yj().required("Required"),fromInstaller:a.Yj().nullable().required("Required"),toInstaller:a.Yj().nullable().required("Required"),fromStoreLocationId:a.Yj().nullable().required("Required"),toStoreLocationId:a.Yj().nullable().required("Required"),storeLocationId:a.Yj().nullable().required("Required"),installerStoreLocationId:a.Yj().nullable().required("Required"),accessStoreLocationId:a.Yj().nullable().required("Required"),fromStore:a.Yj().nullable().required("Required"),toStore:a.Yj().required("Required"),transporterName:a.Yj().required("Required"),customerSiteStoreId:a.Yj().nullable().required("Required"),toCustomerId:a.Yj().nullable().required("Required"),financialYear:a.Yj().required("Required"),user:a.Yj().required("Required"),accessUser:a.Yj().nullable().required("Required"),rightsFor:a.Yj().nullable().required("Required"),gaaLevelId:a.Yj().nullable().required("Required"),networkLevelId:a.Yj().nullable().required("Required"),server:a.Yj().required("Required"),port:a.Yj().required("Required"),encryption:a.Yj().required("Required"),requisitionNumber:a.Yj().nullable().required("Required"),password:a.Yj().required("Required"),transaction:a.Yj().nullable().required("Required"),serviceCenter:a.Yj().nullable().required("Required"),scrapLocation:a.Yj().nullable().required("Required"),effectiveFrom:a.Yj().required("Required"),effectiveTo:a.Yj().required("Required"),displayName:a.Yj().required("Required"),templateName:a.Yj().required("Required"),subject:a.Yj().required("Required"),from:a.Yj().required("Required"),to:a.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:a.Yj().required("Required"),attachmentsWhenIsAuthorized:a.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:a.Yj().nullable().required("Required")}),requestNumber:a.Yj().required("Required"),remarks:a.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:a.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:a.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>a.Yj().required("Required"),startDateRange:(e,r,t)=>a.Yj().required("Required").test("date-comparison",`${r} must be >= ${t}`,(function(r){return function(e,r){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=new Date(e),i=new Date(r);return t?a<=i:a>=i}(r,e,!1)})),endDateRange:(e,r,t,i,n,o)=>a.Yj().required("Required").test("date-comparison",`${t} must be <= ${i} and >= ${n}`,(function(t){return s(t,e,r,!o)})),endDateRangeMax:(e,r,t,i,n,o)=>a.Yj().required("Required").test("date-comparison",`${t} must be >= ${i} and >= ${n}`,(function(t){return s(t,e,r,!o)})),month:e=>a.ai().test(...o(e)).test(...n).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,t)=>a.ai().test(...o(r)).test(...n).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${t}`),checkQty:e=>a.ai().test(...o(e)).test(...i).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:a.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},89649:(e,r,t)=>{t.d(r,{A:()=>n});var a=t(9950),i=t(80415);function n(){const[e,r]=(0,a.useState)({pageIndex:i.j7.pageIndex,pageSize:i.j7.pageSize,forceUpdate:!0}),t=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;r((e=>({pageIndex:t,pageSize:a,forceUpdate:!e.forceUpdate})))}),[e]),n=(0,a.useCallback)((()=>{r((e=>({pageIndex:i.j7.pageIndex,pageSize:i.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>r((r=>({...r,pageIndex:e,forceUpdate:!r.forceUpdate}))),setPageSize:e=>r((r=>({pageIndex:i.j7.pageIndex,pageSize:e,forceUpdate:!r.forceUpdate}))),refreshPagination:n,setPaginationsFunctions:t}}},24618:(e,r,t)=>{t.d(r,{L:()=>n});var a=t(9950),i=t(27081);const n=()=>{const[e,r]=(0,a.useState)({gaaObject:{},error:"",loading:!0}),[t,n]=(0,a.useState)({gaaProjectsObject:[],error:"",loading:!0}),[o,d]=(0,a.useState)({gaaLevelProjectsObject:[],error:"",loading:!0}),[s,l]=(0,a.useState)({gaaLevelParentsObject:[],error:"",loading:!0}),[u,c]=(0,a.useState)({projectAreaLevelsObject:[],error:"",loading:!1}),[m,g]=(0,a.useState)({gaaHistoryObject:{},error:"",loading:!0}),[j,q]=(0,a.useState)({gaaLevelEntryHistoryObject:{},error:"",loading:!0}),v=(0,i.d4)((e=>e.gaa||{})),p=(0,i.d4)((e=>e.gaaProjects||{})),h=(0,i.d4)((e=>e.gaaLevelProjects||{})),b=(0,i.d4)((e=>e.gaaLevelParents||{})),f=(0,i.d4)((e=>e.projectAreaLevels||{})),y=(0,i.d4)((e=>e.gaaHistory||{})),R=(0,i.d4)((e=>e.gaaLevelEntryHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{n((e=>({...e,...p})))}),[p]),(0,a.useEffect)((()=>{d((e=>({...e,...h})))}),[h]),(0,a.useEffect)((()=>{l((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{c((e=>({...e,...f})))}),[f]),(0,a.useEffect)((()=>{g((e=>({...e,...y})))}),[y]),(0,a.useEffect)((()=>{q((e=>({...e,...R})))}),[R]),{gaa:e,gaaProjects:t,gaaLevelProjects:o,gaaLevelParents:s,projectAreaLevels:u,gaaHistory:m,gaaLevelEntryHistory:j}}},88848:(e,r,t)=>{t.d(r,{$:()=>n});var a=t(9950),i=t(27081);const n=()=>{const[e,r]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[t,n]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[o,d]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[s,l]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[u,c]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[m,g]=(0,a.useState)({currencyObject:[],error:"",loading:!0}),[j,q]=(0,a.useState)({gstStatusObject:[],error:"",loading:!0}),[v,p]=(0,a.useState)({paymentTermObject:[],error:"",loading:!0}),[h,b]=(0,a.useState)({incotermsObject:[],error:"",loading:!0}),[f,y]=(0,a.useState)({titleObject:[],error:"",loading:!0}),[R,S]=(0,a.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),Y=(0,i.d4)((e=>e.masterMakerLov||{})),A=(0,i.d4)((e=>e.masterMakerLovList||{})),x=(0,i.d4)((e=>e.lovsForMasterName||[])),z=(0,i.d4)((e=>e.lovsForMasterNameSecond||[])),E=(0,i.d4)((e=>e.lovsForMasterNameThird||[])),w=(0,i.d4)((e=>e.currency||[])),L=(0,i.d4)((e=>e.gstStatus||[])),O=(0,i.d4)((e=>e.paymentTerm||[])),k=(0,i.d4)((e=>e.incoterms||[])),D=(0,i.d4)((e=>e.title||[])),I=(0,i.d4)((e=>e.masterMakerLovHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...Y})))}),[Y]),(0,a.useEffect)((()=>{n((e=>({...e,...A})))}),[A]),(0,a.useEffect)((()=>{d((e=>({...e,...x})))}),[x]),(0,a.useEffect)((()=>{l((e=>({...e,...z})))}),[z]),(0,a.useEffect)((()=>{c((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{g((e=>({...e,...w})))}),[w]),(0,a.useEffect)((()=>{q((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{p((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{b((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{y((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{S((e=>({...e,...I})))}),[I]),{masterMakerLovs:e,masterMakerLovsList:t,masterMakerOrgType:o,masterMakerOrgTypeSecond:s,masterMakerOrgTypeThird:u,masterMakerCurrency:m,masterMakerGstStatus:j,masterMakerIncoterms:h,masterMakerPaymentTerm:v,masterMakerLovHistory:R,masterMakerTitle:f}}},55519:(e,r,t)=>{t.d(r,{G:()=>n});var a=t(9950),i=t(27081);const n=()=>{const[e,r]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[t,n]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[o,d]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[s,l]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[u,c]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[m,g]=(0,a.useState)({organizationLocationObject:{},error:"",loading:!0}),[j,q]=(0,a.useState)({organizationGetListObject:{},error:"",loading:!0}),[v,p]=(0,a.useState)({organizationDropdownObject:[],error:"",loading:!0}),[h,b]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[f,y]=(0,a.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[R,S]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[Y,A]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[x,z]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[E,w]=(0,a.useState)({organizationHistoryObject:{},error:"",loading:!0}),L=(0,i.d4)((e=>e.organization||[])),O=(0,i.d4)((e=>e.organizationAllData||[])),k=(0,i.d4)((e=>e.organizationAllDataSecond||[])),D=(0,i.d4)((e=>e.organizationLocationByParent||[])),I=(0,i.d4)((e=>e.organizationLocationByParentSecond||[])),P=(0,i.d4)((e=>e.organizationLocation||[])),$=(0,i.d4)((e=>e.organizationListData||[])),N=(0,i.d4)((e=>e.organizationList||[])),T=(0,i.d4)((e=>e.organizationDropdown||[])),H=(0,i.d4)((e=>e.organizationLocationDropdown||[])),C=(0,i.d4)((e=>e.organizationLocationDropdownSecond||[])),M=(0,i.d4)((e=>e.organizationDropdownSecond||[])),F=(0,i.d4)((e=>e.organizationListSecond||[])),_=(0,i.d4)((e=>e.organizationHistory||[]));return(0,a.useEffect)((()=>{r((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{n((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{d((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{l((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{c((e=>({...e,...I})))}),[I]),(0,a.useEffect)((()=>{g((e=>({...e,...P})))}),[P]),(0,a.useEffect)((()=>{q((e=>({...e,...$})))}),[$]),(0,a.useEffect)((()=>{p((e=>({...e,...T})))}),[T]),(0,a.useEffect)((()=>{b((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{S((e=>({...e,...C})))}),[C]),(0,a.useEffect)((()=>{y((e=>({...e,...M})))}),[M]),(0,a.useEffect)((()=>{A((e=>({...e,...N})))}),[N]),(0,a.useEffect)((()=>{z((e=>({...e,...F})))}),[F]),(0,a.useEffect)((()=>{w((e=>({...e,..._})))}),[_]),{organizations:e,organizationsAllData:t,organizationsAllDataSecond:o,organizationsLocByParent:s,organizationsLocByParentSecond:u,organizationsGetListData:j,organizationsDropdown:v,organizationsDropdownSecond:f,organizationsList:Y,organizationsListSecond:x,organizationHistory:E,organizationsLocation:m,organizationsLocationDropdown:h,organizationsLocationDropdownSecond:R}}},80733:(e,r,t)=>{t.d(r,{Y:()=>n});var a=t(9950),i=t(27081);const n=()=>{const[e,r]=(0,a.useState)({projectsObject:{},error:"",loading:!0}),[t,n]=(0,a.useState)({projectDetailsObject:{},error:"",loading:!0}),[o,d]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[s,l]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[u,c]=(0,a.useState)({projectsObject:[],error:"",loading:!0}),[m,g]=(0,a.useState)({projectsHistoryObject:{},error:"",loading:!0}),j=(0,i.d4)((e=>e.projects||{})),q=(0,i.d4)((e=>e.projectDetails||{})),v=(0,i.d4)((e=>e.projectsDropdown||[])),p=(0,i.d4)((e=>e.allProjectsDropdown||[])),h=(0,i.d4)((e=>e.projectsForRoleOrUser||[])),b=(0,i.d4)((e=>e.projectsHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...j})))}),[j]),(0,a.useEffect)((()=>{n((e=>({...e,...q})))}),[q]),(0,a.useEffect)((()=>{d((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{l((e=>({...e,...p})))}),[p]),(0,a.useEffect)((()=>{c((e=>({...e,...h})))}),[h]),(0,a.useEffect)((()=>{g((e=>({...e,...b})))}),[b]),{projects:e,projectsDropdown:o,allProjectsDropdown:s,projectsHistory:m,projectsGovernForRoleOrUser:u,projectDetails:t}}},66004:(e,r,t)=>{t.d(r,{k:()=>i});var a=t(27081);const i=()=>({users:(0,a.d4)((e=>e.users)),usersByPermission:(0,a.d4)((e=>e.usersByPermission)),usersWithForms:(0,a.d4)((e=>e.usersWithForms)),usersSecond:(0,a.d4)((e=>e.usersSecond)),usersHistory:(0,a.d4)((e=>e.usersHistory)),supervisorUsers:(0,a.d4)((e=>e.supervisorUsers))})},42572:(e,r,t)=>{t.r(r),t.d(r,{default:()=>L});var a=t(9950),i=t(27081),n=t(28429),o=t(96583),d=t(80733),s=t(55519),l=t(66004),u=t(88848),c=t(12257),m=t(4139),g=t(87233),j=t(67535),q=t(60666),v=t(9449),p=t(26473),h=t(71826),b=t(24618),f=t(96951),y=t(14351),R=t(84601),S=t(29024),Y=t(62054),A=t(44414);const x=e=>{var r,t,n,o,d,s;const l=(0,i.wA)(),{setRefresh:u,projectData:x,selectedProject:z,organizationNameData:E,organizationTypeData:w,userData:L,selectedRecord:O,setSelectedRecords:k,setSelectedUser:D,setSelectedOrganizationType:I,setSelectedOrganizationName:P,setSelectedOrganizationNameOuter:$,setSelectedProject:N,selectedHierarchy:T,setSelectedHierarchy:H,showAdd:C,setShowAdd:M}=e,F=(0,v.mN)({resolver:(0,p.t)(q.Ik().shape({projectId:R.A.other,hierarchyType:R.A.other,oraganizationType:R.A.other,oraganizationId:R.A.other})),defaultValues:{gaaLevelEntryId0:[]},mode:"all"}),{handleSubmit:_,setValue:Z,watch:B}=F,U=B();(0,a.useEffect)((()=>{Z("dateFrom",(new Date).toISOString().slice(0,10))}),[Z,C]),(0,a.useEffect)((()=>{z&&l((0,S.aT5)(z))}),[l,z]);const{projectAreaLevels:W}=(0,b.L)(),{hierarchyLevelsData:V}=(0,a.useMemo)((()=>({hierarchyLevelsData:(null===W||void 0===W?void 0:W.projectAreaLevelsObject)||[]})),[W]),G=()=>{P(),D(),k([]),H(),I(),F.reset(),M(!1)},Q=(e,r,t,a,i)=>(0,A.jsx)(c.A,{children:(0,A.jsx)(f.eu,{name:e,label:r,onChange:i,InputLabelProps:{shrink:!0},menus:t,...a&&{required:!0}})}),K=e=>{var r;I(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)},J=null===(r=V[0])||void 0===r?void 0:r.gaaLevels.find((e=>"1"===e.isMapped)),X=(0,a.useCallback)(((e,r)=>{const t=r-1;return null!==U&&void 0!==U&&U[`gaaLevelEntryId${t}`]?e.gaa_level_entries.filter((e=>{var r;return null===U||void 0===U||null===(r=U[`gaaLevelEntryId${t}`])||void 0===r?void 0:r.includes(null===e||void 0===e?void 0:e.parentId)})):e.gaa_level_entries}),[U]),ee=(0,a.useCallback)(((e,r,t,a,i)=>{(t=structuredClone(t))[`gaaLevelEntryId${e}`]=i;let n=e;for(;n<(a?r.length-1:r.length);){var o,d,s;const e=`gaaLevelEntryId${n+1}`,a=`gaaLevelEntryId${n}`,i=r[n+1],l=null!==(o=t)&&void 0!==o&&o[a]&&null!==i&&void 0!==i&&i.gaa_level_entries?null===i||void 0===i||null===(d=i.gaa_level_entries)||void 0===d?void 0:d.filter((e=>{var r,i;return null===(r=t)||void 0===r||null===(i=r[a])||void 0===i?void 0:i.includes(null===e||void 0===e?void 0:e.parentId)})):(null===i||void 0===i?void 0:i.gaa_level_entries)||[],u=Array.isArray(t[e])&&(null===(s=t[e])||void 0===s?void 0:s.filter((e=>l.some((r=>r.id===e)))))||[];Z(e,u),t[e]=u,n+=1}}),[Z]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(f.Op,{methods:F,onSubmit:_((async e=>{e=structuredClone(e);const r=Object.keys(e).filter((r=>r.startsWith("gaaLevelEntryId")&&e[r].length>0)).map((e=>parseInt(e.match(/-?\d+$/)[0])));if(r.length>0){const t=Math.max(...r);e.gaaLevelEntryId=e[`gaaLevelEntryId${t}`]}if(O.length){delete e.oraganizationId,delete e.organizationType,delete e.oraganizationIds,delete e.organizationTypes,delete e.userSelected,e.userId=O,e.isActive=1;let r=await(0,h.default)("/work-area-assignment-create",{method:"POST",body:e});if(r.success){const e="Work Area Assigned Successfully!";(0,Y.A)(e,{variant:"success",autoHideDuration:1e4}),u(),G()}else{var t;(0,Y.A)((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Something went wrong",{variant:"error"})}}else(0,Y.A)("Please select atleast one user.",{variant:"error"})})),children:(0,A.jsx)(y.A,{title:(0,A.jsxs)(m.Ay,{container:!0,xl:12,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,A.jsx)(m.Ay,{item:!0,children:(0,A.jsx)(g.A,{variant:"h4",children:"Work Area Allocation"})}),C?(0,A.jsxs)(m.Ay,{item:!0,sx:{display:"flex",gap:2},children:[(0,A.jsx)(j.A,{size:"small",variant:"outlined",color:"primary",onClick:G,children:"Back"}),(0,A.jsx)(j.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Save"})]}):(0,A.jsx)(m.Ay,{item:!0,sx:{display:"flex"},children:(0,A.jsx)(j.A,{size:"small",variant:"contained",color:"primary",onClick:()=>{M(!0)},children:"Assign New Area"})})]}),sx:{mb:2},children:C?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(m.Ay,{container:!0,rowSpacing:2,columnSpacing:4,children:[(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("projectId","Project",x,!0,(e=>{var r;N(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}))}),(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("hierarchyType","Hierarchy Type",[{id:"gaa",name:"Gaa"},{id:"network",name:"Network"}],!0,(e=>{var r;Object.keys(F.getValues()).forEach((e=>{e.startsWith("gaaLevelEntryId")&&F.setValue(e,[])})),H(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}))}),z?"gaa"===T?V&&null!==(t=V[0])&&void 0!==t&&null!==(n=t.gaaLevels)&&void 0!==n&&n.length?null===(o=V[0])||void 0===o?void 0:o.gaaLevels.map(((e,r)=>{var t,a;return(0,A.jsx)(m.Ay,{item:!0,md:10,xl:10,children:(0,A.jsx)(f.Yq,{name:`gaaLevelEntryId${r}`,label:e.name,onChange:ee.bind(null,r,null===(t=V[0])||void 0===t?void 0:t.gaaLevels,U,!0),menus:X(e,r),disable:0!==r&&!(null!==U&&void 0!==U&&null!==(a=U["gaaLevelEntryId"+(r-1)])&&void 0!==a&&a.length)})},e.id)})):(0,A.jsx)(A.Fragment,{}):"network"===T?(0,A.jsxs)(A.Fragment,{children:[J&&(0,A.jsx)(m.Ay,{item:!0,md:10,xl:10,children:(0,A.jsx)(f.Yq,{name:"gaaLevelEntryId0",label:J.name,menus:J.gaa_level_entries,onChange:ee.bind(null,0,V[1].networkLevels,U,!1)})},J.id),V&&null!==(d=V[1])&&void 0!==d&&null!==(s=d.networkLevels)&&void 0!==s&&s.length?V[1].networkLevels.map(((e,r)=>{var t;return(0,A.jsx)(m.Ay,{item:!0,md:10,xl:10,children:(0,A.jsx)(f.Yq,{name:`gaaLevelEntryId${r+1}`,label:e.name,menus:X(e,r+1),onChange:ee.bind(null,r+1,V[1].networkLevels,U,!1),disable:!(null!==U&&void 0!==U&&null!==(t=U[`gaaLevelEntryId${r}`])&&void 0!==t&&t.length)})},e.id)})):(0,A.jsx)(A.Fragment,{})]}):(0,A.jsx)(A.Fragment,{}):(0,A.jsx)(A.Fragment,{})]}),(0,A.jsxs)(m.Ay,{container:!0,rowSpacing:2,columnSpacing:4,sx:{mt:2,pb:2},children:[(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("oraganizationType","Organization Type",w,!0,K)}),(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("oraganizationId","Organization Name",E,!0,(e=>{var r;P(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}))}),(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:function(e,r,t,a,i){let n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return(0,A.jsx)(f.o3,{name:e,type:t,label:r,InputLabelProps:{shrink:n},...i&&{required:!0},defaultValue:a})}("dateFrom","Allocation Date","date")})]})]}):(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(m.Ay,{container:!0,spacing:4,children:[(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("oraganizationTypes","Organization Type",w,!0,K)}),(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("oraganizationIds","Organization Name",E,!0,(e=>{var r;$(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}))}),(0,A.jsx)(m.Ay,{item:!0,md:3,xl:3,children:Q("userSelected","Select User",L,!0,(e=>{var r;D(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}))})]})})})})})};var z=t(89649),E=t(99635),w=t(64499);const L=()=>{var e;const[r,t]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),[q,v]=(0,a.useState)(null),[p,b]=(0,a.useState)(null),[f,y]=(0,a.useState)([]),[R,L]=(0,a.useState)(""),[O,k]=(0,a.useState)(""),[D,I]=(0,a.useState)(""),[P,$]=(0,a.useState)(),[N,T]=(0,a.useState)(""),[H,C]=(0,a.useState)(""),[M,F]=(0,a.useState)(null),_=(0,i.wA)(),{paginations:{pageSize:Z,pageIndex:B,forceUpdate:U},refreshPagination:W,setPageIndex:V,setPageSize:G}=(0,z.A)();(0,a.useEffect)((()=>{_((0,S.uiG)()),_((0,S.VOH)("ORGANIZATION TYPE"))}),[_]),(0,a.useEffect)((()=>{P&&_((0,S.x19)({pageIndex:B,pageSize:Z,userId:P}))}),[_,B,Z,P,U]),(0,a.useEffect)((()=>{null!==q&&void 0!==q&&q.id&&_((0,S.w6F)({pageIndex:B,pageSize:Z,recordId:null===q||void 0===q?void 0:q.id}))}),[_,B,Z,U,q]),(0,a.useEffect)((()=>{D&&_((0,S.loF)({organizationId:D}))}),[_,D]),(0,a.useEffect)((()=>{O&&_((0,S.o7G)({organizationId:O}))}),[_,O]),(0,a.useEffect)((()=>{R&&_((0,S.d8s)(R))}),[_,R]);const{masterMakerOrgType:Q}=(0,u.$)(),K=null===Q||void 0===Q?void 0:Q.masterObject,{projectsDropdown:J}=(0,d.Y)(),{organizationsDropdown:X}=(0,s.G)(),{workAreaAssignments:ee,workAreaAssignmentHistory:re}=(()=>{const[e,r]=(0,a.useState)({workAreaAssignmentsObject:{},error:"",loading:!0}),[t,n]=(0,a.useState)({workAreaAssignmentHistoryObject:{},error:"",loading:!0}),o=(0,i.d4)((e=>e.workAreaAssignments||{})),d=(0,i.d4)((e=>e.workAreaAssignmentHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...o})))}),[o]),(0,a.useEffect)((()=>{n((e=>({...e,...d})))}),[d]),{workAreaAssignments:e,workAreaAssignmentHistory:t}})(),te=null===J||void 0===J?void 0:J.projectsDropdownObject,ae=null===X||void 0===X?void 0:X.organizationDropdownObject,{users:ie,usersWithForms:ne}=(0,l.k)(),oe=(null===(e=ie.usersObject)||void 0===e?void 0:e.rows)||[],{data:de,count:se}=(0,a.useMemo)((()=>{var e;return{data:(null===ne||void 0===ne?void 0:ne.usersWithForms)||[],count:(null===ne||void 0===ne||null===(e=ne.usersWithForms)||void 0===e?void 0:e.length)||0}}),[ne]),{workAssignmentData:le,workAssignmentCount:ue}=(0,a.useMemo)((()=>{var e,r;return{workAssignmentData:(null===(e=ee.workAreaAssignmentsObject)||void 0===e?void 0:e.data)||[],workAssignmentCount:(null===(r=ee.workAreaAssignmentsObject)||void 0===r?void 0:r.count)||0,isLoading:ee.loading||!1}}),[ee]),{historyData:ce,historyCounts:me}=(0,a.useMemo)((()=>{var e,r;return{historyData:(null===(e=re.workAreaAssignmentHistoryObject)||void 0===e?void 0:e.data)||[],historyCounts:(null===(r=re.workAreaAssignmentHistoryObject)||void 0===r?void 0:r.count)||0,isLoading:re.loading||!1}}),[re]),ge=(0,a.useMemo)((()=>[{Header:"Name",accessor:"name"},{Header:"Code",accessor:"code"},{Header:"Mobile Number",accessor:"mobileNumber"},{Header:"Forms Assigned",accessor:e=>e.forms.map(((r,t)=>(0,A.jsxs)(a.Fragment,{children:[r,t!==e.forms.length-1&&(0,A.jsx)("br",{})]},e.forms.name)))}]),[]),je=(0,a.useMemo)((()=>[{Header:"Name",accessor:"user.name"},{Header:"Project",accessor:"project.name"},{Header:"Level",accessor:e=>{var r,t;return(null===(r=e.gaa_hierarchy)||void 0===r?void 0:r.name)||(null===(t=e.network_hierarchy)||void 0===t?void 0:t.name)}},{Header:"Level Entry",accessor:e=>e.gaaLevelEntryNames.map(((r,t)=>(0,A.jsxs)(a.Fragment,{children:[r,t!==e.gaaLevelEntryNames.length-1&&(0,A.jsx)("br",{})]},r)))||e.networkLevelEntryNames.map(((r,t)=>(0,A.jsxs)(a.Fragment,{children:[r,t!==e.networkLevelEntryNames.length-1&&(0,A.jsx)("br",{})]},r)))},{Header:"Allocation Date",accessor:"dateFrom"}]),[]),qe=(0,a.useMemo)((()=>[{Header:"Name",accessor:"user.name"},{Header:"Project",accessor:"project.name"},{Header:"Level",accessor:e=>{var r,t;return(null===(r=e.gaa_hierarchy)||void 0===r?void 0:r.name)||(null===(t=e.network_hierarchy)||void 0===t?void 0:t.name)}},{Header:"Level Entry",accessor:e=>e.gaaLevelEntryNames.map(((r,t)=>(0,A.jsxs)(a.Fragment,{children:[r,t!==e.gaaLevelEntryNames.length-1&&(0,A.jsx)("br",{})]},r)))||e.networkLevelEntryNames.map(((r,t)=>(0,A.jsxs)(a.Fragment,{children:[r,t!==e.networkLevelEntryNames.length-1&&(0,A.jsx)("br",{})]},r)))},{Header:"Allocation Date",accessor:"dateFrom"},{Header:"Expiry Date",accessor:"dateTo"}]),[]),ve=(0,n.Zp)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x,{setRefresh:()=>{F(null)},projectData:te,selectedOrganizationType:R,setSelectedOrganizationType:L,setSelectedOrganizationNameOuter:I,selectedOrganizationName:O,setSelectedOrganizationName:k,organizationNameData:ae,organizationTypeData:K,setSelectedUser:$,selectedProject:N,setSelectedProject:T,setSelectedHierarchy:C,selectedHierarchy:H,selectedRecord:f,setSelectedRecords:y,userData:oe,showAdd:r,setShowAdd:t,...M&&{data:M}}),r?O&&(0,A.jsx)(E.default,{title:"Select User",hideAddButton:!0,hideExportButton:!0,hideActions:!0,data:de,columns:ge,count:se,setPageIndex:V,setPageSize:G,pageIndex:B,pageSize:Z,showCheckbox:!0,selectedRecord:f,setSelectedRecords:y}):P&&(0,A.jsx)(E.default,{hideHeader:!0,hideViewIcon:!0,hidePagination:!0,data:le,columns:je,count:ue,setPageIndex:V,setPageSize:G,pageIndex:B,pageSize:Z,handleRowUpdate:async e=>{ve("/edit-work-area-allocation/"+(null===e||void 0===e?void 0:e.userId))},handleRowDelete:async e=>{b(e),m(!0)},handleRowHistory:e=>{v(e),j(!0)}}),(0,A.jsx)(w.A,{open:c,handleClose:()=>m(!1),handleConfirm:async()=>{const e=await(0,h.default)("/work-area-assignment-delete",{method:"DELETE",params:p});var r;e.success?(W(),m(!1)):(0,Y.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message,{variant:"error"})},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),(0,A.jsx)(o.A,{open:g,onClose:()=>j(!1),scroll:"paper",disableEscapeKeyDown:!0,maxWidth:"lg",children:(0,A.jsx)(E.default,{isHistory:!0,title:"Work Area Allocation",data:ce,columns:qe,count:me,hideActions:!0,hideSearch:!0,hideAddButton:!0,hideExportButton:!0,setPageIndex:V,setPageSize:G,pageIndex:B,pageSize:Z})})]})}},13239:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(89379),i=t(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var o=t(14840),d=function(e,r){return i.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:r,icon:n}))};const s=i.forwardRef(d)},26592:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(79526)),n=t(44414);r.A=(0,i.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(79526)),n=t(44414);r.A=(0,i.default)((0,n.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);