"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[7042],{75491:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(59019),n=o(60764),r=o.n(n);const i=function(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;const i=new a.jsPDF({orientation:"landscape"});i.setFont("Times-Roman","normal"),i.setFontSize(16),i.text(e.replace(/-/g," "),15,10,{fontSize:20}),n&&(i.setFont("Times-Roman","bold"),i.setFontSize(20),i.text(n.heading,i.internal.pageSize.width/2,20,{align:"center",marginTop:20,marginBottom:20}),i.setFont("Times-Roman","normal"),i.setFontSize(12),i.text("",15,20),i.text(`${n.subHead1}: ${n.subCont1}`,15,40,{marginTop:20,marginBottom:20,fontSize:12}),i.text(`${n.subHead2}: ${n.subCont2}`,15,50,{marginTop:20,marginBottom:20,fontSize:12})),i.text("",15,20),i.text("",15,20),r()(i,{head:t,body:o,...n&&{startY:65}}),n&&(i.text("",15,20),i.text("",15,20),i.setFontSize(16),i.text(`${n.subSign1}                                                  ${n.subSign2}`,i.internal.pageSize.width/2,i.internal.pageSize.height-20,{align:"center",marginTop:20,marginBottom:20,fontSize:14})),i.save(e+".pdf")}},89649:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(9950),n=o(80415);function r(){const[e,t]=(0,a.useState)({pageIndex:n.j7.pageIndex,pageSize:n.j7.pageSize,forceUpdate:!0}),o=(0,a.useCallback)((function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;t((e=>({pageIndex:o,pageSize:a,forceUpdate:!e.forceUpdate})))}),[e]),r=(0,a.useCallback)((()=>{t((e=>({pageIndex:n.j7.pageIndex,pageSize:n.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>t((t=>({...t,pageIndex:e,forceUpdate:!t.forceUpdate}))),setPageSize:e=>t((t=>({pageIndex:n.j7.pageIndex,pageSize:e,forceUpdate:!t.forceUpdate}))),refreshPagination:r,setPaginationsFunctions:o}}},3147:(e,t,o)=>{o.d(t,{E:()=>r});var a=o(9950),n=o(27081);const r=()=>{const[e,t]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[o,r]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[i,s]=(0,a.useState)({organizationStoreObject:[],error:"",loading:!0}),[l,d]=(0,a.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[c,g]=(0,a.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[u,p]=(0,a.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[S,z]=(0,a.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[f,m]=(0,a.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),b=(0,n.d4)((e=>e.organizationStores||{})),v=(0,n.d4)((e=>e.organizationStoresAllAccess||{})),j=(0,n.d4)((e=>e.organizationStoresSecond||[])),h=(0,n.d4)((e=>e.organizationStoreDropdown||[])),A=(0,n.d4)((e=>e.organizationStoreDropdownSecond||[])),I=(0,n.d4)((e=>e.orgStoreDropDown||[])),x=(0,n.d4)((e=>e.orgViewStoreDropDown||[])),D=(0,n.d4)((e=>e.organizationStoresHistory||[]));return(0,a.useEffect)((()=>{t((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{r((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{s((e=>({...e,...j})))}),[j]),(0,a.useEffect)((()=>{d((e=>({...e,...h})))}),[h]),(0,a.useEffect)((()=>{g((e=>({...e,...A})))}),[A]),(0,a.useEffect)((()=>{p((e=>({...e,...I})))}),[I]),(0,a.useEffect)((()=>{z((e=>({...e,...x})))}),[x]),(0,a.useEffect)((()=>{m((e=>({...e,...D})))}),[D]),{organizationStores:e,organizationStoresSecond:i,organizationStoresDropdown:l,orgStoreDropDown:u,orgViewStoreDropDown:S,organizationStoresHistory:f,organizationStoresAllAccess:o,organizationStoresDropdownSecond:c}}},55519:(e,t,o)=>{o.d(t,{G:()=>r});var a=o(9950),n=o(27081);const r=()=>{const[e,t]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[o,r]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[i,s]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[l,d]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[c,g]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[u,p]=(0,a.useState)({organizationLocationObject:{},error:"",loading:!0}),[S,z]=(0,a.useState)({organizationGetListObject:{},error:"",loading:!0}),[f,m]=(0,a.useState)({organizationDropdownObject:[],error:"",loading:!0}),[b,v]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[j,h]=(0,a.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[A,I]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[x,D]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[w,y]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[C,E]=(0,a.useState)({organizationHistoryObject:{},error:"",loading:!0}),O=(0,n.d4)((e=>e.organization||[])),L=(0,n.d4)((e=>e.organizationAllData||[])),T=(0,n.d4)((e=>e.organizationAllDataSecond||[])),P=(0,n.d4)((e=>e.organizationLocationByParent||[])),H=(0,n.d4)((e=>e.organizationLocationByParentSecond||[])),M=(0,n.d4)((e=>e.organizationLocation||[])),k=(0,n.d4)((e=>e.organizationListData||[])),F=(0,n.d4)((e=>e.organizationList||[])),B=(0,n.d4)((e=>e.organizationDropdown||[])),U=(0,n.d4)((e=>e.organizationLocationDropdown||[])),V=(0,n.d4)((e=>e.organizationLocationDropdownSecond||[])),R=(0,n.d4)((e=>e.organizationDropdownSecond||[])),$=(0,n.d4)((e=>e.organizationListSecond||[])),N=(0,n.d4)((e=>e.organizationHistory||[]));return(0,a.useEffect)((()=>{t((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{r((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{s((e=>({...e,...T})))}),[T]),(0,a.useEffect)((()=>{d((e=>({...e,...P})))}),[P]),(0,a.useEffect)((()=>{g((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{p((e=>({...e,...M})))}),[M]),(0,a.useEffect)((()=>{z((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{m((e=>({...e,...B})))}),[B]),(0,a.useEffect)((()=>{v((e=>({...e,...U})))}),[U]),(0,a.useEffect)((()=>{I((e=>({...e,...V})))}),[V]),(0,a.useEffect)((()=>{h((e=>({...e,...R})))}),[R]),(0,a.useEffect)((()=>{D((e=>({...e,...F})))}),[F]),(0,a.useEffect)((()=>{y((e=>({...e,...$})))}),[$]),(0,a.useEffect)((()=>{E((e=>({...e,...N})))}),[N]),{organizations:e,organizationsAllData:o,organizationsAllDataSecond:i,organizationsLocByParent:l,organizationsLocByParentSecond:c,organizationsGetListData:S,organizationsDropdown:f,organizationsDropdownSecond:j,organizationsList:x,organizationsListSecond:w,organizationHistory:C,organizationsLocation:u,organizationsLocationDropdown:b,organizationsLocationDropdownSecond:A}}},67042:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var a=o(4139),n=o(67535),r=o(95537),i=o(60666),s=o(9449),l=o(26473),d=o(9950),c=o(27081),g=o(80733),u=o(40761),p=o(89649),S=o(96951),z=o(14351),f=o(29024),m=o(84601),b=o(55519),v=o(3147),j=o(99635),h=o(75491),A=o(44414);const I="decb6c57-6d85-4f83-9cc2-50e0630003df",x=[{Header:"Project",accessor:"project"},{Header:"Contractor Name",accessor:"contractorName"},{Header:"Store Name",accessor:"store"},{Header:"Material Type",accessor:"materialType"},{Header:"At Contractor",accessor:"receivedAtContractor"},{Header:"At Installer",accessor:"receivedAtInstaller"},{Header:"Installed",accessor:"installed"},{Header:"Available At Contractor",accessor:"availableAtContractor"},{Header:"Available At Installer",accessor:"availableAtInstaller"}],D=()=>{const[e,t]=(0,d.useState)(!1),[o,D]=(0,d.useState)(null),[w,y]=(0,d.useState)(null),[C,E]=(0,d.useState)(null),[O,L]=(0,d.useState)(null),[T,P]=(0,d.useState)(null),H=(0,c.wA)(),M=(0,s.mN)({resolver:(0,l.t)(i.Ik().shape({projectId:m.A.projectArr})),defaultValues:{},mode:"all"}),{paginations:{pageSize:k,pageIndex:F},setPageIndex:B,setPageSize:U}=(0,p.A)(),{handleSubmit:V,setValue:R}=M,{projectsDropdown:$}=(0,g.Y)(),{organizationStoresDropdown:N}=(0,v.E)(),{organizationsDropdown:q}=(0,b.G)(),{contractorWiseMaterialSummaryReport:G,materialTypeForReport:W}=(0,u.r)(),[Z,Y]=(0,d.useState)([]),{materialTypeAllData:_}=(0,d.useMemo)((()=>({materialTypeAllData:W.materialTypeArr||[],isLoading:W.loading||!1})),[W]);(0,d.useEffect)((()=>{_&&Y(_)}),[_]);const J=(null===G||void 0===G?void 0:G.storeWiseMaterial)||[],K=(null===J||void 0===J?void 0:J.length)||0,Q=null===$||void 0===$?void 0:$.projectsDropdownObject,{storeData:X}=(0,d.useMemo)((()=>{var e;return{storeData:(null===N||void 0===N||null===(e=N.organizationStoreDropdownObject)||void 0===e?void 0:e.rows)||[]}}),[N]),{organizationsData:ee}=(0,d.useMemo)((()=>({organizationsData:(null===q||void 0===q?void 0:q.organizationDropdownObject)||[]})),[q]),te=e=>{const t=[];return e&&e.length&&e.map((e=>t.push(e.id))),t};(0,d.useEffect)((()=>{const e=[];X.map((t=>e.push(t.id))),L(e),P(e)}),[X]),(0,d.useEffect)((()=>{const e=[];ee.map((t=>e.push(t.id))),y(e),E(e)}),[ee]),(0,d.useEffect)((()=>{H((0,f.uiG)()),H((0,f.d8s)(I))}),[H]),(0,d.useEffect)((()=>{w&&(H((0,f.VRs)({params:I+"/"+w})),H((0,f.h7m)(I)))}),[w,H,ee]);const oe=e=>{let t={project:" ",contractorName:" ",store:"Total",materialType:" ",receivedAtContractor:0,receivedAtInstaller:0,installed:0,availableAtContractor:0,availableAtInstaller:0};const o=[...e];return o&&o.length>0&&o.forEach((e=>{t.receivedAtContractor+=e.receivedAtContractor||0,t.receivedAtInstaller+=e.receivedAtInstaller||0,t.installed+=e.installed||0,t.availableAtContractor+=e.availableAtContractor||0,t.availableAtInstaller+=e.availableAtInstaller||0})),o.push(t),o};return(0,A.jsxs)(z.A,{title:"Contractor Wise Material Summary Report",sx:{mb:2},children:[(0,A.jsx)(S.Op,{methods:M,onSubmit:V((async e=>{H((0,f.lC$)({projectId:o,contractorId:w&&w.length>0?w:C,storeId:O&&O.length>0?O:T,...e.materialTypeId&&{materialTypeId:te(e.materialTypeId)}})),t(!0)})),children:(0,A.jsxs)(a.Ay,{container:!0,spacing:4,children:[(0,A.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,A.jsx)(S.aq,{name:"projectId",label:"Project",InputLabelProps:{shrink:!0},menus:Q,onChange:e=>{t(!1),R("contractorId",null),D(te(e)),H((0,f.MZV)({projectId:te(e),contractorId:w&&w.length>0?w:C,storeId:O&&O.length>0?O:T}))},required:!0})}),(0,A.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,A.jsx)(S.aq,{name:"contractorId",label:"Contractor",InputLabelProps:{shrink:!0},menus:ee,onChange:e=>{t(!1),R("storeId",null),y(te(e)),H((0,f.MZV)({projectId:o,contractorId:e&&e.length>0?te(e):C,storeId:O&&O.length>0?O:T}))},allowClear:!0})}),(0,A.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,A.jsx)(S.aq,{name:"storeId",label:"Store",InputLabelProps:{shrink:!0},menus:X,onChange:e=>{e?(t(!1),L(te(e)),o&&o.length>0&&H((0,f.MZV)({projectId:o,contractorId:w&&w.length>0?w:C,storeId:e&&e.length>0?te(e):T}))):(R("materialTypeId",null),Y([]))},allowClear:!0})}),(0,A.jsx)(a.Ay,{item:!0,md:3,xl:2,children:(0,A.jsx)(S.aq,{name:"materialTypeId",label:"Material Type",InputLabelProps:{shrink:!0},menus:Z,allowClear:!0})}),(0,A.jsx)(a.Ay,{container:!0,spacing:2,alignItems:"end",sx:{mt:2},children:(0,A.jsx)(a.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px",mb:"15px"},children:(0,A.jsx)(n.A,{type:"submit",size:"small",variant:"contained",color:"primary",children:"Proceed"})})})]})}),e&&(0,A.jsx)(r.A,{mt:"3",children:(0,A.jsx)(j.default,{title:" ",data:oe(J),hideActions:!0,hideAddButton:!0,accessTableOnly:!0,hidePagination:!0,exportPDFOnly:!0,exportToPdf:()=>{const e=[],t=[];x.map((t=>{e.push(t.Header)})),J&&oe(J).map((e=>{t.push([null===e||void 0===e?void 0:e.project,null===e||void 0===e?void 0:e.contractorName,null===e||void 0===e?void 0:e.store,null===e||void 0===e?void 0:e.materialType,null===e||void 0===e?void 0:e.receivedAtContractor,null===e||void 0===e?void 0:e.receivedAtInstaller,null===e||void 0===e?void 0:e.installed,null===e||void 0===e?void 0:e.availableAtContractor,null===e||void 0===e?void 0:e.availableAtInstaller])})),(0,h.A)("Contractor-Wise-Material-Summary-Report",[e],t)},count:K,setPageIndex:B,setPageSize:U,pageIndex:F,pageSize:k,columns:x})})]})}}}]);