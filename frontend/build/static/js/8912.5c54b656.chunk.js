"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[8912,5406],{64499:(e,r,t)=>{t.d(r,{A:()=>j});var i=t(9950),a=t(65669),d=t(43263),n=t(57191),u=t(95537),s=t(67535),l=t(87233),o=t(44414);j.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},q={display:"flex",flexDirection:"row",padding:"15px 0"},m={display:"flex",justifyContent:"flex-end",gap:2},p={marginTop:2,display:"flex",fontSize:"14px"};function j(e){let{open:r,handleClose:t,title:j,message:h,closeBtnTitle:b,confirmBtnTitle:g,handleConfirm:R,confirmColor:f}=e;const[Y,v]=(0,i.useState)(null);return(0,i.useEffect)((()=>{v(null)}),[r]),(0,o.jsx)("div",{children:(0,o.jsx)(a.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:d.A},slotProps:{backdrop:{timeout:500}},children:(0,o.jsx)(n.A,{in:r,children:(0,o.jsxs)(u.A,{sx:c,children:[(0,o.jsx)(l.A,{id:"transition-modal-title",variant:"h4",children:j}),(0,o.jsx)(l.A,{id:"transition-modal-title",variant:"h6",sx:q,children:h}),(0,o.jsxs)(u.A,{sx:m,children:[!!t&&(0,o.jsx)(s.A,{onClick:t,size:"small",variant:"outlined",color:"primary",children:b}),!!R&&(0,o.jsx)(s.A,{onClick:R,size:"small",variant:"contained",color:f||"error",children:g})]}),Y&&(0,o.jsx)(l.A,{variant:"p",color:"red",sx:p,children:Y})]})})})})}},84601:(e,r,t)=>{t.d(r,{A:()=>l});var i=t(60666);const a=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],d=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},u=["nothing","",()=>!0],s=function(e,r,t){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=new Date(e),d=new Date(r),n=new Date(t);return i?n<=a&&a<=d:n<=a&&a>=d},l={allowedColumns:i.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:i.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:i.Yj().required("Required").nullable(),formType:i.Yj().required("Required").nullable(),taskType:i.Yj().required("Required").nullable(),code:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:i.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:i.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:i.Yj().required("Required"),title:i.Yj().required("Required").nullable(),office:i.Yj().required("Required").nullable(),masterCode:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:i.Yj().required("Required"),gstNumber:i.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:i.Yj().required("Required"),storePhoto:i.Yj().required("Required"),email:i.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:i.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:i.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:i.Yj().required("Required"),nother:i.Yj().nullable().required("Required"),otherArray:i.YO().min(1,"Please select atleast one field"),areaLevel:i.YO().min(1,"Please select atleast one level."),formTitle:i.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:i.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:i.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:i.Yj().required(" "),telephone:i.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:i.Yj().required("Required"),registeredAddress:i.Yj().required("Required"),quantity:i.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:i.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:i.ai().test(...n()).test(...a).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.ai().test(...r?n():u).test(...a).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:i.Yj().required("Required"),state:i.Yj().required("Required"),city:i.Yj().required("Required"),registeredCountry:i.Yj().required("Required"),registeredState:i.Yj().required("Required"),registeredCity:i.Yj().required("Required"),organizationType:i.Yj().nullable().required("Required"),organizationCode:i.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:i.Yj().nullable().required("Required"),organizationLocationId:i.Yj().required("Required"),integrationId:i.Yj().required("Required"),firm:i.Yj().required("Required"),movementType:i.Yj().required("Required"),supplier:i.Yj().required("Required"),masterMaker:i.Yj().required("Required"),projectMasterMaker:i.Yj().required("Required"),lov:i.Yj().required("Required"),date:i.Yj().required("Required"),fromDate:i.Yj().required("Required"),toDate:i.Yj().when("fromDate",{is:e=>!!e,then:i.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:i.Yj().required("Required"),challanNumber:i.Yj().required("Required"),poNumber:i.Yj().required("Required"),workOrderNumber:i.Yj().required("Required"),receivingStore:i.Yj().required("Required"),uom:i.Yj().required("Required"),project:i.Yj().nullable().required("Required"),projectArr:i.YO().of(i.gl()).nullable().required("Required").min(1,"Required"),organizationArr:i.YO().of(i.gl()).nullable().required("Required").min(1,"Required"),accessProject:i.Yj().nullable().required("Required"),rate:i.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:i.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:i.Yj().required("Required"),rangeTo:i.Yj().required("Required"),requiredWithLabel:()=>i.Yj().nullable().required("Required"),requiredWithNonZero:e=>i.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>i.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:i.ai().required("Required"),isSerialize:i.Yj().required("Please select a checkbox"),vehicleNumber:i.Yj().required("Required"),vehicleNumberOptional:i.Yj().nullable(),inventoryNameOptional:i.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:i.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:i.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:i.Yj().required("Required"),eWayBillNumber:i.Yj().required("Required"),eWayBillDate:i.Yj().required("Required"),actualReceiptDate:i.Yj().when("eWayBillDate",{is:e=>!!e,then:i.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:i.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:i.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:i.Yj().nullable().required("Required"),placeOfTransfer:i.Yj().required("Required"),contractorStore:i.Yj().nullable().required("Required"),projectSiteStoreLocation:i.Yj().required("Required"),contractorStoreLocation:i.Yj().nullable().required("Required"),contractorEmployee:i.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>i.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:i.Yj().required("Required"),longDescription:i.Yj().required("Required"),hsnCode:i.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:i.Yj().required("Required"),store:i.Yj().nullable().required("Required"),accessStore:i.Yj().nullable().required("Required"),series:i.Yj().required("Required"),material:i.Yj().required("Required"),materialType:i.Yj().required("Required"),materialCode:i.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:i.Yj().nullable().required("Required"),accessOrganizationId:i.Yj().nullable().required("Required"),company:i.Yj().required("Required"),contractor:i.Yj().nullable().required("Required"),contractorId:i.Yj().required("Required"),fromInstaller:i.Yj().nullable().required("Required"),toInstaller:i.Yj().nullable().required("Required"),fromStoreLocationId:i.Yj().nullable().required("Required"),toStoreLocationId:i.Yj().nullable().required("Required"),storeLocationId:i.Yj().nullable().required("Required"),installerStoreLocationId:i.Yj().nullable().required("Required"),accessStoreLocationId:i.Yj().nullable().required("Required"),fromStore:i.Yj().nullable().required("Required"),toStore:i.Yj().required("Required"),transporterName:i.Yj().required("Required"),customerSiteStoreId:i.Yj().nullable().required("Required"),toCustomerId:i.Yj().nullable().required("Required"),financialYear:i.Yj().required("Required"),user:i.Yj().required("Required"),accessUser:i.Yj().nullable().required("Required"),rightsFor:i.Yj().nullable().required("Required"),gaaLevelId:i.Yj().nullable().required("Required"),networkLevelId:i.Yj().nullable().required("Required"),server:i.Yj().required("Required"),port:i.Yj().required("Required"),encryption:i.Yj().required("Required"),requisitionNumber:i.Yj().nullable().required("Required"),password:i.Yj().required("Required"),transaction:i.Yj().nullable().required("Required"),serviceCenter:i.Yj().nullable().required("Required"),scrapLocation:i.Yj().nullable().required("Required"),effectiveFrom:i.Yj().required("Required"),effectiveTo:i.Yj().required("Required"),displayName:i.Yj().required("Required"),templateName:i.Yj().required("Required"),subject:i.Yj().required("Required"),from:i.Yj().required("Required"),to:i.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:i.Yj().required("Required"),attachmentsWhenIsAuthorized:i.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:i.Yj().nullable().required("Required")}),requestNumber:i.Yj().required("Required"),remarks:i.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:i.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:i.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:i.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>i.Yj().required("Required"),startDateRange:(e,r,t)=>i.Yj().required("Required").test("date-comparison",`${r} must be >= ${t}`,(function(r){return function(e,r){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new Date(e),a=new Date(r);return t?i<=a:i>=a}(r,e,!1)})),endDateRange:(e,r,t,a,d,n)=>i.Yj().required("Required").test("date-comparison",`${t} must be <= ${a} and >= ${d}`,(function(t){return s(t,e,r,!n)})),endDateRangeMax:(e,r,t,a,d,n)=>i.Yj().required("Required").test("date-comparison",`${t} must be >= ${a} and >= ${d}`,(function(t){return s(t,e,r,!n)})),month:e=>i.ai().test(...n(e)).test(...d).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,t)=>i.ai().test(...n(r)).test(...d).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${t}`),checkQty:e=>i.ai().test(...n(e)).test(...a).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?i.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):i.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:i.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},89649:(e,r,t)=>{t.d(r,{A:()=>d});var i=t(9950),a=t(80415);function d(){const[e,r]=(0,i.useState)({pageIndex:a.j7.pageIndex,pageSize:a.j7.pageSize,forceUpdate:!0}),t=(0,i.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;r((e=>({pageIndex:t,pageSize:i,forceUpdate:!e.forceUpdate})))}),[e]),d=(0,i.useCallback)((()=>{r((e=>({pageIndex:a.j7.pageIndex,pageSize:a.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>r((r=>({...r,pageIndex:e,forceUpdate:!r.forceUpdate}))),setPageSize:e=>r((r=>({pageIndex:a.j7.pageIndex,pageSize:e,forceUpdate:!r.forceUpdate}))),refreshPagination:d,setPaginationsFunctions:t}}},39225:(e,r,t)=>{t.d(r,{A:()=>n});var i=t(41397),a=t.n(i),d=t(9950);const n=e=>{const{isFcMode:r}=e||{},[t,i]=(0,d.useState)(void 0),[n,u]=(0,d.useState)(!1),s=(0,d.useRef)([]),l=(0,d.useCallback)((e=>{const i=s.current;s.current=e,t&&(r||a().isEqual(e,i)||u((e=>!e)))}),[r,t]),o=(0,d.useMemo)((()=>null===t||void 0===t?void 0:t.trim()),[t]);return{searchString:t,searchStringTrimmed:o,forceSearch:n,accessorsRef:s,setSearchString:i,setAccessors:l}}},99144:(e,r,t)=>{t.d(r,{o:()=>d});var i=t(9950),a=t(27081);const d=()=>{const[e,r]=(0,i.useState)({countriesObject:{},error:"",loading:!0}),[t,d]=(0,i.useState)({countriesDropdownObject:[],error:"",loading:!0}),[n,u]=(0,i.useState)({countriesHistoryObject:{},error:"",loading:!0}),s=(0,a.d4)((e=>e.countries||{})),l=(0,a.d4)((e=>e.countriesDropdown||[])),o=(0,a.d4)((e=>e.countriesHistory||{}));return(0,i.useEffect)((()=>{r((e=>({...e,...s})))}),[s]),(0,i.useEffect)((()=>{d((e=>({...e,...l})))}),[l]),(0,i.useEffect)((()=>{u((e=>({...e,...o})))}),[o]),{countries:e,countriesDropdown:t,countriesHistory:n}}},63879:(e,r,t)=>{t.r(r),t.d(r,{default:()=>I});var i=t(9950),a=t(27081),d=t(96583),n=t(29024),u=t(12257),s=t(4139),l=t(67535),o=t(60666),c=t(9449),q=t(26473),m=t(71826),p=t(99144),j=t(96951),h=t(14351),b=t(84601),g=t(62054),R=t(44414);const f=e=>{const{setRefresh:r,data:t,view:d,update:f,refreshPagination:Y}=e,v=(0,c.mN)({resolver:(0,q.t)(o.Ik().shape({name:b.A.name,code:b.A.other,countryId:b.A.country})),defaultValues:{},mode:"all"}),{handleSubmit:y,setValue:x,clearErrors:A}=v,S=(0,i.useCallback)((()=>{r(),v.reset({name:"",code:"",integrationId:"",countryId:""})}),[r,v]),w=(0,a.wA)();(0,i.useEffect)((()=>{w((0,n.cTJ)())}),[w]);const{countriesDropdown:z}=(0,p.o)();(0,i.useEffect)((()=>{var e;t||S(),(d||f)&&(x("countryId",t.country.id),e=t,Object.entries(e).forEach((e=>{let[r,t]=e;x(r,t)}))),A()}),[t,f,d,x,A,S]);const I=null===z||void 0===z?void 0:z.countriesDropdownObject,C=function(e,r,t,i){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,R.jsx)(u.A,{spacing:1,children:(0,R.jsx)(j.o3,{name:e,type:t,label:r,InputLabelProps:{shrink:a},...i&&{required:!0},...d?{disabled:!0}:f?{disabled:!1}:{}})})};return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(j.Op,{methods:v,onSubmit:y((async e=>{let r;if(r=f?await(0,m.default)("/state-update",{method:"PUT",body:e,params:t.id}):await(0,m.default)("/state-form",{method:"POST",body:e}),r.success){const e=f?"State updated successfully!":"State added successfully!";(0,g.A)(e,{variant:"success",autoHideDuration:1e4}),Y(),S()}else{var i,a;(0,g.A)((null===(i=r)||void 0===i||null===(a=i.error)||void 0===a?void 0:a.message)||"Operation failed. Please try again.",{variant:"error"})}})),children:(0,R.jsxs)(h.A,{title:(d?"View ":f?"Update ":"Add ")+"State",sx:{mb:2},children:[(0,R.jsxs)(s.Ay,{container:!0,spacing:4,children:[(0,R.jsx)(s.Ay,{item:!0,md:3,xl:2,children:(P="countryId",E="Country Name",$=I,D=!0,(0,R.jsx)(u.A,{children:(0,R.jsx)(j.eu,{name:P,label:E,InputLabelProps:{shrink:!0},menus:$,...D&&{required:!0},...d?{disable:!0}:f?{disable:!1}:{}})}))}),(0,R.jsx)(s.Ay,{item:!0,md:3,xl:2,children:C("name","State Name","text",!0)}),(0,R.jsx)(s.Ay,{item:!0,md:3,xl:2,children:C("code","State Code","text",!0)}),(0,R.jsx)(s.Ay,{item:!0,md:3,xl:2,children:C("integrationId","Integration ID","text")})]}),(0,R.jsx)(s.Ay,{container:!0,spacing:2,alignItems:"end",sx:{mt:2},children:(0,R.jsx)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:d?(0,R.jsx)(l.A,{onClick:S,size:"small",variant:"outlined",color:"primary",children:"Back"}):f?(0,R.jsxs)(s.Ay,{item:!0,sx:{display:"flex",gap:"20px"},children:[(0,R.jsx)(l.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Update"}),(0,R.jsx)(l.A,{onClick:S,size:"small",variant:"outlined",color:"primary",children:"Back"})]}):(0,R.jsx)(s.Ay,{item:!0,sx:{display:"flex",gap:"20px"},children:(0,R.jsx)(l.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Save"})})})})]})})});var P,E,$,D};var Y=t(28073),v=t(99635),y=t(89649),x=t(64499),A=t(39225),S=t(30423),w=t(65920),z=t(52867);const I=()=>{const{paginations:{pageSize:e,pageIndex:r,forceUpdate:t},refreshPagination:u,setPageIndex:s,setPageSize:l}=(0,y.A)(),{searchString:o,setSearchString:c,accessorsRef:q,setAccessors:p,forceSearch:j,searchStringTrimmed:h}=(0,A.A)(),[b,I]=(0,i.useState)(!1),[C,P]=(0,i.useState)(!1),[E,$]=(0,i.useState)(!1),[D,N]=(0,i.useState)(null),[O,T]=(0,i.useState)(null),[k,L]=(0,i.useState)(null),[H,B]=(0,i.useState)(1),[M,Z]=(0,i.useState)(null),[U,V]=(0,i.useState)(!1),[F,W]=(0,i.useState)(!1),[_,Q]=(0,i.useState)(null),G=(0,a.wA)(),{filterObjectForApi:J}=(0,S.bZ)(),K=(0,w.A)(J),X=(0,w.A)(_);(0,i.useEffect)((()=>{[[K,J],[X,_]].some(z.$H)?u():G((0,n.nPt)({pageIndex:r,pageSize:e,listType:H,...h&&{searchString:h,accessors:JSON.stringify(q.current)},sortBy:null===_||void 0===_?void 0:_[0],sortOrder:null===_||void 0===_?void 0:_[1],filterObject:J}))}),[G,r,e,H,h,_,q,j,t,u,K,J,X]),(0,i.useEffect)((()=>{null!==D&&void 0!==D&&D.id&&G((0,n.pVF)({pageIndex:r,pageSize:e,listType:H,recordId:null===D||void 0===D?void 0:D.id}))}),[G,r,e,t,H,D]);const{states:ee,statesHistory:re}=(0,Y.Y)(),{data:te,count:ie}=(0,i.useMemo)((()=>{var e,r;return{data:(null===(e=ee.statesObject)||void 0===e?void 0:e.rows)||[],count:(null===(r=ee.statesObject)||void 0===r?void 0:r.count)||0,isLoading:ee.loading||!1}}),[ee]),{historyData:ae,historyCounts:de}=(0,i.useMemo)((()=>{var e,r;return{historyData:(null===(e=re.statesHistoryObject)||void 0===e?void 0:e.rows)||[],historyCounts:(null===(r=re.statesHistoryObject)||void 0===r?void 0:r.count)||0,isLoading:re.loading||!1}}),[re]),ne=(0,i.useMemo)((()=>[{Header:"Country Name",accessor:"country.name",filterProps:{tableName:"countries",getColumn:"name",customAccessor:"countryId"}},{Header:"State Name",accessor:"name",filterProps:{tableName:"states",getColumn:"name",customAccessor:"name"}},{Header:"State Code",accessor:"code",filterProps:{tableName:"states",getColumn:"code",customAccessor:"code"}},{Header:"Integration ID",accessor:"integrationId",filterProps:{tableName:"states",getColumn:"integration_id",customAccessor:"integrationId"}},{Header:"Updated On",accessor:"updatedAt"},{Header:"Updated By",accessor:"updated.name",filterProps:{tableName:"users",getColumn:"name",customAccessor:"updatedBy"}},{Header:"Created On",accessor:"createdAt"},{Header:"Created By",accessor:"created.name",filterProps:{tableName:"users",getColumn:"name",customAccessor:"createdBy"}}]),[]),ue=()=>{V(!1),W(!1),Z(null)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f,{refreshPagination:u,setRefresh:ue,...M&&{data:M},...U&&{view:U,update:!1},...F&&{update:F,view:!1}}),(0,R.jsx)(v.default,{title:"State",hideAddButton:!0,data:te,columns:ne,count:ie,setPageIndex:s,setPageSize:l,pageIndex:r,pageSize:e,handleRowRestore:async e=>{L(e),P(!0)},handleRowDelete:e=>{T(e),I(!0)},handleRowHistory:e=>{N(e),$(!0)},handleRowUpdate:e=>{W(!0),V(!1),Z(e)},handleRowView:e=>{V(!0),W(!1),Z(e)},listType:H,setListType:e=>{B(e),ue()},searchConfig:{searchString:o,searchStringTrimmed:h,setSearchString:c,setAccessors:p},sortConfig:{sort:_,setSort:Q},exportConfig:{tableName:"states",apiQuery:{listType:H,filterObject:J}}}),(0,R.jsx)(x.A,{open:b,handleClose:()=>I(!1),handleConfirm:async()=>{const e=await(0,m.default)("/delete-state",{method:"DELETE",params:O});var r;e.success?(u(),I(!1)):(0,g.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message)},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),(0,R.jsx)(x.A,{open:C,handleClose:()=>P(!1),handleConfirm:async()=>{const e={...k,isActive:"1"};(await(0,m.default)("/state-update",{method:"PUT",body:e,params:e.id})).success&&(u(),P(!1))},title:"Confirm Restore",message:"Are you sure you want to restore?",confirmBtnTitle:"Restore"}),(0,R.jsx)(d.A,{open:E,onClose:()=>$(!1),scroll:"paper",disableEscapeKeyDown:!0,maxWidth:"lg",children:(0,R.jsx)(v.default,{isHistory:!0,title:null===D||void 0===D?void 0:D.name,data:ae,columns:ne,count:de,hideActions:!0,hideSearch:!0,hideAddButton:!0,hideExportButton:!0,setPageIndex:s,setPageSize:l,pageIndex:r,pageSize:e})})]})}},28073:(e,r,t)=>{t.d(r,{Y:()=>d});var i=t(9950),a=t(27081);const d=()=>{const[e,r]=(0,i.useState)({statesObject:{},error:"",loading:!0}),[t,d]=(0,i.useState)({statesDropdownObject:[],error:"",loading:!0}),[n,u]=(0,i.useState)({currentStatesDropdownObject:[],error:"",loading:!0}),[s,l]=(0,i.useState)({statesHistoryObject:{},error:"",loading:!0}),o=(0,a.d4)((e=>e.states||{})),c=(0,a.d4)((e=>e.statesDropdown||[])),q=(0,a.d4)((e=>e.currentStatesDropdown||[])),m=(0,a.d4)((e=>e.statesHistory||{}));return(0,i.useEffect)((()=>{r((e=>({...e,...o})))}),[o]),(0,i.useEffect)((()=>{d((e=>({...e,...c})))}),[c]),(0,i.useEffect)((()=>{u((e=>({...e,...q})))}),[q]),(0,i.useEffect)((()=>{l((e=>({...e,...m})))}),[m]),{states:e,statesDropdown:t,currentStatesDropdown:n,statesHistory:s}}},13239:(e,r,t)=>{t.d(r,{A:()=>s});var i=t(89379),a=t(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=t(14840),u=function(e,r){return a.createElement(n.A,(0,i.A)((0,i.A)({},e),{},{ref:r,icon:d}))};const s=a.forwardRef(u)},26592:(e,r,t)=>{var i=t(24994);r.A=void 0;var a=i(t(79526)),d=t(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,t)=>{var i=t(24994);r.A=void 0;var a=i(t(79526)),d=t(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);