"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[7998],{64499:(e,i,s)=>{s.d(i,{A:()=>p});var t=s(9950),l=s(65669),n=s(43263),r=s(57191),o=s(95537),a=s(67535),d=s(87233),c=s(44414);p.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const m={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},x={display:"flex",flexDirection:"row",padding:"15px 0"},u={display:"flex",justifyContent:"flex-end",gap:2},h={marginTop:2,display:"flex",fontSize:"14px"};function p(e){let{open:i,handleClose:s,title:p,message:A,closeBtnTitle:f,confirmBtnTitle:j,handleConfirm:b,confirmColor:v}=e;const[y,g]=(0,t.useState)(null);return(0,t.useEffect)((()=>{g(null)}),[i]),(0,c.jsx)("div",{children:(0,c.jsx)(l.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:i,closeAfterTransition:!0,slots:{backdrop:n.A},slotProps:{backdrop:{timeout:500}},children:(0,c.jsx)(r.A,{in:i,children:(0,c.jsxs)(o.A,{sx:m,children:[(0,c.jsx)(d.A,{id:"transition-modal-title",variant:"h4",children:p}),(0,c.jsx)(d.A,{id:"transition-modal-title",variant:"h6",sx:x,children:A}),(0,c.jsxs)(o.A,{sx:u,children:[!!s&&(0,c.jsx)(a.A,{onClick:s,size:"small",variant:"outlined",color:"primary",children:f}),!!b&&(0,c.jsx)(a.A,{onClick:b,size:"small",variant:"contained",color:v||"error",children:j})]}),y&&(0,c.jsx)(d.A,{variant:"p",color:"red",sx:h,children:y})]})})})})}},27998:(e,i,s)=>{s.r(i),s.d(i,{default:()=>z});var t=s(14857),l=s(2683),n=s(4139),r=s(87233),o=s(67535),a=s(74745),d=s(53065),c=s(57073),m=s(98623),x=s(36089),u=s(26592),h=s(9449),p=s(28429),A=s(42074),f=s(27081),j=s(9950),b=s(76300),v=s(96951),y=s(29024),g=s(64499),C=s(71826),k=s(62054),w=s(10447),V=s(44414);const z=()=>{var e;const{formId:i}=(0,p.g)(),s=(0,p.Zp)(),z=(0,t.A)(),[B,D]=(0,j.useState)(null),[E,I]=(0,j.useState)(!1),N=(0,f.wA)(),O=(0,h.mN)({mode:"all"});(0,j.useEffect)((()=>(i&&(N((0,y.q1j)(i)),N((0,y.u44)({formId:i,sortBy:"rank",sortOrder:"ASC"}))),()=>{N(w.wF.actions.reset())})),[N,i]);const{formAttributes:T}=(0,b.I)(),S=(null===T||void 0===T||null===(e=T.formAttributesObject)||void 0===e?void 0:e.rows)||[],{formVisibilityBlock:H}=(0,b.I)(),{data:R,formName:q}=(0,j.useMemo)((()=>{var e,i;return{data:(null===(e=H.formVisibilityBlockObject)||void 0===e?void 0:e.rows)||[],formName:(null===(i=H.formVisibilityBlockObject)||void 0===i?void 0:i.formName)||""}}),[H]);j.useEffect((()=>{O.reset({value:R.map((e=>({visibleColumns:e.visibleColumns,nonVisibleColumns:e.nonVisibleColumns})))})}),[R,O]);return(0,V.jsx)(V.Fragment,{children:q?(0,V.jsxs)(v.Op,{methods:O,children:[(0,V.jsxs)(l.A,{sx:{maxHeight:"85vh",minHeight:"85vh",overflow:"auto",border:"1px solid",borderRadius:1,borderColor:z.palette.grey.A800,boxShadow:"inherit"},children:[(0,V.jsxs)(n.Ay,{sx:{position:"sticky",top:0,background:"white",zIndex:1,p:2},children:[(0,V.jsx)(n.Ay,{container:!0,children:(0,V.jsxs)(n.Ay,{item:!0,md:12,sx:{display:"flex",justifyContent:"space-between"},children:[(0,V.jsxs)(r.A,{variant:"h4",children:[q," > Visibility Rules"]}),(0,V.jsxs)(n.Ay,{item:!0,sx:{display:"flex",gap:2},children:[(0,V.jsx)(o.A,{component:A.N_,to:"/update-form/features/"+i,size:"small",variant:"outlined",color:"primary",children:"Back"}),(0,V.jsx)(o.A,{component:A.N_,size:"small",to:"/add-new-visibility/"+i,type:"submit",variant:"contained",color:"primary",children:"Add New"})]})]})}),(0,V.jsx)(a.A,{sx:{mt:2}}),(0,V.jsxs)(n.Ay,{container:!0,rowSpacing:2,alignItems:"center",sx:{mt:2,pl:2,pr:2},children:[(0,V.jsx)(n.Ay,{item:!0,md:1.5,children:(0,V.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Actions"})}),(0,V.jsx)(n.Ay,{item:!0,md:2.5,children:(0,V.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Rule Name"})}),(0,V.jsx)(n.Ay,{item:!0,md:8,children:(0,V.jsx)(r.A,{sx:{fontWeight:"bold"},children:"Column(s) Visibility"})})]}),(0,V.jsx)(a.A,{sx:{ml:2,mr:2,mt:1.5,mb:0}})]}),R.map(((e,t)=>(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(n.Ay,{container:!0,alignItems:"flex-start",sx:{p:4,pt:2,pb:2},children:[(0,V.jsxs)(n.Ay,{item:!0,md:1.5,sx:{pt:1},children:[(0,V.jsx)(d.A,{title:"Edit",placement:"bottom",children:(0,V.jsx)(c.A,{color:"secondary",onClick:()=>{s("/add-new-visibility/"+i,{state:{blockData:e}})},children:(0,V.jsx)(x.A,{})})}),(0,V.jsx)(d.A,{title:"Delete",placement:"bottom",children:(0,V.jsx)(c.A,{color:"secondary",onClick:()=>{return i=null===e||void 0===e?void 0:e.id,D(i),void I(!0);var i},children:(0,V.jsx)(u.A,{})})})]}),(0,V.jsx)(n.Ay,{item:!0,md:2.5,sx:{pt:2},children:(0,V.jsx)(r.A,{children:e.name})}),(0,V.jsxs)(n.Ay,{item:!0,md:8,sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,V.jsx)(v.Yq,{name:`value.${t}.visibleColumns`,menus:S.filter((i=>{var s;return null===(s=e.visibleColumns)||void 0===s?void 0:s.includes(i.id)})),disable:!0,success:!0}),(0,V.jsx)(v.Yq,{name:`value.${t}.nonVisibleColumns`,menus:S.filter((i=>{var s;return null===(s=e.nonVisibleColumns)||void 0===s?void 0:s.includes(i.id)})),disable:!0,failure:!0})]}),(0,V.jsx)(n.Ay,{item:!0,md:12,children:(0,V.jsx)(a.A,{sx:{mt:5}})})]},e.id)})))]}),(0,V.jsx)(g.A,{open:E,handleClose:()=>I(!1),handleConfirm:async()=>{const e=await(0,C.default)("/attribute-visibility-block-delete",{method:"DELETE",params:B});e.success?(I(!1),N((0,y.q1j)(i))):(0,k.A)(e.error.message)},title:"Delete Visibility Rule",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"})]}):(0,V.jsx)(n.Ay,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,V.jsx)(m.A,{color:"primary"})})})}},26592:(e,i,s)=>{var t=s(24994);i.A=void 0;var l=t(s(79526)),n=s(44414);i.A=(0,l.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,i,s)=>{var t=s(24994);i.A=void 0;var l=t(s(79526)),n=s(44414);i.A=(0,l.default)((0,n.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);