"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[7074,5406],{64499:(e,r,t)=>{t.d(r,{A:()=>j});var a=t(9950),i=t(65669),d=t(43263),n=t(57191),l=t(95537),o=t(67535),u=t(87233),s=t(44414);j.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},m={display:"flex",flexDirection:"row",padding:"15px 0"},p={display:"flex",justifyContent:"flex-end",gap:2},q={marginTop:2,display:"flex",fontSize:"14px"};function j(e){let{open:r,handleClose:t,title:j,message:v,closeBtnTitle:g,confirmBtnTitle:b,handleConfirm:h,confirmColor:f}=e;const[y,R]=(0,a.useState)(null);return(0,a.useEffect)((()=>{R(null)}),[r]),(0,s.jsx)("div",{children:(0,s.jsx)(i.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:d.A},slotProps:{backdrop:{timeout:500}},children:(0,s.jsx)(n.A,{in:r,children:(0,s.jsxs)(l.A,{sx:c,children:[(0,s.jsx)(u.A,{id:"transition-modal-title",variant:"h4",children:j}),(0,s.jsx)(u.A,{id:"transition-modal-title",variant:"h6",sx:m,children:v}),(0,s.jsxs)(l.A,{sx:p,children:[!!t&&(0,s.jsx)(o.A,{onClick:t,size:"small",variant:"outlined",color:"primary",children:g}),!!h&&(0,s.jsx)(o.A,{onClick:h,size:"small",variant:"contained",color:f||"error",children:b})]}),y&&(0,s.jsx)(u.A,{variant:"p",color:"red",sx:q,children:y})]})})})})}},84601:(e,r,t)=>{t.d(r,{A:()=>u});var a=t(60666);const i=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],d=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},l=["nothing","",()=>!0],o=function(e,r,t){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new Date(e),d=new Date(r),n=new Date(t);return a?n<=i&&i<=d:n<=i&&i>=d},u={allowedColumns:a.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:a.Yj().required("Required").nullable(),formType:a.Yj().required("Required").nullable(),taskType:a.Yj().required("Required").nullable(),code:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:a.Yj().required("Required"),title:a.Yj().required("Required").nullable(),office:a.Yj().required("Required").nullable(),masterCode:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:a.Yj().required("Required"),gstNumber:a.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:a.Yj().required("Required"),storePhoto:a.Yj().required("Required"),email:a.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:a.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:a.Yj().required("Required"),nother:a.Yj().nullable().required("Required"),otherArray:a.YO().min(1,"Please select atleast one field"),areaLevel:a.YO().min(1,"Please select atleast one level."),formTitle:a.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:a.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:a.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:a.Yj().required(" "),telephone:a.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:a.Yj().required("Required"),registeredAddress:a.Yj().required("Required"),quantity:a.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:a.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:a.ai().test(...n()).test(...i).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.ai().test(...r?n():l).test(...i).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:a.Yj().required("Required"),state:a.Yj().required("Required"),city:a.Yj().required("Required"),registeredCountry:a.Yj().required("Required"),registeredState:a.Yj().required("Required"),registeredCity:a.Yj().required("Required"),organizationType:a.Yj().nullable().required("Required"),organizationCode:a.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:a.Yj().nullable().required("Required"),organizationLocationId:a.Yj().required("Required"),integrationId:a.Yj().required("Required"),firm:a.Yj().required("Required"),movementType:a.Yj().required("Required"),supplier:a.Yj().required("Required"),masterMaker:a.Yj().required("Required"),projectMasterMaker:a.Yj().required("Required"),lov:a.Yj().required("Required"),date:a.Yj().required("Required"),fromDate:a.Yj().required("Required"),toDate:a.Yj().when("fromDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:a.Yj().required("Required"),challanNumber:a.Yj().required("Required"),poNumber:a.Yj().required("Required"),workOrderNumber:a.Yj().required("Required"),receivingStore:a.Yj().required("Required"),uom:a.Yj().required("Required"),project:a.Yj().nullable().required("Required"),projectArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),organizationArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),accessProject:a.Yj().nullable().required("Required"),rate:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:a.Yj().required("Required"),rangeTo:a.Yj().required("Required"),requiredWithLabel:()=>a.Yj().nullable().required("Required"),requiredWithNonZero:e=>a.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>a.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:a.ai().required("Required"),isSerialize:a.Yj().required("Please select a checkbox"),vehicleNumber:a.Yj().required("Required"),vehicleNumberOptional:a.Yj().nullable(),inventoryNameOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:a.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:a.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:a.Yj().required("Required"),eWayBillNumber:a.Yj().required("Required"),eWayBillDate:a.Yj().required("Required"),actualReceiptDate:a.Yj().when("eWayBillDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:a.Yj().nullable().required("Required"),placeOfTransfer:a.Yj().required("Required"),contractorStore:a.Yj().nullable().required("Required"),projectSiteStoreLocation:a.Yj().required("Required"),contractorStoreLocation:a.Yj().nullable().required("Required"),contractorEmployee:a.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>a.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:a.Yj().required("Required"),longDescription:a.Yj().required("Required"),hsnCode:a.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:a.Yj().required("Required"),store:a.Yj().nullable().required("Required"),accessStore:a.Yj().nullable().required("Required"),series:a.Yj().required("Required"),material:a.Yj().required("Required"),materialType:a.Yj().required("Required"),materialCode:a.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:a.Yj().nullable().required("Required"),accessOrganizationId:a.Yj().nullable().required("Required"),company:a.Yj().required("Required"),contractor:a.Yj().nullable().required("Required"),contractorId:a.Yj().required("Required"),fromInstaller:a.Yj().nullable().required("Required"),toInstaller:a.Yj().nullable().required("Required"),fromStoreLocationId:a.Yj().nullable().required("Required"),toStoreLocationId:a.Yj().nullable().required("Required"),storeLocationId:a.Yj().nullable().required("Required"),installerStoreLocationId:a.Yj().nullable().required("Required"),accessStoreLocationId:a.Yj().nullable().required("Required"),fromStore:a.Yj().nullable().required("Required"),toStore:a.Yj().required("Required"),transporterName:a.Yj().required("Required"),customerSiteStoreId:a.Yj().nullable().required("Required"),toCustomerId:a.Yj().nullable().required("Required"),financialYear:a.Yj().required("Required"),user:a.Yj().required("Required"),accessUser:a.Yj().nullable().required("Required"),rightsFor:a.Yj().nullable().required("Required"),gaaLevelId:a.Yj().nullable().required("Required"),networkLevelId:a.Yj().nullable().required("Required"),server:a.Yj().required("Required"),port:a.Yj().required("Required"),encryption:a.Yj().required("Required"),requisitionNumber:a.Yj().nullable().required("Required"),password:a.Yj().required("Required"),transaction:a.Yj().nullable().required("Required"),serviceCenter:a.Yj().nullable().required("Required"),scrapLocation:a.Yj().nullable().required("Required"),effectiveFrom:a.Yj().required("Required"),effectiveTo:a.Yj().required("Required"),displayName:a.Yj().required("Required"),templateName:a.Yj().required("Required"),subject:a.Yj().required("Required"),from:a.Yj().required("Required"),to:a.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:a.Yj().required("Required"),attachmentsWhenIsAuthorized:a.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:a.Yj().nullable().required("Required")}),requestNumber:a.Yj().required("Required"),remarks:a.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:a.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:a.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>a.Yj().required("Required"),startDateRange:(e,r,t)=>a.Yj().required("Required").test("date-comparison",`${r} must be >= ${t}`,(function(r){return function(e,r){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=new Date(e),i=new Date(r);return t?a<=i:a>=i}(r,e,!1)})),endDateRange:(e,r,t,i,d,n)=>a.Yj().required("Required").test("date-comparison",`${t} must be <= ${i} and >= ${d}`,(function(t){return o(t,e,r,!n)})),endDateRangeMax:(e,r,t,i,d,n)=>a.Yj().required("Required").test("date-comparison",`${t} must be >= ${i} and >= ${d}`,(function(t){return o(t,e,r,!n)})),month:e=>a.ai().test(...n(e)).test(...d).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,t)=>a.ai().test(...n(r)).test(...d).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${t}`),checkQty:e=>a.ai().test(...n(e)).test(...i).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:a.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},89649:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(9950),i=t(80415);function d(){const[e,r]=(0,a.useState)({pageIndex:i.j7.pageIndex,pageSize:i.j7.pageSize,forceUpdate:!0}),t=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;r((e=>({pageIndex:t,pageSize:a,forceUpdate:!e.forceUpdate})))}),[e]),d=(0,a.useCallback)((()=>{r((e=>({pageIndex:i.j7.pageIndex,pageSize:i.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>r((r=>({...r,pageIndex:e,forceUpdate:!r.forceUpdate}))),setPageSize:e=>r((r=>({pageIndex:i.j7.pageIndex,pageSize:e,forceUpdate:!r.forceUpdate}))),refreshPagination:d,setPaginationsFunctions:t}}},39225:(e,r,t)=>{t.d(r,{A:()=>n});var a=t(41397),i=t.n(a),d=t(9950);const n=e=>{const{isFcMode:r}=e||{},[t,a]=(0,d.useState)(void 0),[n,l]=(0,d.useState)(!1),o=(0,d.useRef)([]),u=(0,d.useCallback)((e=>{const a=o.current;o.current=e,t&&(r||i().isEqual(e,a)||l((e=>!e)))}),[r,t]),s=(0,d.useMemo)((()=>null===t||void 0===t?void 0:t.trim()),[t]);return{searchString:t,searchStringTrimmed:s,forceSearch:n,accessorsRef:o,setSearchString:a,setAccessors:u}}},98421:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var a=t(9950),i=t(96583),d=t(27081),n=t(29024),l=t(80733),o=t(12257),u=t(4139),s=t(67535),c=t(60666),m=t(9449),p=t(26473),q=t(71826),j=t(24618),v=t(96951),g=t(14351),b=t(84601),h=t(62054),f=t(44414);const y=e=>{const r=(0,d.wA)(),[t,i]=(0,a.useState)(),{data:l,view:y,update:R,setRefresh:Y,selectedProject:A,setSelectedProject:S,setSelectedGaaId:x,refreshPagination:I,projectData:E,setSelectedParentId:P,user:w}=e,L="577b8900-b333-42d0-b7fb-347abc3f0b5c"===(null===w||void 0===w?void 0:w.id)||"57436bed-c176-4625-96af-aaeec88cdc90"===(null===w||void 0===w?void 0:w.id)?[{name:"Approved",id:"Approved"},{name:"Unapproved",id:"Unapproved"}]:[{name:"Unapproved",id:"Unapproved"}],z=(0,m.mN)({resolver:(0,p.t)(c.Ik().shape({name:b.A.other,code:b.A.other,gaaHierarchyId:b.A.other,projectId:b.A.other,approvalStatus:b.A.other})),defaultValues:{},mode:"all"}),{handleSubmit:C,setValue:D,getValues:$,clearErrors:O}=z,N=(0,a.useCallback)((()=>{Y();const e=$();z.reset({name:"",code:"",projectId:e.projectId,gaaHierarchyId:e.gaaHierarchyId,approvalStatus:""})}),[Y,z,$]);(0,a.useEffect)((()=>{var e,r;(l||N(),y||R)&&(D("gaaHierarchyId",l.gaaHierarchyId),D("projectId",null===l||void 0===l||null===(e=l.gaa_hierarchy)||void 0===e?void 0:e.projectId),D("approvalStatus",null===l||void 0===l?void 0:l.approvalStatus),r=l,Object.entries(r).forEach((e=>{let[r,t]=e;D(r,t)})));O()}),[l,R,y,D,O,N]),(0,a.useEffect)((()=>{if(A&&null!==w&&void 0!==w&&w.id){const e="577b8900-b333-42d0-b7fb-347abc3f0b5c"===(null===w||void 0===w?void 0:w.id)||"57436bed-c176-4625-96af-aaeec88cdc90"===(null===w||void 0===w?void 0:w.id)?"":null===w||void 0===w?void 0:w.id;r((0,n.mm8)({projectId:A,userId:e}))}}),[r,A]);const{gaaProjects:T}=(0,j.L)(),{gaaData:H}=(0,a.useMemo)((()=>{var e;return{gaaData:(null===T||void 0===T||null===(e=T.gaaProjectsObject)||void 0===e?void 0:e.rows)||[]}}),[T]),{gaaLevelParents:k}=(0,j.L)(),{gaaLevelParentsData:U}=(0,a.useMemo)((()=>{var e,r;return{gaaLevelParentsData:(null===(e=k.gaaLevelParentsObject)||void 0===e||null===(r=e.rows)||void 0===r?void 0:r.map((e=>({id:e.id,name:`${e.name} - ${e.id}`}))))||[],isLoading:k.loading||!1}}),[k]),B=(e,r,t,a,i,d)=>(0,f.jsx)(o.A,{children:(0,f.jsx)(v.eu,{name:e,label:r,onChange:a,InputLabelProps:{shrink:!0},menus:t,...i&&{required:!0},...y||R?{disable:d}:{}})}),M=function(e,r,t,a){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,f.jsx)(o.A,{spacing:1,children:(0,f.jsx)(v.o3,{name:e,type:t,label:r,InputLabelProps:{shrink:i},...a&&{required:!0},...y?{disabled:!0}:R?{disabled:!1}:{}})})};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v.Op,{methods:z,onSubmit:C((async e=>{let r;if(r=R?await(0,q.default)("/gaa-level-entry-update",{method:"PUT",body:e,params:l.id}):await(0,q.default)("/gaa-level-entry-form",{method:"POST",body:e}),r.success){const e=R?"Level Entry updated successfully!":"Level Entry added successfully!";(0,h.A)(e,{variant:"success",autoHideDuration:1e4}),Y(),I()}else{var t,a;(0,h.A)((null===(t=r)||void 0===t||null===(a=t.error)||void 0===a?void 0:a.message)||"Operation failed. Please try again.",{variant:"error"})}})),children:(0,f.jsxs)(g.A,{title:(y?"View ":R?"Update ":"Add ")+"GAA Level Entry",sx:{mb:2},children:[(0,f.jsxs)(u.Ay,{container:!0,spacing:4,alignItems:"center",children:[(0,f.jsx)(u.Ay,{item:!0,md:3,xl:2,children:B("projectId","Project Name",E,(e=>{var r;S(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}),!0,!0)}),(0,f.jsx)(u.Ay,{item:!0,md:3,xl:2,children:B("gaaHierarchyId","Level Name","577b8900-b333-42d0-b7fb-347abc3f0b5c"===(null===w||void 0===w?void 0:w.id)||"57436bed-c176-4625-96af-aaeec88cdc90"===(null===w||void 0===w?void 0:w.id)?H:H.slice(1),(e=>{var t;x(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value);const a=H.find((r=>{var t;return r.rank+1==(null===(t=e.target)||void 0===t?void 0:t.rank)}));i(null===a||void 0===a?void 0:a.name),P(null===a||void 0===a?void 0:a.id),r((0,n.Xjc)({listType:1,gaaId:null===a||void 0===a?void 0:a.id}))}),!0,!0)}),t&&(0,f.jsx)(u.Ay,{item:!0,md:6,xl:4,children:B("parentId",`Select ${t}`,U,!0,!0)}),(0,f.jsx)(u.Ay,{item:!0,md:3,xl:2,children:B("approvalStatus","Select Status",L,(e=>{var r;D("approvalStatus",null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}),!0,!1)}),(0,f.jsx)(u.Ay,{item:!0,md:3,xl:2,children:M("name","Entry Name","text",!0,!1)}),(0,f.jsx)(u.Ay,{item:!0,md:3,xl:2,children:M("code","Entry Code","text",!0,!1)})]}),(0,f.jsx)(u.Ay,{container:!0,spacing:2,alignItems:"end",sx:{mt:1},children:(0,f.jsx)(u.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:y?(0,f.jsx)(s.A,{onClick:N,size:"small",variant:"outlined",color:"primary",children:"Back"}):R?(0,f.jsxs)(u.Ay,{item:!0,sx:{display:"flex",gap:"20px"},children:[(0,f.jsx)(s.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Update"}),(0,f.jsx)(s.A,{onClick:N,size:"small",variant:"outlined",color:"primary",children:"Back"})]}):(0,f.jsx)(u.Ay,{item:!0,sx:{display:"flex",gap:"20px"},children:(0,f.jsx)(s.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Save"})})})})]})})})};var R=t(99635),Y=t(64499),A=t(89649),S=t(39225),x=t(65920),I=t(30423),E=t(52867),P=t(33507);const w=()=>{const{paginations:{pageSize:e,pageIndex:r,forceUpdate:t},refreshPagination:o,setPageIndex:u,setPageSize:s}=(0,A.A)(),{searchString:c,setSearchString:m,accessorsRef:p,setAccessors:v,forceSearch:g,searchStringTrimmed:b}=(0,S.A)(),w=(0,d.wA)(),[L,z]=(0,a.useState)(""),[C,D]=(0,a.useState)(""),[$,O]=(0,a.useState)(!1),[N,T]=(0,a.useState)(!1),[H,k]=(0,a.useState)(!1),[U,B]=(0,a.useState)(null),[M,Z]=(0,a.useState)(null),[_,F]=(0,a.useState)(null),[V,W]=(0,a.useState)(1),[G,Q]=(0,a.useState)(null),[J,K]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(!1),[re,te]=(0,a.useState)(null),[ae,ie]=(0,a.useState)(null),{user:de}=(0,P.A)();(0,a.useEffect)((()=>{w((0,n.uiG)())}),[w]);const{filterObjectForApi:ne}=(0,I.bZ)(),le=(0,x.A)(ne),oe=(0,x.A)(re);(0,a.useEffect)((()=>{[[le,ne],[oe,re]].some(E.$H)?o():L&&w((0,n.ggT)({pageIndex:r,pageSize:e,listType:V,gaaId:L,...b&&{searchString:b,accessors:JSON.stringify(p.current)},sortBy:null===re||void 0===re?void 0:re[0],sortOrder:null===re||void 0===re?void 0:re[1],filterObject:ne}))}),[w,r,e,V,L,t,b,re,p,g,le,ne,oe,o]),(0,a.useEffect)((()=>{null!==U&&void 0!==U&&U.id&&w((0,n.qa4)({pageIndex:r,pageSize:e,listType:V,recordId:null===U||void 0===U?void 0:U.id}))}),[w,r,e,t,V,U]);const{projectsDropdown:ue}=(0,l.Y)(),se=null===ue||void 0===ue?void 0:ue.projectsDropdownObject,{gaaLevelProjects:ce,gaaLevelEntryHistory:me}=(0,j.L)(),{gaaLevelData:pe,gaaCount:qe}=(0,a.useMemo)((()=>{var e,r;return{gaaLevelData:(null===(e=ce.gaaLevelProjectsObject)||void 0===e?void 0:e.rows)||[],gaaCount:(null===(r=ce.gaaLevelProjectsObject)||void 0===r?void 0:r.count)||0,isLoading:ce.loading||!1}}),[ce]),{historyLevelEntryData:je,historyLevelEntryCounts:ve}=(0,a.useMemo)((()=>{var e,r;return{historyLevelEntryData:(null===(e=me.gaaLevelEntryHistoryObject)||void 0===e?void 0:e.rows)||[],historyLevelEntryCounts:(null===(r=me.gaaLevelEntryHistoryObject)||void 0===r?void 0:r.count)||0,isLoading:me.loading||!1}}),[me]),ge=(0,a.useMemo)((()=>[{Header:"Entry ID",accessor:"id",filterProps:{tableName:"gaaEntry",getColumn:"id",customAccessor:"id",projectId:ae,levelId:L}},{Header:"Entry Name",accessor:"name",filterProps:{tableName:"gaaEntry",getColumn:"name",customAccessor:"name",projectId:ae,levelId:L}},{Header:"Entry Code",accessor:"code",filterProps:{tableName:"gaaEntry",getColumn:"code",customAccessor:"code",projectId:ae,levelId:L}},{Header:"Parent ID",accessor:e=>{var r;return null===(r=e.parent)||void 0===r?void 0:r.id},exportAccessor:"parent.id",filterProps:{tableName:"gaaEntry",getColumn:"parent_id",customAccessor:"parentId",projectId:ae,levelId:L}},{Header:"Parent Name",accessor:e=>{var r;return null===(r=e.parent)||void 0===r?void 0:r.name},exportAccessor:"parent.name",filterProps:{tableName:"gaaEntry",getColumn:"name",customAccessor:"parentName",projectId:ae,levelId:C}},{Header:"Approval Status",accessor:"approvalStatus",exportAccessor:"approval_status",filterProps:{tableName:"gaaEntry",getColumn:"approval_status",customAccessor:"approvalStatus",projectId:ae,levelId:L}},{Header:"Updated On",accessor:"updatedAt"},{Header:"Updated By",accessor:"updated.name",filterProps:{tableName:"gaaEntry",getColumn:"updated_by",customAccessor:"updatedBy",projectId:ae,levelId:L}},{Header:"Created On",accessor:"createdAt"},{Header:"Created By",accessor:"created.name",filterProps:{tableName:"gaaEntry",getColumn:"created_by",customAccessor:"createdBy",projectId:ae,levelId:L}}]),[L,ae,C]),be=()=>{K(!1),ee(!1),Q(null)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{refreshPagination:o,selectedProject:ae,setSelectedProject:ie,setSelectedGaaId:z,setSelectedParentId:D,projectData:se,setRefresh:be,user:de,...G&&{data:G},...J&&{view:J,update:!1},...X&&{update:X,view:!1}}),L&&(0,f.jsx)(R.default,{hideAddButton:!0,hideImportButton:!1,data:pe,columns:ge,count:qe,setPageIndex:u,setPageSize:s,pageIndex:r,pageSize:e,handleRowRestore:async e=>{F(e),T(!0)},handleRowDelete:async e=>{Z(e),O(!0)},handleRowUpdate:e=>{ee(!0),K(!1),Q(e)},handleRowHistory:e=>{B(e),k(!0)},handleRowView:e=>{K(!0),ee(!1),Q(e)},listType:V,setListType:e=>{W(e),be()},searchConfig:{searchString:c,searchStringTrimmed:b,setSearchString:m,setAccessors:v},sortConfig:{sort:re,setSort:te},importConfig:{apiBody:{projectId:ae,levelId:L,parentId:C,tableName:"gaa_level_entries"}},exportConfig:{tableName:"gaa_level_entries",fileName:"gaa-level-entry",apiQuery:{listType:V,gaaId:L,filterObject:ne}},setSelectedParentId:D,disableDeleteIcon:"577b8900-b333-42d0-b7fb-347abc3f0b5c"!==(null===de||void 0===de?void 0:de.id)&&"57436bed-c176-4625-96af-aaeec88cdc90"!==(null===de||void 0===de?void 0:de.id),componentFrom:"gaa-level-entry"}),(0,f.jsx)(Y.A,{open:$,handleClose:()=>O(!1),handleConfirm:async()=>{const e=await(0,q.default)("/delete-gaa-level-entry",{method:"DELETE",params:M});var r;e.success?(o(),O(!1)):(0,h.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message)},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),(0,f.jsx)(Y.A,{open:N,handleClose:()=>T(!1),handleConfirm:async()=>{const e={..._,isActive:"1"};(await(0,q.default)("/gaa-level-entry-update",{method:"PUT",body:e,params:e.id})).success&&(o(),T(!1))},title:"Confirm Restore",message:"Are you sure you want to restore?",confirmBtnTitle:"Restore"}),(0,f.jsx)(i.A,{open:H,onClose:()=>k(!1),scroll:"paper",disableEscapeKeyDown:!0,maxWidth:"lg",children:(0,f.jsx)(R.default,{isHistory:!0,title:null===U||void 0===U?void 0:U.name,data:je,columns:ge,count:ve,hideActions:!0,hideSearch:!0,hideAddButton:!0,hideExportButton:!0,setPageIndex:u,setPageSize:s,pageIndex:r,pageSize:e})})]})}},24618:(e,r,t)=>{t.d(r,{L:()=>d});var a=t(9950),i=t(27081);const d=()=>{const[e,r]=(0,a.useState)({gaaObject:{},error:"",loading:!0}),[t,d]=(0,a.useState)({gaaProjectsObject:[],error:"",loading:!0}),[n,l]=(0,a.useState)({gaaLevelProjectsObject:[],error:"",loading:!0}),[o,u]=(0,a.useState)({gaaLevelParentsObject:[],error:"",loading:!0}),[s,c]=(0,a.useState)({projectAreaLevelsObject:[],error:"",loading:!1}),[m,p]=(0,a.useState)({gaaHistoryObject:{},error:"",loading:!0}),[q,j]=(0,a.useState)({gaaLevelEntryHistoryObject:{},error:"",loading:!0}),v=(0,i.d4)((e=>e.gaa||{})),g=(0,i.d4)((e=>e.gaaProjects||{})),b=(0,i.d4)((e=>e.gaaLevelProjects||{})),h=(0,i.d4)((e=>e.gaaLevelParents||{})),f=(0,i.d4)((e=>e.projectAreaLevels||{})),y=(0,i.d4)((e=>e.gaaHistory||{})),R=(0,i.d4)((e=>e.gaaLevelEntryHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{d((e=>({...e,...g})))}),[g]),(0,a.useEffect)((()=>{l((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{u((e=>({...e,...h})))}),[h]),(0,a.useEffect)((()=>{c((e=>({...e,...f})))}),[f]),(0,a.useEffect)((()=>{p((e=>({...e,...y})))}),[y]),(0,a.useEffect)((()=>{j((e=>({...e,...R})))}),[R]),{gaa:e,gaaProjects:t,gaaLevelProjects:n,gaaLevelParents:o,projectAreaLevels:s,gaaHistory:m,gaaLevelEntryHistory:q}}},80733:(e,r,t)=>{t.d(r,{Y:()=>d});var a=t(9950),i=t(27081);const d=()=>{const[e,r]=(0,a.useState)({projectsObject:{},error:"",loading:!0}),[t,d]=(0,a.useState)({projectDetailsObject:{},error:"",loading:!0}),[n,l]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[o,u]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[s,c]=(0,a.useState)({projectsObject:[],error:"",loading:!0}),[m,p]=(0,a.useState)({projectsHistoryObject:{},error:"",loading:!0}),q=(0,i.d4)((e=>e.projects||{})),j=(0,i.d4)((e=>e.projectDetails||{})),v=(0,i.d4)((e=>e.projectsDropdown||[])),g=(0,i.d4)((e=>e.allProjectsDropdown||[])),b=(0,i.d4)((e=>e.projectsForRoleOrUser||[])),h=(0,i.d4)((e=>e.projectsHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...q})))}),[q]),(0,a.useEffect)((()=>{d((e=>({...e,...j})))}),[j]),(0,a.useEffect)((()=>{l((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{u((e=>({...e,...g})))}),[g]),(0,a.useEffect)((()=>{c((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{p((e=>({...e,...h})))}),[h]),{projects:e,projectsDropdown:n,allProjectsDropdown:o,projectsHistory:m,projectsGovernForRoleOrUser:s,projectDetails:t}}},13239:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(89379),i=t(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=t(14840),l=function(e,r){return i.createElement(n.A,(0,a.A)((0,a.A)({},e),{},{ref:r,icon:d}))};const o=i.forwardRef(l)},26592:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(79526)),d=t(44414);r.A=(0,i.default)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,t)=>{var a=t(24994);r.A=void 0;var i=a(t(79526)),d=t(44414);r.A=(0,i.default)((0,d.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);