"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[4278,5406],{89649:(e,a,t)=>{t.d(a,{A:()=>s});var r=t(9950),o=t(80415);function s(){const[e,a]=(0,r.useState)({pageIndex:o.j7.pageIndex,pageSize:o.j7.pageSize,forceUpdate:!0}),t=(0,r.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;a((e=>({pageIndex:t,pageSize:r,forceUpdate:!e.forceUpdate})))}),[e]),s=(0,r.useCallback)((()=>{a((e=>({pageIndex:o.j7.pageIndex,pageSize:o.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>a((a=>({...a,pageIndex:e,forceUpdate:!a.forceUpdate}))),setPageSize:e=>a((a=>({pageIndex:o.j7.pageIndex,pageSize:e,forceUpdate:!a.forceUpdate}))),refreshPagination:s,setPaginationsFunctions:t}}},88848:(e,a,t)=>{t.d(a,{$:()=>s});var r=t(9950),o=t(27081);const s=()=>{const[e,a]=(0,r.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[t,s]=(0,r.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[n,d]=(0,r.useState)({masterObject:[],error:"",loading:!0}),[i,c]=(0,r.useState)({masterObject:[],error:"",loading:!0}),[l,u]=(0,r.useState)({masterObject:[],error:"",loading:!0}),[m,p]=(0,r.useState)({currencyObject:[],error:"",loading:!0}),[v,g]=(0,r.useState)({gstStatusObject:[],error:"",loading:!0}),[f,j]=(0,r.useState)({paymentTermObject:[],error:"",loading:!0}),[x,h]=(0,r.useState)({incotermsObject:[],error:"",loading:!0}),[b,I]=(0,r.useState)({titleObject:[],error:"",loading:!0}),[y,M]=(0,r.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),k=(0,o.d4)((e=>e.masterMakerLov||{})),S=(0,o.d4)((e=>e.masterMakerLovList||{})),A=(0,o.d4)((e=>e.lovsForMasterName||[])),O=(0,o.d4)((e=>e.lovsForMasterNameSecond||[])),L=(0,o.d4)((e=>e.lovsForMasterNameThird||[])),T=(0,o.d4)((e=>e.currency||[])),z=(0,o.d4)((e=>e.gstStatus||[])),H=(0,o.d4)((e=>e.paymentTerm||[])),D=(0,o.d4)((e=>e.incoterms||[])),E=(0,o.d4)((e=>e.title||[])),N=(0,o.d4)((e=>e.masterMakerLovHistory||{}));return(0,r.useEffect)((()=>{a((e=>({...e,...k})))}),[k]),(0,r.useEffect)((()=>{s((e=>({...e,...S})))}),[S]),(0,r.useEffect)((()=>{d((e=>({...e,...A})))}),[A]),(0,r.useEffect)((()=>{c((e=>({...e,...O})))}),[O]),(0,r.useEffect)((()=>{u((e=>({...e,...L})))}),[L]),(0,r.useEffect)((()=>{p((e=>({...e,...T})))}),[T]),(0,r.useEffect)((()=>{g((e=>({...e,...z})))}),[z]),(0,r.useEffect)((()=>{j((e=>({...e,...H})))}),[H]),(0,r.useEffect)((()=>{h((e=>({...e,...D})))}),[D]),(0,r.useEffect)((()=>{I((e=>({...e,...E})))}),[E]),(0,r.useEffect)((()=>{M((e=>({...e,...N})))}),[N]),{masterMakerLovs:e,masterMakerLovsList:t,masterMakerOrgType:n,masterMakerOrgTypeSecond:i,masterMakerOrgTypeThird:l,masterMakerCurrency:m,masterMakerGstStatus:v,masterMakerIncoterms:x,masterMakerPaymentTerm:f,masterMakerLovHistory:y,masterMakerTitle:b}}},73769:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var r=t(9950),o=t(27081),s=t(4139),n=t(67535),d=t(60666),i=t(9449),c=t(26473),l=t(34139),u=t(40761),m=t(96951),p=t(84601),v=t(14351),g=t(29024),f=t(52867),j=t(89649),x=t(99635),h=t(88848),b=t(80733),I=t(44414);const y=()=>{var e;const{paginations:{pageSize:a,pageIndex:t},setPageIndex:y,setPageSize:M}=(0,j.A)(),[k,S]=(0,r.useState)(!1),A=(0,o.wA)(),O=(0,i.mN)({resolver:(0,c.t)(d.Ik().shape({projectId:p.A.projectArr,toDate:p.A.toDate})),defaultValues:{},mode:"all"}),L=[{id:"3bf4cfe9-0ba0-4ba5-bd66-bfae7eecfeaf",value:"GRN",name:"GRN"},{id:"fc1015da-7db4-4aa6-844d-92a5557f7941",value:"MRN",name:"MRN"},{id:"ac909ed3-92c2-4cdf-b463-0e351c42cda2",value:"MIN",name:"MIN"},{id:"ef599c14-9e23-447d-9f35-336d69fdfe74",value:"Comsumption",name:"Comsumption"}],{handleSubmit:T}=O,{projectsDropdown:z}=(0,b.Y)(),{masterMakerLovs:H}=(0,h.$)(),D=null===z||void 0===z?void 0:z.projectsDropdownObject,E=null===(e=H.masterMakerLovsObject)||void 0===e?void 0:e.rows,{stocksByDate:N,stocksByDateForExport:P}=(0,u.r)(),{data:w,count:C}=(0,r.useMemo)((()=>{var e,a;return{data:(null===(e=N.stocksObject)||void 0===e?void 0:e.rows)||[],count:(null===(a=N.stocksObject)||void 0===a?void 0:a.count)||0,isLoading:N.loading||!1}}),[N]),{allData:F}=(0,r.useMemo)((()=>{var e;return{allData:(null===(e=P.stocksObject)||void 0===e?void 0:e.rows)||[],isLoading:P.loading||!1}}),[P]),R=(0,r.useMemo)((()=>[{Header:"Project Name",accessor:"project.name"},{Header:"Referece Document Number",accessor:"referenceDocumentNumber"},{Header:"Movement Name",accessor:"transaction_type.name"},{Header:"Material Name",accessor:"material.name"},{Header:"UOM",accessor:"uom.name"},{Header:"Store",accessor:"organization_store.name"},{Header:"Storage Location",accessor:"organization_store_location.name"},{Header:"Other Store",accessor:"other_store.name"},{Header:"Quantity",accessor:"quantity"},{Header:"Rate",accessor:"rate"},{Header:"Value",accessor:"value"},{Header:"Created On",accessor:"createdAt"}]),[]);(0,r.useEffect)((()=>{A((0,g.VOH)("TRANSACTION TYPE"))}),[A]);(0,r.useEffect)((()=>{A((0,g.uiG)()),A((0,g._G1)())}),[A]),(0,r.useEffect)((()=>{A((0,g.qV$)({organizationType:(0,f.x)(E,"COMPANY")}))}),[A,E]);const U=e=>e.map((e=>{var a,t;return{...e,rate:null===e||void 0===e||null===(a=e.rate)||void 0===a?void 0:a.toFixed(3),value:null===(t=e.value)||void 0===t?void 0:t.toFixed(3)}}));return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(m.Op,{methods:O,onSubmit:T((async e=>{e.pageSize=a,e.pageIndex=t,A((0,g.FkW)({...e,projectId:(null===e||void 0===e?void 0:e.projectId)&&(null===e||void 0===e?void 0:e.projectId.length)&&(null===e||void 0===e?void 0:e.projectId.map((e=>e.id))),transactionTypeId:null!==e&&void 0!==e&&e.transactionTypeId&&null!==e&&void 0!==e&&e.transactionTypeId.length?null===e||void 0===e?void 0:e.transactionTypeId.map((e=>e.id)):L.map((e=>e.id))})),A((0,g.ibW)({...e,projectId:(null===e||void 0===e?void 0:e.projectId)&&(null===e||void 0===e?void 0:e.projectId.length)&&(null===e||void 0===e?void 0:e.projectId.map((e=>e.id))),transactionTypeId:null!==e&&void 0!==e&&e.transactionTypeId&&null!==e&&void 0!==e&&e.transactionTypeId.length?null===e||void 0===e?void 0:e.transactionTypeId.map((e=>e.id)):L.map((e=>e.id))})),S(!0)})),children:(0,I.jsxs)(v.A,{title:"Document Wise Report",sx:{mb:2},children:[(0,I.jsxs)(s.Ay,{container:!0,spacing:4,children:[(0,I.jsx)(s.Ay,{item:!0,md:3,xl:2,children:(0,I.jsx)(l.A,{name:"projectId",label:"Project",InputLabelProps:{shrink:!0},menus:D,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,md:3,xl:2,children:(0,I.jsx)(l.A,{name:"transactionTypeId",label:"Movement Type",InputLabelProps:{shrink:!0},menus:L})}),(0,I.jsx)(s.Ay,{item:!0,md:3,xl:2,children:(0,I.jsx)(m.o3,{name:"fromDate",type:"date",label:"From Date",InputLabelProps:{shrink:!0}})}),(0,I.jsx)(s.Ay,{item:!0,md:3,xl:2,children:(0,I.jsx)(m.o3,{name:"toDate",type:"date",label:"To Date",InputLabelProps:{shrink:!0}})}),(0,I.jsx)(s.Ay,{container:!0,spacing:2,alignItems:"end",sx:{mt:2},children:(0,I.jsx)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px",mb:"15px"},children:(0,I.jsx)(n.A,{type:"submit",size:"small",variant:"contained",color:"primary",children:"Proceed"})})})]}),k?(0,I.jsx)(x.default,{title:"Document Wise Report",data:U(w),allData:U(F),count:C,setPageIndex:y,setPageSize:M,pageIndex:t,pageSize:a,columns:R,hideActions:!0}):null]})})})}},13239:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(89379),o=t(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=t(14840),d=function(e,a){return o.createElement(n.A,(0,r.A)((0,r.A)({},e),{},{ref:a,icon:s}))};const i=o.forwardRef(d)},26592:(e,a,t)=>{var r=t(24994);a.A=void 0;var o=r(t(79526)),s=t(44414);a.A=(0,o.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,a,t)=>{var r=t(24994);a.A=void 0;var o=r(t(79526)),s=t(44414);a.A=(0,o.default)((0,s.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);