"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[453],{31892:(e,t,o)=>{o.d(t,{A:()=>y});var a=o(9950),r=o(65669),i=o(43263),d=o(57191),s=o(95537),n=o(67535),l=o(27081),c=o(87233),u=o(71826),p=o(44414);y.defaultProps={stopDelete:!1};const m={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},x={display:"flex",flexDirection:"row",padding:"15px 0"},S={display:"flex",justifyContent:"flex-end",gap:2},j={marginTop:2,display:"flex",fontSize:"14px"};function y(e){let{open:t,handleClose:o,deleteInfo:y,dispatchData:h,stopDelete:v,deleteMaterial:f}=e;const A=(0,l.wA)(),[g,w]=a.useState(null);a.useEffect((()=>{w(null)}),[t]);return(0,p.jsx)("div",{children:(0,p.jsx)(r.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,closeAfterTransition:!0,slots:{backdrop:i.A},slotProps:{backdrop:{timeout:500}},children:(0,p.jsx)(d.A,{in:t,children:(0,p.jsxs)(s.A,{sx:m,children:[(0,p.jsx)(c.A,{id:"transition-modal-title",variant:"h4",children:null===y||void 0===y?void 0:y.title}),(0,p.jsx)(c.A,{id:"transition-modal-title",variant:"h6",sx:x,children:"Are you sure you want to delete ?"}),(0,p.jsxs)(s.A,{sx:S,children:[(0,p.jsx)(n.A,{onClick:o,size:"small",variant:"outlined",color:"primary",children:"Cancel"}),(0,p.jsx)(n.A,{onClick:v?()=>{f(y)}:async()=>{const e=await(0,u.default)(`${null===y||void 0===y?void 0:y.deleteURL}`,{method:"DELETE",params:null===y||void 0===y?void 0:y.deleteID});var t;e.success?(await A(h),o()):w(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message)},size:"small",variant:"contained",color:"error",children:"Delete"})]}),g&&(0,p.jsx)(c.A,{variant:"p",color:"red",sx:j,children:g})]})})})})}},20453:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var a=o(9950),r=o(27081),i=o(29024),d=o(80415),s=o(4139),n=o(67535),l=o(60666),c=o(9449),u=o(26473),p=o(71826),m=o(32112),x=o(28073),S=o(99144),j=o(28040),y=o(96951),h=o(14351),v=o(84601),f=o(44414);const A=e=>{const[t,o]=(0,a.useState)(""),[d,A]=(0,a.useState)(""),{onClick:g,data:w,view:b,update:I,refreshPagination:C}=e,D=(0,c.mN)({resolver:(0,u.t)(l.Ik().shape({name:v.A.name,projectSiteStoreId:v.A.projectSiteStore,code:v.A.code,address:v.A.address,pinCode:v.A.pincode,countryId:v.A.country,stateId:v.A.state,cityId:v.A.city})),defaultValues:{},mode:"all"}),{handleSubmit:k,setValue:O}=D,E=(0,r.wA)();(0,a.useEffect)((()=>{E((0,i.cTJ)()),E((0,i.J_q)())}),[E]),(0,a.useEffect)((()=>{t&&E((0,i.CYQ)(t))}),[E,t]),(0,a.useEffect)((()=>{d&&E((0,i.$lv)(d))}),[E,d]);const{countriesDropdown:H}=(0,S.o)(),{statesDropdown:P}=(0,x.Y)(),{citiesDropdown:z}=(0,m.J)(),{projectSiteStoreDropdown:L}=(0,j.B)();(0,a.useEffect)((()=>{var e;(b||I)&&(o(w.city.state.country.id),A(w.city.state.id),O("countryId",w.city.state.country.id),O("stateId",w.city.state.id),e=w,Object.entries(e).forEach((e=>{let[t,o]=e;O(t,o)})))}),[w,I,b,O]);const R=null===L||void 0===L?void 0:L.projectSiteStoreDropdownObject,U=null===H||void 0===H?void 0:H.countriesDropdownObject,B=null===P||void 0===P?void 0:P.statesDropdownObject,T=null===z||void 0===z?void 0:z.citiesDropdownObject,_=(e,t,o,a,r)=>(0,f.jsx)(y.eu,{name:e,onChange:a,label:t,InputLabelProps:{shrink:!0},menus:o,...r&&{required:!0},...b?{disable:!0}:I?{disable:!1}:{}}),V=function(e,t,o,a){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,f.jsx)(y.o3,{name:e,type:o,label:t,InputLabelProps:{shrink:r},...a&&{required:!0},...b?{disabled:!0}:I?{disabled:!1}:{}})};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(y.Op,{methods:D,onSubmit:k((async e=>{let t;e.attachments="attachment.jpg",t=I?await(0,p.default)("/location-site-store-update",{method:"PUT",body:e,params:w.id}):await(0,p.default)("/location-site-store-form",{method:"POST",body:e}),t.success&&(C(),E((0,i.OwG)()),g())})),children:(0,f.jsxs)(h.A,{title:(b?"View ":I?"Update ":"Add ")+"Location Site Store",children:[(0,f.jsxs)(s.Ay,{container:!0,spacing:4,children:[(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:_("projectSiteStoreId","Project Site Store",R,void 0,!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("name","Name","text",!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("integrationId","Integration ID","text")}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("code","Code","text",!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("address","Address","text",!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:_("countryId","Country",U,(e=>{var t;o(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}),!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:_("stateId","State",B,(e=>{var t;A(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}),!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:_("cityId","City",T,void 0,!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("pinCode","Pincode","number",!0)}),(0,f.jsx)(s.Ay,{item:!0,md:3,xl:2,children:V("remarks","Remarks","text")})]}),(0,f.jsxs)(s.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:2},children:[(0,f.jsx)(s.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-start",gap:"20px"}}),(0,f.jsxs)(s.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:[(0,f.jsx)(n.A,{onClick:g,size:"small",variant:"outlined",color:"primary",children:"Back"}),!b&&(0,f.jsx)(n.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:I?"Update":"Save"})]})]})]})})})};var g=o(99635),w=o(31892);const b=()=>{const[e,t]=(0,a.useState)(d.j7.pageIndex),[o,s]=(0,a.useState)(d.j7.pageSize),n=()=>{t(d.j7.pageIndex),s(d.j7.pageSize)},[l,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[S,j]=(0,a.useState)(!1),[y,h]=(0,a.useState)(!1),v=(0,r.wA)();(0,a.useEffect)((()=>{v((0,i.OwG)())}),[v]);const{locationSiteStore:b}=(()=>{const[e,t]=(0,a.useState)({locationSiteStoreObject:{},error:"",loading:!0}),[o,i]=(0,a.useState)({locationSiteStoreDropdownObject:[],error:"",loading:!0}),d=(0,r.d4)((e=>e.locationSiteStore||{})),s=(0,r.d4)((e=>e.locationSiteStoreDropdown||[]));return(0,a.useEffect)((()=>{t((e=>({...e,...d})))}),[d]),(0,a.useEffect)((()=>{i((e=>({...e,...s})))}),[s]),{locationSiteStore:e,locationSiteStoreDropdown:o}})(),{data:I,count:C}=(0,a.useMemo)((()=>{var e,t;return{data:(null===(e=b.locationSiteStoreObject)||void 0===e?void 0:e.rows)||[],count:(null===(t=b.locationSiteStoreObject)||void 0===t?void 0:t.count)||0,isLoading:b.loading||!1}}),[b]),D=(0,a.useMemo)((()=>[{Header:"Project Site Store",accessor:"project_site_store.name"},{Header:"Name",accessor:"name"},{Header:"Code",accessor:"code"},{Header:"Integration ID",accessor:"integrationId"},{Header:"Address",accessor:"address"},{Header:"Country",accessor:"city.state.country.name"},{Header:"State",accessor:"city.state.name"},{Header:"City",accessor:"city.name"},{Header:"Pincode",accessor:"pinCode"},{Header:"Remarks",accessor:"remarks"},{Header:"Updated On",accessor:"updatedAt"},{Header:"Updated By",accessor:"updatedBy"},{Header:"Created On",accessor:"createdAt"},{Header:"Created By",accessor:"createdBy"}]),[]),[k,O]=(0,a.useState)(!1),E=()=>{j(!1),h(!1),O(!k)};return(0,f.jsxs)(f.Fragment,{children:[k?(0,f.jsx)(A,{refreshPagination:n,onClick:E,...m&&{data:m},...S&&{view:S,update:!1},...y&&{update:y,view:!1}}):(0,f.jsx)(g.default,{title:"Location Site Store",data:I,columns:D,count:C,setPageIndex:t,setPageSize:s,pageIndex:e,pageSize:o,onClick:E,handleRowView:e=>{O(!0),j(!0),h(!1),x(e)},handleRowDelete:async e=>{const t={};t.deleteID=e,t.title="Delete Firm",t.deleteURL="/delete-location-site-store",p(t),c(!0)},handleRowUpdate:e=>{O(!0),h(!0),j(!1),x(e)}}),(0,f.jsx)(w.A,{open:l,handleClose:()=>c(!1),deleteInfo:u,dispatchData:()=>{n(),v((0,i.OwG)())}})]})}},28040:(e,t,o)=>{o.d(t,{B:()=>i});var a=o(9950),r=o(27081);const i=()=>{const[e,t]=(0,a.useState)({projectSiteStoreObject:{},error:"",loading:!0}),[o,i]=(0,a.useState)({projectSiteStoreDropdownObject:[],error:"",loading:!0}),d=(0,r.d4)((e=>e.projectSiteStore||{})),s=(0,r.d4)((e=>e.projectSiteStoreDropdown||[]));return(0,a.useEffect)((()=>{t((e=>({...e,...d})))}),[d]),(0,a.useEffect)((()=>{i((e=>({...e,...s})))}),[s]),{projectSiteStore:e,projectSiteStoreDropdown:o}}}}]);