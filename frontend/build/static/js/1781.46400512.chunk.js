"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[1781,5406],{64499:(e,r,i)=>{i.d(r,{A:()=>b});var t=i(9950),a=i(65669),d=i(43263),n=i(57191),l=i(95537),u=i(67535),o=i(87233),s=i(44414);b.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const m={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},c={display:"flex",flexDirection:"row",padding:"15px 0"},q={display:"flex",justifyContent:"flex-end",gap:2},p={marginTop:2,display:"flex",fontSize:"14px"};function b(e){let{open:r,handleClose:i,title:b,message:j,closeBtnTitle:h,confirmBtnTitle:y,handleConfirm:v,confirmColor:R}=e;const[Y,f]=(0,t.useState)(null);return(0,t.useEffect)((()=>{f(null)}),[r]),(0,s.jsx)("div",{children:(0,s.jsx)(a.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:d.A},slotProps:{backdrop:{timeout:500}},children:(0,s.jsx)(n.A,{in:r,children:(0,s.jsxs)(l.A,{sx:m,children:[(0,s.jsx)(o.A,{id:"transition-modal-title",variant:"h4",children:b}),(0,s.jsx)(o.A,{id:"transition-modal-title",variant:"h6",sx:c,children:j}),(0,s.jsxs)(l.A,{sx:q,children:[!!i&&(0,s.jsx)(u.A,{onClick:i,size:"small",variant:"outlined",color:"primary",children:h}),!!v&&(0,s.jsx)(u.A,{onClick:v,size:"small",variant:"contained",color:R||"error",children:y})]}),Y&&(0,s.jsx)(o.A,{variant:"p",color:"red",sx:p,children:Y})]})})})})}},84601:(e,r,i)=>{i.d(r,{A:()=>o});var t=i(60666);const a=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],d=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},l=["nothing","",()=>!0],u=function(e,r,i){let t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=new Date(e),d=new Date(r),n=new Date(i);return t?n<=a&&a<=d:n<=a&&a>=d},o={allowedColumns:t.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:t.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:t.Yj().required("Required").nullable(),formType:t.Yj().required("Required").nullable(),taskType:t.Yj().required("Required").nullable(),code:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:t.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:t.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:t.Yj().required("Required"),title:t.Yj().required("Required").nullable(),office:t.Yj().required("Required").nullable(),masterCode:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:t.Yj().required("Required"),gstNumber:t.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:t.Yj().required("Required"),storePhoto:t.Yj().required("Required"),email:t.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:t.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:t.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:t.Yj().required("Required"),nother:t.Yj().nullable().required("Required"),otherArray:t.YO().min(1,"Please select atleast one field"),areaLevel:t.YO().min(1,"Please select atleast one level."),formTitle:t.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:t.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:t.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:t.Yj().required(" "),telephone:t.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:t.Yj().required("Required"),registeredAddress:t.Yj().required("Required"),quantity:t.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:t.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:t.ai().test(...n()).test(...a).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.ai().test(...r?n():l).test(...a).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:t.Yj().required("Required"),state:t.Yj().required("Required"),city:t.Yj().required("Required"),registeredCountry:t.Yj().required("Required"),registeredState:t.Yj().required("Required"),registeredCity:t.Yj().required("Required"),organizationType:t.Yj().nullable().required("Required"),organizationCode:t.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:t.Yj().nullable().required("Required"),organizationLocationId:t.Yj().required("Required"),integrationId:t.Yj().required("Required"),firm:t.Yj().required("Required"),movementType:t.Yj().required("Required"),supplier:t.Yj().required("Required"),masterMaker:t.Yj().required("Required"),projectMasterMaker:t.Yj().required("Required"),lov:t.Yj().required("Required"),date:t.Yj().required("Required"),fromDate:t.Yj().required("Required"),toDate:t.Yj().when("fromDate",{is:e=>!!e,then:t.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:t.Yj().required("Required"),challanNumber:t.Yj().required("Required"),poNumber:t.Yj().required("Required"),workOrderNumber:t.Yj().required("Required"),receivingStore:t.Yj().required("Required"),uom:t.Yj().required("Required"),project:t.Yj().nullable().required("Required"),projectArr:t.YO().of(t.gl()).nullable().required("Required").min(1,"Required"),organizationArr:t.YO().of(t.gl()).nullable().required("Required").min(1,"Required"),accessProject:t.Yj().nullable().required("Required"),rate:t.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:t.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:t.Yj().required("Required"),rangeTo:t.Yj().required("Required"),requiredWithLabel:()=>t.Yj().nullable().required("Required"),requiredWithNonZero:e=>t.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>t.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:t.ai().required("Required"),isSerialize:t.Yj().required("Please select a checkbox"),vehicleNumber:t.Yj().required("Required"),vehicleNumberOptional:t.Yj().nullable(),inventoryNameOptional:t.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:t.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:t.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:t.Yj().required("Required"),eWayBillNumber:t.Yj().required("Required"),eWayBillDate:t.Yj().required("Required"),actualReceiptDate:t.Yj().when("eWayBillDate",{is:e=>!!e,then:t.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:t.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:t.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:t.Yj().nullable().required("Required"),placeOfTransfer:t.Yj().required("Required"),contractorStore:t.Yj().nullable().required("Required"),projectSiteStoreLocation:t.Yj().required("Required"),contractorStoreLocation:t.Yj().nullable().required("Required"),contractorEmployee:t.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>t.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:t.Yj().required("Required"),longDescription:t.Yj().required("Required"),hsnCode:t.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:t.Yj().required("Required"),store:t.Yj().nullable().required("Required"),accessStore:t.Yj().nullable().required("Required"),series:t.Yj().required("Required"),material:t.Yj().required("Required"),materialType:t.Yj().required("Required"),materialCode:t.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:t.Yj().nullable().required("Required"),accessOrganizationId:t.Yj().nullable().required("Required"),company:t.Yj().required("Required"),contractor:t.Yj().nullable().required("Required"),contractorId:t.Yj().required("Required"),fromInstaller:t.Yj().nullable().required("Required"),toInstaller:t.Yj().nullable().required("Required"),fromStoreLocationId:t.Yj().nullable().required("Required"),toStoreLocationId:t.Yj().nullable().required("Required"),storeLocationId:t.Yj().nullable().required("Required"),installerStoreLocationId:t.Yj().nullable().required("Required"),accessStoreLocationId:t.Yj().nullable().required("Required"),fromStore:t.Yj().nullable().required("Required"),toStore:t.Yj().required("Required"),transporterName:t.Yj().required("Required"),customerSiteStoreId:t.Yj().nullable().required("Required"),toCustomerId:t.Yj().nullable().required("Required"),financialYear:t.Yj().required("Required"),user:t.Yj().required("Required"),accessUser:t.Yj().nullable().required("Required"),rightsFor:t.Yj().nullable().required("Required"),gaaLevelId:t.Yj().nullable().required("Required"),networkLevelId:t.Yj().nullable().required("Required"),server:t.Yj().required("Required"),port:t.Yj().required("Required"),encryption:t.Yj().required("Required"),requisitionNumber:t.Yj().nullable().required("Required"),password:t.Yj().required("Required"),transaction:t.Yj().nullable().required("Required"),serviceCenter:t.Yj().nullable().required("Required"),scrapLocation:t.Yj().nullable().required("Required"),effectiveFrom:t.Yj().required("Required"),effectiveTo:t.Yj().required("Required"),displayName:t.Yj().required("Required"),templateName:t.Yj().required("Required"),subject:t.Yj().required("Required"),from:t.Yj().required("Required"),to:t.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:t.Yj().required("Required"),attachmentsWhenIsAuthorized:t.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:t.Yj().nullable().required("Required")}),requestNumber:t.Yj().required("Required"),remarks:t.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:t.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:t.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:t.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>t.Yj().required("Required"),startDateRange:(e,r,i)=>t.Yj().required("Required").test("date-comparison",`${r} must be >= ${i}`,(function(r){return function(e,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const t=new Date(e),a=new Date(r);return i?t<=a:t>=a}(r,e,!1)})),endDateRange:(e,r,i,a,d,n)=>t.Yj().required("Required").test("date-comparison",`${i} must be <= ${a} and >= ${d}`,(function(i){return u(i,e,r,!n)})),endDateRangeMax:(e,r,i,a,d,n)=>t.Yj().required("Required").test("date-comparison",`${i} must be >= ${a} and >= ${d}`,(function(i){return u(i,e,r,!n)})),month:e=>t.ai().test(...n(e)).test(...d).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,i)=>t.ai().test(...n(r)).test(...d).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${i}`),checkQty:e=>t.ai().test(...n(e)).test(...a).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?t.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):t.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:t.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},73730:(e,r,i)=>{i.r(r),i.d(r,{default:()=>S});var t=i(9950),a=i(14857),d=i(2683),n=i(4139),l=i(87233),u=i(67535),o=i(74745),s=i(96583),m=i(9449),c=i(60666),q=i(28429),p=i(42074),b=i(26473),j=i(27081),h=i(76300),y=i(29024),v=i(96951),R=i(71826),Y=i(84601),f=i(10447),x=i(62054),g=i(99635),A=i(64499),w=i(44414);const S=()=>{var e;const r=(0,a.A)(),[i,S]=(0,t.useState)(null),[N,$]=(0,t.useState)(!1),[P,z]=(0,t.useState)(!1),[F,C]=(0,t.useState)(!1),[E,D]=(0,t.useState)({}),{formId:I,blockId:T}=(0,q.g)(),k=(0,j.wA)(),L=(0,m.mN)({resolver:(0,b.t)(c.Ik().shape({name:Y.A.other,type:Y.A.other})),defaultValues:{parent:null,value:null,dependency:null},mode:"all"}),{handleSubmit:V,setValue:O}=L,H=[{id:"F1",name:"File Name (F1)",type:"image"},{id:"F2",name:"File Path (F2)",type:"image"},{id:"F1",name:"File Name (F1)",type:"file"},{id:"F2",name:"File Path (F2)",type:"file"},{id:"F1",name:"File Name (F1)",type:"blob"},{id:"F2",name:"File Path (F2)",type:"blob"},{id:"L1",name:"Latitude (L1)",type:"location"},{id:"L2",name:"Longitude (L2)",type:"location"},{id:"L3",name:"Accuracy (L3)",type:"location"},{id:"N1",name:"Sim 1 - RSRP (N1)",type:"dbm"},{id:"N2",name:"Sim 1 - RSRQ (N2)",type:"dbm"},{id:"N3",name:"Sim 1 - SINR (N3)",type:"dbm"},{id:"N4",name:"Sim 1 - ASU (N4)",type:"dbm"},{id:"N5",name:"Sim 1 - Provider (N5)",type:"dbm"},{id:"N6",name:"Sim 1 - Type (N6)",type:"dbm"},{id:"N7",name:"Sim 2 - RSRP (N7)",type:"dbm"},{id:"N8",name:"Sim 2 - RSRQ (N8)",type:"dbm"},{id:"N9",name:"Sim 2 - SINR (N9)",type:"dbm"},{id:"N10",name:"Sim 2 - ASU (N10)",type:"dbm"},{id:"N11",name:"Sim 2 - Provider (N11)",type:"dbm"},{id:"N12",name:"Sim 2 - Type (N12)",type:"dbm"},{id:"S1",name:"Download Speed (S1)",type:"Mbps"},{id:"S2",name:"Upload Speed (S2)",type:"Mbps"}];(0,t.useEffect)((()=>(I&&k((0,y.u44)({formId:I,sortBy:"rank",sortOrder:"ASC"})),T&&(k((0,y.pzL)(T)),k((0,y.qsm)(T))),()=>{k(f.wF.actions.reset()),k(f.JO.actions.reset())})),[k,I,T]);const{formAttributes:M,attributeIntegrationPayload:Z,payloadParentDropdown:B}=(0,h.I)(),W=(0,t.useMemo)((()=>{var e;return(null===M||void 0===M||null===(e=M.formAttributesObject)||void 0===e?void 0:e.rows)||[]}),[null===M||void 0===M||null===(e=M.formAttributesObject)||void 0===e?void 0:e.rows]),{formData:_}=(0,t.useMemo)((()=>{var e;return{formData:(null===Z||void 0===Z||null===(e=Z.formAttributeIntegrationPayloadObject)||void 0===e?void 0:e.rows)||[]}}),[Z]),{parentData:Q}=(0,t.useMemo)((()=>({parentData:(null===B||void 0===B?void 0:B.payloadParentDropdownObject)||[]})),[B]);(0,t.useEffect)((()=>{const e=_.map((e=>{var r,i,t,a,d,n,l;return{...e,value:"true"===(null===(r=e.properties)||void 0===r?void 0:r.isConcat)?J(e.properties,W):null!==(i=e.properties)&&void 0!==i&&i.fixedValue?null===(t=e.properties)||void 0===t?void 0:t.fixedValue:null!==e.value?(null===(a=e.valueName)||void 0===a?void 0:a.name)+(null!==(d=e.properties)&&void 0!==d&&d.subType?" ("+(null===(n=e.properties)||void 0===n?void 0:n.subType)+")":""):"",parent:null!==e.parent?null===(l=e.parentName)||void 0===l?void 0:l.name:"",parentId:null!==e.parent?e.parent:"",valueName:null,parentName:null}}));const r=G(e);D(r)}),[_,W]);const U=(0,t.useMemo)((()=>[{Header:"Type",accessor:e=>{const r="array"===(null===e||void 0===e?void 0:e.type)?"Array of object":null===e||void 0===e?void 0:e.type;return r?r.charAt(0).toUpperCase()+r.slice(1):""}},{Header:"Name",accessor:"name"},{Header:"Parent",accessor:"parentName.name"},{Header:"Hierarchy Field",accessor:"properties.isConcat",Cell:e=>{let{cell:{value:r}}=e;return"true"===r?"Yes":"-"}},{Header:"Value Field",accessor:"valueName.name"},{Header:"Split Parameter",accessor:"properties.subType"},{Header:"Fixed Value",accessor:"properties.fixedValue"},{Header:"Dependency Field",accessor:"properties.dependency"},{Header:"Format",accessor:"properties.format"},{Header:"True Value",accessor:"properties.trueValue"}]),[]),G=e=>{const r=e.reduce(((e,r)=>{const{parentId:i,...t}=r;return e[i]=e[i]||[],e[i].push(t),e}),{}),i=e=>(r[e]||[]).reduce(((e,t)=>{let{id:a,name:d,type:n,value:l}=t;if("key"===n)e[d]=l;else if("object"===n){const r=i(a);Array.isArray(e)?e.push(r):e[d]=r}else if("array"===n){const t=[];(r[a]||[]).forEach((e=>{const{id:r,type:a,value:d,name:n}=e;"key"===a?t.push({[n]:d}):("object"===a||"array"===a)&&t.push(i(r))})),e[d]=t}return e}),{});return i("")},J=(e,r)=>{const i=Object.keys(e).filter((e=>e.startsWith("column"))).sort(((e,r)=>parseInt(e.slice(-1))-parseInt(r.slice(-1)))).map((i=>(e=>{const i=r.find((r=>r.id===e));return i?i.name:""})(e[i])));return null!==e&&void 0!==e&&e.separator?null===i||void 0===i?void 0:i.join(e.separator):null===i||void 0===i?void 0:i.join("")};const K=L.watch("type");(0,t.useEffect)((()=>{O("value",null)}),[K,O]);const X=L.watch("numberFields");return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(d.A,{sx:{maxHeight:"85vh",minHeight:"85vh",overflow:"auto",border:"1px solid",borderRadius:1,borderColor:r.palette.grey.A800,boxShadow:"inherit"},children:[(0,w.jsxs)(v.Op,{methods:L,onSubmit:V((async e=>{if("true"===e.isConcat){const r=parseInt(e.numberFields,10);e=Object.keys(e).reduce(((i,t)=>{const a=t.match(/^column(\d+)$/),d=a?parseInt(a[1],10):null;return(!a||null!==d&&d<=r&&null!==e[t]&&void 0!==e[t]&&""!==e[t])&&(i[t]=e[t]),i}),{})}if(C(!0),e.value||(e.value=null),e.dependency){var r;const i=null===W||void 0===W||null===(r=W.find((r=>r.id===e.dependency)))||void 0===r?void 0:r.id;e.dependency=i}else e.dependency=null;e.format&&"boolean"!==e.format&&delete e.trueValue;const{type:i,name:t,value:a,parent:d,...n}=e,l={type:i,name:t,value:a,parent:d,integrationBlockId:T,properties:n},u=await(0,R.default)("/attribute-integration-payload-create",{method:"POST",body:l});var o;u.success?(L.reset({type:"",name:"",value:null,dependency:null,fixedValue:"",subType:"",parent:null,format:"",trueValue:"",numberFields:"",separator:""}),T&&(k((0,y.pzL)(T)),k((0,y.qsm)(T))),C(!1)):((0,x.A)((null===u||void 0===u||null===(o=u.error)||void 0===o?void 0:o.message)||"Operation failed. Please try again.",{variant:"error"}),C(!1))})),children:[(0,w.jsxs)(n.Ay,{sx:{position:"absolute",top:0,width:"100%",background:"white",zIndex:10,p:2,pb:0},children:[(0,w.jsx)(n.Ay,{container:!0,children:(0,w.jsxs)(n.Ay,{item:!0,md:12,sx:{display:"flex",justifyContent:"space-between"},children:[(0,w.jsx)(l.A,{variant:"h4",children:"API Payload"}),(0,w.jsxs)(n.Ay,{item:!0,sx:{display:"flex",gap:2},children:[(0,w.jsx)(u.A,{component:p.N_,to:"/form-integration-rules/"+I,size:"small",variant:"outlined",color:"primary",children:"Back"}),(0,w.jsx)(u.A,{onClick:()=>z(!0),size:"small",variant:"contained",color:"primary",children:"Table View"})]})]})}),(0,w.jsx)(o.A,{sx:{mt:2}})]}),(0,w.jsxs)(n.Ay,{container:!0,spacing:4,sx:{pl:4,pr:4,pt:2,mt:5,mb:2},children:[(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"type",label:"Type",allowClear:!0,menus:[{name:"Key",id:"key"},{name:"Object",id:"object"},{name:"Array of object",id:"array"}],required:!0})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"parent",label:"Parent",allowClear:!0,menus:"key"===L.watch("type")?null===Q||void 0===Q?void 0:Q.filter((e=>"array"!==e.type)):Q})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.o3,{name:"name",type:"text",label:"Name",required:!0})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"isConcat",defaultValue:"false",label:"Hierarchy Field",menus:[{name:"Yes",id:"true"},{name:"No",id:"false"}],allowClear:!0,required:!0,disable:!(!L.watch("type")||"key"===L.watch("type"))})}),"true"!==L.watch("isConcat")?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"value",label:"Value Field",menus:W,allowClear:!0,disable:!(!L.watch("type")||"key"===L.watch("type"))})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"subType",label:"Split Parameter",allowClear:!0,menus:null===H||void 0===H?void 0:H.filter((e=>{var r,i,t;return e.type===(null===W||void 0===W||null===(r=W.find((e=>e.id===L.watch("value"))))||void 0===r||null===(i=r.default_attribute)||void 0===i?void 0:i.inputType)||e.type===(null===W||void 0===W||null===(t=W.find((e=>e.id===L.watch("value"))))||void 0===t?void 0:t.properties.networkType)}))})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.o3,{name:"fixedValue",type:"text",label:"Fixed Value"})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"dependency",label:"Dependency Field",menus:W,allowClear:!0,disable:!(!L.watch("type")||"key"===L.watch("type"))})}),(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:"format",label:"Format",allowClear:!0,menus:[{name:"Double Precision",id:"double"},{name:"Boolean",id:"boolean"}]})}),"boolean"===L.watch("format")?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.o3,{name:"trueValue",type:"text",label:"True Value"})})}):(0,w.jsx)(w.Fragment,{})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.o3,{name:"numberFields",type:"number",label:"Number of Fields"})}),X>=1&&X<=5?Array.from({length:X},((e,r)=>(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.eu,{name:`column${r+1}`,label:`Field ${r+1}`,menus:W})},r))):null,(0,w.jsx)(n.Ay,{item:!0,md:3,children:(0,w.jsx)(v.o3,{name:"separator",type:"text",label:"Separator"})})]}),(0,w.jsx)(n.Ay,{item:!0,md:1,sx:{mt:4},children:(0,w.jsx)(u.A,{size:"small",type:"submit",variant:"contained",color:"primary",disabled:F,children:"Save"})})]})]}),(0,w.jsxs)(n.Ay,{container:!0,sx:{pl:2,pr:2,pt:2,mb:2},children:[(0,w.jsx)(s.A,{open:P,scroll:"body",maxWidth:"lg",onClose:()=>z(!1),children:(0,w.jsx)(n.Ay,{item:!0,xl:12,children:(0,w.jsx)(g.default,{title:"payload",hidePagination:!0,hideHeader:!0,hideHistoryIcon:!0,hideViewIcon:!0,miniAction:!0,hideEditIcon:!0,handleRowDelete:e=>{S(e),$(!0)},hideEmptyTable:!0,data:_,columns:U,count:null===_||void 0===_?void 0:_.length})})})," ",(0,w.jsxs)(n.Ay,{item:!0,sx:{p:2},xl:12,children:[(0,w.jsx)(l.A,{sx:{fontWeight:"bold",fontSize:16,mb:1,textDecoration:"underline"},children:"Payload"}),(0,w.jsx)("pre",{children:JSON.stringify(E,null,2)})]})]})]}),(0,w.jsx)(A.A,{open:N,handleClose:()=>$(!1),handleConfirm:async()=>{const e=await(0,R.default)("/attribute-integration-payload-delete",{method:"DELETE",params:i});var r;e.success?(k((0,y.pzL)(T)),k((0,y.qsm)(T)),$(!1)):(0,x.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message)},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"})]})}},13239:(e,r,i)=>{i.d(r,{A:()=>u});var t=i(89379),a=i(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=i(14840),l=function(e,r){return a.createElement(n.A,(0,t.A)((0,t.A)({},e),{},{ref:r,icon:d}))};const u=a.forwardRef(l)},26592:(e,r,i)=>{var t=i(24994);r.A=void 0;var a=t(i(79526)),d=i(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,i)=>{var t=i(24994);r.A=void 0;var a=t(i(79526)),d=i(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);