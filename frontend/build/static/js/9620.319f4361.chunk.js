"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[9620,5406],{84601:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(60666);const o=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],i=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},d=["nothing","",()=>!0],u=function(e,r,t){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=new Date(e),i=new Date(r),n=new Date(t);return a?n<=o&&o<=i:n<=o&&o>=i},s={allowedColumns:a.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:a.Yj().required("Required").nullable(),formType:a.Yj().required("Required").nullable(),taskType:a.Yj().required("Required").nullable(),code:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:a.Yj().required("Required"),title:a.Yj().required("Required").nullable(),office:a.Yj().required("Required").nullable(),masterCode:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:a.Yj().required("Required"),gstNumber:a.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:a.Yj().required("Required"),storePhoto:a.Yj().required("Required"),email:a.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:a.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:a.Yj().required("Required"),nother:a.Yj().nullable().required("Required"),otherArray:a.YO().min(1,"Please select atleast one field"),areaLevel:a.YO().min(1,"Please select atleast one level."),formTitle:a.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:a.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:a.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:a.Yj().required(" "),telephone:a.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:a.Yj().required("Required"),registeredAddress:a.Yj().required("Required"),quantity:a.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:a.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:a.ai().test(...n()).test(...o).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.ai().test(...r?n():d).test(...o).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:a.Yj().required("Required"),state:a.Yj().required("Required"),city:a.Yj().required("Required"),registeredCountry:a.Yj().required("Required"),registeredState:a.Yj().required("Required"),registeredCity:a.Yj().required("Required"),organizationType:a.Yj().nullable().required("Required"),organizationCode:a.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:a.Yj().nullable().required("Required"),organizationLocationId:a.Yj().required("Required"),integrationId:a.Yj().required("Required"),firm:a.Yj().required("Required"),movementType:a.Yj().required("Required"),supplier:a.Yj().required("Required"),masterMaker:a.Yj().required("Required"),projectMasterMaker:a.Yj().required("Required"),lov:a.Yj().required("Required"),date:a.Yj().required("Required"),fromDate:a.Yj().required("Required"),toDate:a.Yj().when("fromDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:a.Yj().required("Required"),challanNumber:a.Yj().required("Required"),poNumber:a.Yj().required("Required"),workOrderNumber:a.Yj().required("Required"),receivingStore:a.Yj().required("Required"),uom:a.Yj().required("Required"),project:a.Yj().nullable().required("Required"),projectArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),organizationArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),accessProject:a.Yj().nullable().required("Required"),rate:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:a.Yj().required("Required"),rangeTo:a.Yj().required("Required"),requiredWithLabel:()=>a.Yj().nullable().required("Required"),requiredWithNonZero:e=>a.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>a.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:a.ai().required("Required"),isSerialize:a.Yj().required("Please select a checkbox"),vehicleNumber:a.Yj().required("Required"),vehicleNumberOptional:a.Yj().nullable(),inventoryNameOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:a.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:a.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:a.Yj().required("Required"),eWayBillNumber:a.Yj().required("Required"),eWayBillDate:a.Yj().required("Required"),actualReceiptDate:a.Yj().when("eWayBillDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:a.Yj().nullable().required("Required"),placeOfTransfer:a.Yj().required("Required"),contractorStore:a.Yj().nullable().required("Required"),projectSiteStoreLocation:a.Yj().required("Required"),contractorStoreLocation:a.Yj().nullable().required("Required"),contractorEmployee:a.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>a.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:a.Yj().required("Required"),longDescription:a.Yj().required("Required"),hsnCode:a.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:a.Yj().required("Required"),store:a.Yj().nullable().required("Required"),accessStore:a.Yj().nullable().required("Required"),series:a.Yj().required("Required"),material:a.Yj().required("Required"),materialType:a.Yj().required("Required"),materialCode:a.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:a.Yj().nullable().required("Required"),accessOrganizationId:a.Yj().nullable().required("Required"),company:a.Yj().required("Required"),contractor:a.Yj().nullable().required("Required"),contractorId:a.Yj().required("Required"),fromInstaller:a.Yj().nullable().required("Required"),toInstaller:a.Yj().nullable().required("Required"),fromStoreLocationId:a.Yj().nullable().required("Required"),toStoreLocationId:a.Yj().nullable().required("Required"),storeLocationId:a.Yj().nullable().required("Required"),installerStoreLocationId:a.Yj().nullable().required("Required"),accessStoreLocationId:a.Yj().nullable().required("Required"),fromStore:a.Yj().nullable().required("Required"),toStore:a.Yj().required("Required"),transporterName:a.Yj().required("Required"),customerSiteStoreId:a.Yj().nullable().required("Required"),toCustomerId:a.Yj().nullable().required("Required"),financialYear:a.Yj().required("Required"),user:a.Yj().required("Required"),accessUser:a.Yj().nullable().required("Required"),rightsFor:a.Yj().nullable().required("Required"),gaaLevelId:a.Yj().nullable().required("Required"),networkLevelId:a.Yj().nullable().required("Required"),server:a.Yj().required("Required"),port:a.Yj().required("Required"),encryption:a.Yj().required("Required"),requisitionNumber:a.Yj().nullable().required("Required"),password:a.Yj().required("Required"),transaction:a.Yj().nullable().required("Required"),serviceCenter:a.Yj().nullable().required("Required"),scrapLocation:a.Yj().nullable().required("Required"),effectiveFrom:a.Yj().required("Required"),effectiveTo:a.Yj().required("Required"),displayName:a.Yj().required("Required"),templateName:a.Yj().required("Required"),subject:a.Yj().required("Required"),from:a.Yj().required("Required"),to:a.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:a.Yj().required("Required"),attachmentsWhenIsAuthorized:a.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:a.Yj().nullable().required("Required")}),requestNumber:a.Yj().required("Required"),remarks:a.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:a.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:a.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>a.Yj().required("Required"),startDateRange:(e,r,t)=>a.Yj().required("Required").test("date-comparison",`${r} must be >= ${t}`,(function(r){return function(e,r){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=new Date(e),o=new Date(r);return t?a<=o:a>=o}(r,e,!1)})),endDateRange:(e,r,t,o,i,n)=>a.Yj().required("Required").test("date-comparison",`${t} must be <= ${o} and >= ${i}`,(function(t){return u(t,e,r,!n)})),endDateRangeMax:(e,r,t,o,i,n)=>a.Yj().required("Required").test("date-comparison",`${t} must be >= ${o} and >= ${i}`,(function(t){return u(t,e,r,!n)})),month:e=>a.ai().test(...n(e)).test(...i).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,t)=>a.ai().test(...n(r)).test(...i).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${t}`),checkQty:e=>a.ai().test(...n(e)).test(...o).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:a.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},88848:(e,r,t)=>{t.d(r,{$:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[n,d]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[u,s]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[l,c]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[m,j]=(0,a.useState)({currencyObject:[],error:"",loading:!0}),[q,g]=(0,a.useState)({gstStatusObject:[],error:"",loading:!0}),[v,f]=(0,a.useState)({paymentTermObject:[],error:"",loading:!0}),[S,b]=(0,a.useState)({incotermsObject:[],error:"",loading:!0}),[p,h]=(0,a.useState)({titleObject:[],error:"",loading:!0}),[y,R]=(0,a.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),Y=(0,o.d4)((e=>e.masterMakerLov||{})),x=(0,o.d4)((e=>e.masterMakerLovList||{})),z=(0,o.d4)((e=>e.lovsForMasterName||[])),O=(0,o.d4)((e=>e.lovsForMasterNameSecond||[])),I=(0,o.d4)((e=>e.lovsForMasterNameThird||[])),A=(0,o.d4)((e=>e.currency||[])),E=(0,o.d4)((e=>e.gstStatus||[])),D=(0,o.d4)((e=>e.paymentTerm||[])),L=(0,o.d4)((e=>e.incoterms||[])),w=(0,o.d4)((e=>e.title||[])),k=(0,o.d4)((e=>e.masterMakerLovHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...Y})))}),[Y]),(0,a.useEffect)((()=>{i((e=>({...e,...x})))}),[x]),(0,a.useEffect)((()=>{d((e=>({...e,...z})))}),[z]),(0,a.useEffect)((()=>{s((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{c((e=>({...e,...I})))}),[I]),(0,a.useEffect)((()=>{j((e=>({...e,...A})))}),[A]),(0,a.useEffect)((()=>{g((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{f((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{b((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{h((e=>({...e,...w})))}),[w]),(0,a.useEffect)((()=>{R((e=>({...e,...k})))}),[k]),{masterMakerLovs:e,masterMakerLovsList:t,masterMakerOrgType:n,masterMakerOrgTypeSecond:u,masterMakerOrgTypeThird:l,masterMakerCurrency:m,masterMakerGstStatus:q,masterMakerIncoterms:S,masterMakerPaymentTerm:v,masterMakerLovHistory:y,masterMakerTitle:p}}},12952:(e,r,t)=>{t.d(r,{V:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({companyStoreLocationsObject:{},error:"",loading:!0}),t=(0,o.d4)((e=>e.companyStoreLocations||{}));(0,a.useEffect)((()=>{r((e=>({...e,...t})))}),[t]);const[i,n]=(0,a.useState)({firmStoreLocationsObject:{},error:"",loading:!0}),d=(0,o.d4)((e=>e.firmStoreLocations||{}));(0,a.useEffect)((()=>{n((e=>({...e,...d})))}),[d]);const[u,s]=(0,a.useState)({organizationStoreLocationsHistoryObject:{},error:"",loading:!0}),l=(0,o.d4)((e=>e.organizationStoreLocationsHistory||[]));return(0,a.useEffect)((()=>{s((e=>({...e,...l})))}),[l]),{companyStoreLocations:e,firmStoreLocations:i,organizationStoreLocationsHistory:u}}},3147:(e,r,t)=>{t.d(r,{E:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[n,d]=(0,a.useState)({organizationStoreObject:[],error:"",loading:!0}),[u,s]=(0,a.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[l,c]=(0,a.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[m,j]=(0,a.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[q,g]=(0,a.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[v,f]=(0,a.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),S=(0,o.d4)((e=>e.organizationStores||{})),b=(0,o.d4)((e=>e.organizationStoresAllAccess||{})),p=(0,o.d4)((e=>e.organizationStoresSecond||[])),h=(0,o.d4)((e=>e.organizationStoreDropdown||[])),y=(0,o.d4)((e=>e.organizationStoreDropdownSecond||[])),R=(0,o.d4)((e=>e.orgStoreDropDown||[])),Y=(0,o.d4)((e=>e.orgViewStoreDropDown||[])),x=(0,o.d4)((e=>e.organizationStoresHistory||[]));return(0,a.useEffect)((()=>{r((e=>({...e,...S})))}),[S]),(0,a.useEffect)((()=>{i((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{d((e=>({...e,...p})))}),[p]),(0,a.useEffect)((()=>{s((e=>({...e,...h})))}),[h]),(0,a.useEffect)((()=>{c((e=>({...e,...y})))}),[y]),(0,a.useEffect)((()=>{j((e=>({...e,...R})))}),[R]),(0,a.useEffect)((()=>{g((e=>({...e,...Y})))}),[Y]),(0,a.useEffect)((()=>{f((e=>({...e,...x})))}),[x]),{organizationStores:e,organizationStoresSecond:n,organizationStoresDropdown:u,orgStoreDropDown:m,orgViewStoreDropDown:q,organizationStoresHistory:v,organizationStoresAllAccess:t,organizationStoresDropdownSecond:l}}},55519:(e,r,t)=>{t.d(r,{G:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[n,d]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[u,s]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[l,c]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[m,j]=(0,a.useState)({organizationLocationObject:{},error:"",loading:!0}),[q,g]=(0,a.useState)({organizationGetListObject:{},error:"",loading:!0}),[v,f]=(0,a.useState)({organizationDropdownObject:[],error:"",loading:!0}),[S,b]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[p,h]=(0,a.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[y,R]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[Y,x]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[z,O]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[I,A]=(0,a.useState)({organizationHistoryObject:{},error:"",loading:!0}),E=(0,o.d4)((e=>e.organization||[])),D=(0,o.d4)((e=>e.organizationAllData||[])),L=(0,o.d4)((e=>e.organizationAllDataSecond||[])),w=(0,o.d4)((e=>e.organizationLocationByParent||[])),k=(0,o.d4)((e=>e.organizationLocationByParentSecond||[])),P=(0,o.d4)((e=>e.organizationLocation||[])),$=(0,o.d4)((e=>e.organizationListData||[])),M=(0,o.d4)((e=>e.organizationList||[])),N=(0,o.d4)((e=>e.organizationDropdown||[])),T=(0,o.d4)((e=>e.organizationLocationDropdown||[])),C=(0,o.d4)((e=>e.organizationLocationDropdownSecond||[])),F=(0,o.d4)((e=>e.organizationDropdownSecond||[])),H=(0,o.d4)((e=>e.organizationListSecond||[])),V=(0,o.d4)((e=>e.organizationHistory||[]));return(0,a.useEffect)((()=>{r((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{i((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{d((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{s((e=>({...e,...w})))}),[w]),(0,a.useEffect)((()=>{c((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{j((e=>({...e,...P})))}),[P]),(0,a.useEffect)((()=>{g((e=>({...e,...$})))}),[$]),(0,a.useEffect)((()=>{f((e=>({...e,...N})))}),[N]),(0,a.useEffect)((()=>{b((e=>({...e,...T})))}),[T]),(0,a.useEffect)((()=>{R((e=>({...e,...C})))}),[C]),(0,a.useEffect)((()=>{h((e=>({...e,...F})))}),[F]),(0,a.useEffect)((()=>{x((e=>({...e,...M})))}),[M]),(0,a.useEffect)((()=>{O((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{A((e=>({...e,...V})))}),[V]),{organizations:e,organizationsAllData:t,organizationsAllDataSecond:n,organizationsLocByParent:u,organizationsLocByParentSecond:l,organizationsGetListData:q,organizationsDropdown:v,organizationsDropdownSecond:p,organizationsList:Y,organizationsListSecond:z,organizationHistory:I,organizationsLocation:m,organizationsLocationDropdown:S,organizationsLocationDropdownSecond:y}}},80733:(e,r,t)=>{t.d(r,{Y:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({projectsObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({projectDetailsObject:{},error:"",loading:!0}),[n,d]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[u,s]=(0,a.useState)({projectsDropdownObject:[],error:"",loading:!0}),[l,c]=(0,a.useState)({projectsObject:[],error:"",loading:!0}),[m,j]=(0,a.useState)({projectsHistoryObject:{},error:"",loading:!0}),q=(0,o.d4)((e=>e.projects||{})),g=(0,o.d4)((e=>e.projectDetails||{})),v=(0,o.d4)((e=>e.projectsDropdown||[])),f=(0,o.d4)((e=>e.allProjectsDropdown||[])),S=(0,o.d4)((e=>e.projectsForRoleOrUser||[])),b=(0,o.d4)((e=>e.projectsHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...q})))}),[q]),(0,a.useEffect)((()=>{i((e=>({...e,...g})))}),[g]),(0,a.useEffect)((()=>{d((e=>({...e,...v})))}),[v]),(0,a.useEffect)((()=>{s((e=>({...e,...f})))}),[f]),(0,a.useEffect)((()=>{c((e=>({...e,...S})))}),[S]),(0,a.useEffect)((()=>{j((e=>({...e,...b})))}),[b]),{projects:e,projectsDropdown:n,allProjectsDropdown:u,projectsHistory:m,projectsGovernForRoleOrUser:l,projectDetails:t}}},62605:(e,r,t)=>{t.d(r,{t:()=>i});var a=t(9950),o=t(27081);const i=()=>{const[e,r]=(0,a.useState)({stocksObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({transactionObject:{},error:"",loading:!1}),[n,d]=(0,a.useState)({transactionObject:{},error:"",loading:!0}),[u,s]=(0,a.useState)({transactionObject:{},error:"",loading:!0}),[l,c]=(0,a.useState)({transactionObject:{},error:"",loading:!0}),[m,j]=(0,a.useState)({data:{},error:"",loading:!0}),[q,g]=(0,a.useState)({data:{},error:"",loading:!0}),[v,f]=(0,a.useState)({data:{},error:"",loading:!0}),[S,b]=(0,a.useState)({stoDataObject:{},error:"",loading:!0}),[p,h]=(0,a.useState)({refDataObject:{},error:"",loading:!0}),[y,R]=(0,a.useState)({refDataSecondObject:{},error:"",loading:!0}),[Y,x]=(0,a.useState)({refDataThirdObject:{},error:"",loading:!0}),[z,O]=(0,a.useState)({stockLedgerDetailListObject:{},error:"",loading:!0}),[I,A]=(0,a.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[E,D]=(0,a.useState)({allStoreLocationsStock:[],error:"",loading:!0}),[L,w]=(0,a.useState)({transactionObject:{},error:"",loading:!1}),[k,P]=(0,a.useState)({transactionObject:{},error:"",loading:!1}),[$,M]=(0,a.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[N,T]=(0,a.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[C,F]=(0,a.useState)({transactionObject:{},error:"",loading:!1}),H=(0,o.d4)((e=>e.stocks||{})),V=(0,o.d4)((e=>e.transactions||{})),B=(0,o.d4)((e=>e.transactionsSecond||{})),Q=(0,o.d4)((e=>e.transactionsQty||{})),Z=(0,o.d4)((e=>e.transactionsSecondQty||{})),_=(0,o.d4)((e=>e.serialNumbers||{})),G=(0,o.d4)((e=>e.serialNumbersSecond||{})),W=(0,o.d4)((e=>e.allSerialNumbers||{})),U=(0,o.d4)((e=>e.stoData||{})),J=(0,o.d4)((e=>e.refData||{})),X=(0,o.d4)((e=>e.refDataSecond||{})),K=(0,o.d4)((e=>e.refDataThird||{})),ee=(0,o.d4)((e=>e.stockLedgerDetailList||{})),re=(0,o.d4)((e=>e.storeLocationsTransactions||{})),te=(0,o.d4)((e=>e.storeLocationsStock||[])),ae=(0,o.d4)((e=>e.transactionMaterialList||{})),oe=(0,o.d4)((e=>e.txnByMaterial||{})),ie=(0,o.d4)((e=>e.txnByLocationMaterial||{})),ne=(0,o.d4)((e=>e.storeStockReport||{})),de=(0,o.d4)((e=>e.stockLedgerMaterialList||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{i((e=>({...e,...V})))}),[V]),(0,a.useEffect)((()=>{d((e=>({...e,...B})))}),[B]),(0,a.useEffect)((()=>{s((e=>({...e,...Q})))}),[Q]),(0,a.useEffect)((()=>{c((e=>({...e,...Z})))}),[Z]),(0,a.useEffect)((()=>{j((e=>({...e,..._})))}),[_]),(0,a.useEffect)((()=>{g((e=>({...e,...G})))}),[G]),(0,a.useEffect)((()=>{f((e=>({...e,...W})))}),[W]),(0,a.useEffect)((()=>{b((e=>({...e,...U})))}),[U]),(0,a.useEffect)((()=>{h((e=>({...e,...J})))}),[J]),(0,a.useEffect)((()=>{R((e=>({...e,...X})))}),[X]),(0,a.useEffect)((()=>{x((e=>({...e,...K})))}),[K]),(0,a.useEffect)((()=>{O((e=>({...e,...ee})))}),[ee]),(0,a.useEffect)((()=>{A((e=>({...e,...re})))}),[re]),(0,a.useEffect)((()=>{D((e=>({...e,...te})))}),[te]),(0,a.useEffect)((()=>{w((e=>({...e,...ae})))}),[ae]),(0,a.useEffect)((()=>{P((e=>({...e,...oe})))}),[oe]),(0,a.useEffect)((()=>{M((e=>({...e,...ie})))}),[ie]),(0,a.useEffect)((()=>{T((e=>({...e,...ne})))}),[ne]),(0,a.useEffect)((()=>{F((e=>({...e,...de})))}),[de]),{stocks:e,transaction:t,serialNumbers:m,serialNumbersSecond:q,allSerialNumbers:v,stoData:S,refData:p,stockLedgerDetailList:z,storeLocationsTransaction:I,transactionsSecond:n,refDataSecond:y,refDataThird:Y,transactionQty:u,transactionSecondQty:l,storeLocationsStock:E,transactionMaterialList:L,txnByMaterial:k,txnByLocationMaterial:$,storeStockReport:N,stockLedgerMaterialList:C}}},48864:(e,r,t)=>{t.r(r),t.d(r,{default:()=>N});var a=t(9950),o=t(27081),i=t(53065),n=t(57073),d=t(4139),u=t(67535),s=t(36089),l=t(26592),c=t(28429),m=t(62605),j=t(88848),q=t(12952),g=t(9449),v=t(26473),f=t(60666),S=t(96951),b=t(84601),p=t(52867),h=t(29024),y=t(94826),R=t(44414);const Y=e=>{let{materialData:r,onMaterailsInput:t,storeLocationData:i,view:n,update:s,showData:l,formValues:c}=e;const[j,q]=(0,a.useState)(!1),[Y,x]=(0,a.useState)(null),[z,O]=(0,a.useState)(null),[I,A]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!1),L=(0,o.wA)();(0,a.useEffect)((()=>{q(!!n)}),[n,s]);const w=(0,g.mN)({resolver:(0,v.t)(f.Ik().shape({materialId:b.A.material,requestedQuantity:I?b.A.checkForInteger("Quantity"):b.A.trxnQuantity})),defaultValues:{},mode:"all"}),{handleSubmit:k,setValue:P,reset:$,watch:M}=w,N=M("uom");(0,a.useEffect)((()=>{var e;(n||s)&&l&&(e=l,Object.entries(e).forEach((e=>{let[r,t]=e;P(r,t)})),l&&l.rate&&O(l.rate))}),[n,s,l,P]);(0,a.useEffect)((()=>{Y&&z&&P("value",parseFloat(Y*z).toFixed(2))}),[Y,z,P,$]);const T=function(e,r,t,a,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return(0,R.jsx)(S.o3,{name:e,type:t,label:r,handleChange:o,InputLabelProps:{shrink:n},...(i||j)&&{disabled:!0},...a&&{required:!0}})},{txnByMaterial:C}=(0,m.t)();let{txnData:F}=(0,a.useMemo)((()=>({txnData:(null===C||void 0===C?void 0:C.stocksObject)||[],isLoading:C.loading||!1})),[C]);(0,a.useEffect)((()=>{var e,r,t;F&&F.length>0&&(D(!1),P("rate",null===F||void 0===F||null===(e=F[0])||void 0===e?void 0:e.rate),P("tax",null===F||void 0===F||null===(r=F[0])||void 0===r?void 0:r.tax),O(null===F||void 0===F||null===(t=F[0])||void 0===t?void 0:t.rate))}),[F,P]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(S.Op,{methods:w,children:[E&&(0,R.jsx)(y.A,{}),(0,R.jsxs)(d.Ay,{container:!0,spacing:2,sx:{mt:2,mb:2.5},children:[(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(H="materialId",V="Material",B=(0,p.Jw)(r),Q=!0,Z=e=>{if(e){var r;D(!0);const t=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.row;P("name",null===t||void 0===t?void 0:t.name),P("code",null===t||void 0===t?void 0:t.code),P("uom",null===t||void 0===t?void 0:t.uomName),P("uomId",null===t||void 0===t?void 0:t.uomId),L((0,h.VzI)({project:c.projectId,store:c.fromProjectSiteStoreId,material:t.id})),O(null===t||void 0===t?void 0:t.rate)}else P("name",""),P("code",""),P("uom",""),P("uomId",""),P("rate",""),P("tax",""),O(null)},_=!!s,(0,R.jsx)(S.eu,{name:H,label:V,onChange:Z,InputLabelProps:{shrink:!0},menus:B,..._&&{disable:!0},...Q&&{required:!0}}))}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:T("code","Code","text",!0,(()=>{}),!0)}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:1,style:{display:"none"},children:T("name","name","text",!0)}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:2,children:T("requestedQuantity","Quantity",(0,p.VF)(N)?"text":"number",!0,(e=>{(0,p.VF)(N)?A(!1):A(!0),x(e.target.value)}))}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:2,children:T("uom","UOM","text",!0,(()=>{}),!0)}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:2,style:{display:"none"},children:T("uomId","UOMId","text",!0)}),(0,R.jsx)(d.Ay,{item:!0,xs:12,sm:12,mt:3.5,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:!n&&(0,R.jsx)(u.A,{size:"small",onClick:k((e=>{var r;s?t(e,l.id):(e.storeLocation=(r=e.toStoreLocationId,i.filter((e=>e.id===r))[0]),t(e)),$()})),variant:"contained",color:"primary",children:s?"Update":"Add"})})]})]})});var H,V,B,Q,Z,_};var x=t(12257),z=t(87233),O=t(74745),I=t(80733),A=t(3147),E=t(55519),D=t(14351);const L=e=>{var r,t;let{saveData:i,disableAll:n}=e;const[s,l]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[q,y]=(0,a.useState)(""),Y=(0,g.mN)({resolver:(0,v.t)(f.Ik().shape({projectId:b.A.project,fromOrganizationId:b.A.requiredWithLabel("Organization"),toProjectSiteStoreId:b.A.requiredWithLabel("From Company Store"),fromProjectSiteStoreId:b.A.requiredWithLabel("To Company Store")})),defaultValues:{},mode:"all"}),{handleSubmit:L,setValue:w}=Y,k=(0,o.wA)();(0,a.useEffect)((()=>{k((0,h.uiG)()),k((0,h._G1)())}),[k]);const{projectsDropdown:P}=(0,I.Y)(),{masterMakerLovs:$}=(0,j.$)(),M=(e,r)=>{const t=e&&e.filter((e=>e.name===r));return t&&t.length?t[0].id:void 0},N=$.masterMakerLovsObject.rows,T=M(N,"STR"),C=M(N,"COMPANY"),F=null===P||void 0===P?void 0:P.projectsDropdownObject,{organizations:H,organizationsLocByParent:V}=(0,E.G)(),{organizationStores:B,organizationStoresAllAccess:Q}=(0,A.E)(),Z=(null===(r=H.organizationObject)||void 0===r?void 0:r.rows)||[],_=(null===V||void 0===V||null===(t=V.organizationObject)||void 0===t?void 0:t.rows)||[],{projectStoreData:G}=(0,a.useMemo)((()=>{var e;return{projectStoreData:(null===(e=B.organizationStoreObject)||void 0===e?void 0:e.rows)||[]}}),[B]),{projectStoreDataAll:W}=(0,a.useMemo)((()=>{var e;return{projectStoreDataAll:(null===(e=Q.organizationStoreObject)||void 0===e?void 0:e.rows)||[]}}),[Q]),[U,J]=(0,a.useState)(null),[X,K]=(0,a.useState)([]),[ee,re]=(0,a.useState)([]),[te,ae]=(0,a.useState)(null),oe=e=>{"projectId"===e?(w("fromOrganizationId",null),w("fromOrganizationBranchId",null),w("toProjectSiteStoreId",null),y(""),w("fromProjectSiteStoreId",null),l(""),w("remarks",null)):"fromOrganizationId"===e?(w("fromOrganizationBranchId",null),w("toProjectSiteStoreId",null),y(""),w("fromProjectSiteStoreId",null),l(""),w("remarks",null)):"fromOrganizationBranchId"===e?(w("toProjectSiteStoreId",null),y(""),w("fromProjectSiteStoreId",null),l(""),w("remarks",null)):"toProjectSiteStoreId"===e?(w("fromProjectSiteStoreId",null),l(""),w("remarks",null)):"fromProjectSiteStoreId"===e&&w("remarks",null)};(0,a.useEffect)((()=>{C&&k((0,h.h6R)({transactionTypeId:C}))}),[k,C]),(0,a.useEffect)((()=>{if(te){let e=G.filter((e=>e.organizationId===te));K(e)}}),[te,G]),(0,a.useEffect)((()=>{if(W&&U){let e=W.filter((e=>e.id!==U));re(e)}}),[W,U]);const ie=(e,r,t,a,o)=>(0,R.jsx)(x.A,{children:(0,R.jsx)(S.eu,{name:e,label:r,..."function"===typeof o&&{onChange:o},InputLabelProps:{shrink:!0},menus:t,...n&&{disable:!0},...a&&{required:!0}})}),ne=(e,r)=>{const t=e&&e.filter((e=>e.id===r));return t&&t.length?t[0]:{}};(0,a.useEffect)((()=>{C&&k((0,h.qV$)({organizationType:C}))}),[k,C]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(D.A,{title:"STR (Stock Transfer Request)",sx:{mb:2},children:(0,R.jsxs)(S.Op,{methods:Y,children:[(0,R.jsxs)(d.Ay,{container:!0,spacing:4,children:[(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:ie("projectId","Project",F,!0,(e=>{var r;null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value&&oe("projectId")}))}),(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:ie("fromOrganizationId","Organization",(0,p.HF)(Z),!0,(e=>{var r,t,a,o;null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value&&(k((0,h.VRs)({params:C+"/"+(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)})),k((0,h.xlY)({organizationType:C,organizationId:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value})),ae(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value),oe("fromOrganizationId"))}))}),(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:ie("fromOrganizationBranchId","Organization Branch",(0,p.HF)(_),!1,(e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){var t;k((0,h.xlY)({organizationType:C,organizationId:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value}));let r=G.filter((r=>{var t;return r.organizationId===(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}));K(r),oe("fromOrganizationBranchId")}}))})]}),(0,R.jsxs)(d.Ay,{container:!0,spacing:4,mt:1,children:[(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:ie("toProjectSiteStoreId","From Company Store",X,!0,(e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){var t,a,o,i;const r=ne(G,e.target.value),n=r.city,d=(r.address,r.address),u=r.pincode?r.pincode:r.pinCode;y(`${d}, ${n.name}, ${n.state.name}, ${n.state.country.name}, ${u}`),m(null!==r&&void 0!==r&&null!==(t=r.organization)&&void 0!==t&&t.parentId?null===r||void 0===r||null===(a=r.organization)||void 0===a?void 0:a.parentId:null===r||void 0===r||null===(o=r.organization)||void 0===o?void 0:o.id),J(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value),oe("toProjectSiteStoreId")}}))}),(0,R.jsxs)(d.Ay,{item:!0,md:8,xl:10,children:[(0,R.jsx)(z.A,{children:"Address: "}),(0,R.jsx)(z.A,{mt:2,children:q})]})]}),(0,R.jsxs)(d.Ay,{container:!0,spacing:4,mt:1,children:[(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:ie("fromProjectSiteStoreId","To Company Store",ee,!0,(e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){const r=ne(ee,e.target.value),t=r.city,a=(r.address,r.address),o=r.pincode?r.pincode:r.pinCode;l(`${a}, ${t.name}, ${t.state.name}, ${t.state.country.name}, ${o}`),oe("fromProjectSiteStoreId")}}))}),(0,R.jsxs)(d.Ay,{item:!0,md:6,xl:8,children:[(0,R.jsx)(z.A,{children:"Address: "}),(0,R.jsx)(z.A,{mt:2,children:s})]})]}),(0,R.jsxs)(d.Ay,{container:!0,spacing:4,mt:1,children:[(0,R.jsx)(d.Ay,{item:!0,md:3,xl:2,children:function(e,r,t,a){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,R.jsx)(x.A,{spacing:1,children:(0,R.jsx)(S.o3,{name:e,type:t,label:r,InputLabelProps:{shrink:o},...n&&{disabled:!0},...a&&{required:!0}})})}("remarks","Remarks","text",!1)}),(0,R.jsx)(d.Ay,{container:!0,spacing:4,children:(0,R.jsx)(d.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:!n&&(0,R.jsx)(u.A,{size:"small",variant:"contained",onClick:L((e=>{e.transactionTypeId=T,e.requestOrganizationId=c,i(e)})),color:"primary",children:"Next"})})})]}),(0,R.jsx)(d.Ay,{container:!0,sx:{mt:3,mb:3},children:(0,R.jsx)(d.Ay,{item:!0,md:12,xl:12,children:(0,R.jsx)(O.A,{})})})]})})})};var w=t(99635),k=t(60845),P=t(62054),$=t(71826);const M=e=>{let{values:r,onEdit:t,onDelete:a}=e;return(0,R.jsxs)("div",{children:[(0,R.jsx)(i.A,{title:"Edit",placement:"bottom",children:(0,R.jsx)(n.A,{color:"secondary",onClick:()=>t(r),children:(0,R.jsx)(s.A,{})})}),(0,R.jsx)(i.A,{title:"Delete",placement:"bottom",children:(0,R.jsx)(n.A,{color:"secondary",onClick:()=>a(r.id),children:(0,R.jsx)(l.A,{})})})]})},N=()=>{var e;const r=(0,c.Zp)(),[t,i]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[l,g]=(0,a.useState)({}),[v,f]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[y,x]=(0,a.useState)(!1),[z,O]=(0,a.useState)(null),I=(0,o.wA)(),A=(0,a.useMemo)((()=>[{Header:"Actions",accessor:"actions"},{Header:"Name",accessor:"name"},{Header:"Code",accessor:"code"},{Header:"Quantity",accessor:"requestedQuantity"},{Header:"UOM",accessor:"uomName"}]),[]),[E,D]=(0,a.useState)(!1);(0,a.useEffect)((()=>{I((0,h._G1)())}),[I]);const{masterMakerLovs:N}=(0,j.$)(),T=N.masterMakerLovsObject.rows,{companyStoreLocations:C}=(0,q.V)(),F=(null===(e=C.companyStoreLocationsObject)||void 0===e?void 0:e.rows)||[],H=((e,r)=>{const t=e&&e.filter((e=>e.name===r));return t&&t.length?t[0].id:void 0})(T,"COMPANY");(0,a.useEffect)((()=>{H&&I((0,k.Ru)({organizationType:H}))}),[I,H]);const V=()=>{p(!1),i([]),D(!E)},{transactionMaterialList:B,serialNumbers:Q}=(0,m.t)(),{materials:Z}=(0,a.useMemo)((()=>{var e;return{materials:(null===B||void 0===B?void 0:B.stocksObject)||[],count:(null===B||void 0===B||null===(e=B.stocksObject)||void 0===e?void 0:e.count)||0}}),[B]),{serialNumbersData:_}=(0,a.useMemo)((()=>{var e;return{serialNumbersData:(null===Q||void 0===Q?void 0:Q.data)||[],countSN:(null===Q||void 0===Q||null===(e=Q.data)||void 0===e?void 0:e.count)||0}}),[Q]);(0,a.useEffect)((()=>{Z&&Z.length>0&&i((e=>{const r=[];return e&&e.map((e=>{r.push({id:e.id,name:e.name,isSerialNumber:e.is_serial_number,tax:e.tax,value:e.value,uomName:e.uom_name,uomId:e.uom_id,rate:parseFloat(e.rate).toFixed(2),code:e.code,hsnCode:e.hsn_code,material_serial_numbers:_[e.id]?_[e.id]:[]})})),r})(Z))}),[Z,_]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(L,{disableAll:b&&!(null===t||void 0===t||!t.length),onClick:V,saveData:e=>{e&&e.projectId&&e.fromProjectSiteStoreId&&e.toProjectSiteStoreId&&(p(!0),I((0,h.UjX)({project:e.projectId,store:e.fromProjectSiteStoreId})),O(e))}}),t&&b&&t.length>0&&(0,R.jsx)(Y,{materialData:t,hideTaxDetails:!0,onMaterailsInput:e=>{t.map((r=>{let t={};if(r.id===e.materialId)if(y&&e.index>=0){const r=n;r[e.index]=e,s(r)}else if(n){const i=n.findIndex((r=>(null===r||void 0===r?void 0:r.id)===(null===e||void 0===e?void 0:e.materialId)&&(null===r||void 0===r?void 0:r.toStoreLocationId)===(null===e||void 0===e?void 0:e.toStoreLocationId)));if(i>-1){var a;const t=structuredClone(n),o={...e,...r,uomId:null===r||void 0===r?void 0:r.uomId,uom:null===r||void 0===r?void 0:r.uomName,requestedQuantity:(null===e||void 0===e?void 0:e.requestedQuantity)+(null===(a=t[i])||void 0===a?void 0:a.requestedQuantity)};t[i]=o,s(t)}else{var o;t={...structuredClone(r),...e},t.uomId=null===r||void 0===r?void 0:r.uomId,t.value=null!==(o=t)&&void 0!==o&&o.value?parseFloat(t.value).toFixed(2):"",s(n.concat(t))}}})),x(!1)},view:v,storeLocationData:F.filter((e=>e.organizationStoreId===z.toProjectSiteStoreId)),update:y,formValues:z,showData:l}),n&&b&&n.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(w.default,{title:"STR",hideHeader:!0,hidePagination:!0,data:(G=n,G.map(((e,r)=>({...e,actions:(0,R.jsx)(M,{values:e,onEdit:e=>{const t=structuredClone(e);var a;t.index=r,a=t,f(!1),x(!0),g(a)},onDelete:e=>{((e,r)=>{f(!1),x(!1);const t=structuredClone(n),a=t&&t.length>0&&t.filter(((e,t)=>t!==r));s(a)})(0,r)}})})))),count:n.length,columns:A,hideActions:!0}),(0,R.jsx)(S.Op,{children:(0,R.jsx)(d.Ay,{container:!0,spacing:4,children:(0,R.jsxs)(d.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px",mt:3},children:[(0,R.jsx)(u.A,{onClick:V,size:"small",variant:"outlined",color:"primary",children:"Back"}),(0,R.jsx)(u.A,{disabled:y,onClick:async()=>{var e,t,a;const o=n.filter((e=>parseFloat(e.requestedQuantity)>0)).map((e=>({requestName:"STR",transactionTypeId:z.transactionTypeId,projectId:z.projectId,requestOrganizationId:z.requestOrganizationId,requestStoreId:z.toProjectSiteStoreId,approverStoreId:z.fromProjectSiteStoreId,fromStoreId:z.fromProjectSiteStoreId,toStoreId:z.toProjectSiteStoreId,toStoreLocationId:e.toStoreLocationId,materialId:e.id,uomId:e.uomId,requestedQuantity:e.requestedQuantity,rate:e.rate,value:e.value,tax:e.tax,vehicleNumber:z.vehicleNumber,remarks:z.remarks})));if(null===o||void 0===o||!o.length)return void(0,P.A)("Please select atleast one material!",{variant:"error"});const i=await(0,$.default)("/request-create",{method:"POST",body:{payload:o}});var d;if(!i.success)return void(0,P.A)((null===i||void 0===i||null===(d=i.error)||void 0===d?void 0:d.message)||"Operation failed. Please try again!",{variant:"error"});const u=null!==(e=null===(t=i.data)||void 0===t?void 0:t.data)&&void 0!==e?e:{},s=u.referenceDocumentNumber||(null===(a=u[0])||void 0===a?void 0:a.referenceDocumentNumber);(0,P.A)(s?`Request created with reference number: ${s}`:"Request created successfully!",{variant:"success",autoHideDuration:1e4}),r("/str-receipt")},size:"small",variant:"contained",color:"primary",children:"Submit"})]})})})]})]});var G}},13239:(e,r,t)=>{t.d(r,{A:()=>u});var a=t(89379),o=t(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=t(14840),d=function(e,r){return o.createElement(n.A,(0,a.A)((0,a.A)({},e),{},{ref:r,icon:i}))};const u=o.forwardRef(d)},26592:(e,r,t)=>{var a=t(24994);r.A=void 0;var o=a(t(79526)),i=t(44414);r.A=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,t)=>{var a=t(24994);r.A=void 0;var o=a(t(79526)),i=t(44414);r.A=(0,o.default)((0,i.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);