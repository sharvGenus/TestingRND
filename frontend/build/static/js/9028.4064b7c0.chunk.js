"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[9028,5406],{64499:(e,r,t)=>{t.d(r,{A:()=>v});var a=t(9950),n=t(65669),i=t(43263),o=t(57191),s=t(95537),d=t(67535),l=t(87233),u=t(44414);v.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},g={display:"flex",flexDirection:"row",padding:"15px 0"},m={display:"flex",justifyContent:"flex-end",gap:2},p={marginTop:2,display:"flex",fontSize:"14px"};function v(e){let{open:r,handleClose:t,title:v,message:h,closeBtnTitle:f,confirmBtnTitle:j,handleConfirm:q,confirmColor:x}=e;const[y,b]=(0,a.useState)(null);return(0,a.useEffect)((()=>{b(null)}),[r]),(0,u.jsx)("div",{children:(0,u.jsx)(n.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:i.A},slotProps:{backdrop:{timeout:500}},children:(0,u.jsx)(o.A,{in:r,children:(0,u.jsxs)(s.A,{sx:c,children:[(0,u.jsx)(l.A,{id:"transition-modal-title",variant:"h4",children:v}),(0,u.jsx)(l.A,{id:"transition-modal-title",variant:"h6",sx:g,children:h}),(0,u.jsxs)(s.A,{sx:m,children:[!!t&&(0,u.jsx)(d.A,{onClick:t,size:"small",variant:"outlined",color:"primary",children:f}),!!q&&(0,u.jsx)(d.A,{onClick:q,size:"small",variant:"contained",color:x||"error",children:j})]}),y&&(0,u.jsx)(l.A,{variant:"p",color:"red",sx:p,children:y})]})})})})}},84601:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(60666);const n=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],i=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},s=["nothing","",()=>!0],d=function(e,r,t){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n=new Date(e),i=new Date(r),o=new Date(t);return a?o<=n&&n<=i:o<=n&&n>=i},l={allowedColumns:a.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:a.Yj().required("Required").nullable(),formType:a.Yj().required("Required").nullable(),taskType:a.Yj().required("Required").nullable(),code:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:a.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:a.Yj().required("Required"),title:a.Yj().required("Required").nullable(),office:a.Yj().required("Required").nullable(),masterCode:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:a.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:a.Yj().required("Required"),gstNumber:a.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:a.Yj().required("Required"),storePhoto:a.Yj().required("Required"),email:a.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:a.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:a.Yj().required("Required"),nother:a.Yj().nullable().required("Required"),otherArray:a.YO().min(1,"Please select atleast one field"),areaLevel:a.YO().min(1,"Please select atleast one level."),formTitle:a.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:a.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:a.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:a.Yj().required(" "),telephone:a.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:a.Yj().required("Required"),registeredAddress:a.Yj().required("Required"),quantity:a.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:a.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:a.ai().test(...o()).test(...n).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.ai().test(...r?o():s).test(...n).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:a.Yj().required("Required"),state:a.Yj().required("Required"),city:a.Yj().required("Required"),registeredCountry:a.Yj().required("Required"),registeredState:a.Yj().required("Required"),registeredCity:a.Yj().required("Required"),organizationType:a.Yj().nullable().required("Required"),organizationCode:a.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:a.Yj().nullable().required("Required"),organizationLocationId:a.Yj().required("Required"),integrationId:a.Yj().required("Required"),firm:a.Yj().required("Required"),movementType:a.Yj().required("Required"),supplier:a.Yj().required("Required"),masterMaker:a.Yj().required("Required"),projectMasterMaker:a.Yj().required("Required"),lov:a.Yj().required("Required"),date:a.Yj().required("Required"),fromDate:a.Yj().required("Required"),toDate:a.Yj().when("fromDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:a.Yj().required("Required"),challanNumber:a.Yj().required("Required"),poNumber:a.Yj().required("Required"),workOrderNumber:a.Yj().required("Required"),receivingStore:a.Yj().required("Required"),uom:a.Yj().required("Required"),project:a.Yj().nullable().required("Required"),projectArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),organizationArr:a.YO().of(a.gl()).nullable().required("Required").min(1,"Required"),accessProject:a.Yj().nullable().required("Required"),rate:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:a.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:a.Yj().required("Required"),rangeTo:a.Yj().required("Required"),requiredWithLabel:()=>a.Yj().nullable().required("Required"),requiredWithNonZero:e=>a.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>a.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:a.ai().required("Required"),isSerialize:a.Yj().required("Please select a checkbox"),vehicleNumber:a.Yj().required("Required"),vehicleNumberOptional:a.Yj().nullable(),inventoryNameOptional:a.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:a.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:a.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:a.Yj().required("Required"),eWayBillNumber:a.Yj().required("Required"),eWayBillDate:a.Yj().required("Required"),actualReceiptDate:a.Yj().when("eWayBillDate",{is:e=>!!e,then:a.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:a.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:a.Yj().nullable().required("Required"),placeOfTransfer:a.Yj().required("Required"),contractorStore:a.Yj().nullable().required("Required"),projectSiteStoreLocation:a.Yj().required("Required"),contractorStoreLocation:a.Yj().nullable().required("Required"),contractorEmployee:a.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>a.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:a.Yj().required("Required"),longDescription:a.Yj().required("Required"),hsnCode:a.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:a.Yj().required("Required"),store:a.Yj().nullable().required("Required"),accessStore:a.Yj().nullable().required("Required"),series:a.Yj().required("Required"),material:a.Yj().required("Required"),materialType:a.Yj().required("Required"),materialCode:a.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:a.Yj().nullable().required("Required"),accessOrganizationId:a.Yj().nullable().required("Required"),company:a.Yj().required("Required"),contractor:a.Yj().nullable().required("Required"),contractorId:a.Yj().required("Required"),fromInstaller:a.Yj().nullable().required("Required"),toInstaller:a.Yj().nullable().required("Required"),fromStoreLocationId:a.Yj().nullable().required("Required"),toStoreLocationId:a.Yj().nullable().required("Required"),storeLocationId:a.Yj().nullable().required("Required"),installerStoreLocationId:a.Yj().nullable().required("Required"),accessStoreLocationId:a.Yj().nullable().required("Required"),fromStore:a.Yj().nullable().required("Required"),toStore:a.Yj().required("Required"),transporterName:a.Yj().required("Required"),customerSiteStoreId:a.Yj().nullable().required("Required"),toCustomerId:a.Yj().nullable().required("Required"),financialYear:a.Yj().required("Required"),user:a.Yj().required("Required"),accessUser:a.Yj().nullable().required("Required"),rightsFor:a.Yj().nullable().required("Required"),gaaLevelId:a.Yj().nullable().required("Required"),networkLevelId:a.Yj().nullable().required("Required"),server:a.Yj().required("Required"),port:a.Yj().required("Required"),encryption:a.Yj().required("Required"),requisitionNumber:a.Yj().nullable().required("Required"),password:a.Yj().required("Required"),transaction:a.Yj().nullable().required("Required"),serviceCenter:a.Yj().nullable().required("Required"),scrapLocation:a.Yj().nullable().required("Required"),effectiveFrom:a.Yj().required("Required"),effectiveTo:a.Yj().required("Required"),displayName:a.Yj().required("Required"),templateName:a.Yj().required("Required"),subject:a.Yj().required("Required"),from:a.Yj().required("Required"),to:a.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:a.Yj().required("Required"),attachmentsWhenIsAuthorized:a.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:a.Yj().nullable().required("Required")}),requestNumber:a.Yj().required("Required"),remarks:a.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:a.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:a.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:a.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>a.Yj().required("Required"),startDateRange:(e,r,t)=>a.Yj().required("Required").test("date-comparison",`${r} must be >= ${t}`,(function(r){return function(e,r){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=new Date(e),n=new Date(r);return t?a<=n:a>=n}(r,e,!1)})),endDateRange:(e,r,t,n,i,o)=>a.Yj().required("Required").test("date-comparison",`${t} must be <= ${n} and >= ${i}`,(function(t){return d(t,e,r,!o)})),endDateRangeMax:(e,r,t,n,i,o)=>a.Yj().required("Required").test("date-comparison",`${t} must be >= ${n} and >= ${i}`,(function(t){return d(t,e,r,!o)})),month:e=>a.ai().test(...o(e)).test(...i).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,t)=>a.ai().test(...o(r)).test(...i).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${t}`),checkQty:e=>a.ai().test(...o(e)).test(...n).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):a.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:a.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},89649:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(9950),n=t(80415);function i(){const[e,r]=(0,a.useState)({pageIndex:n.j7.pageIndex,pageSize:n.j7.pageSize,forceUpdate:!0}),t=(0,a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;r((e=>({pageIndex:t,pageSize:a,forceUpdate:!e.forceUpdate})))}),[e]),i=(0,a.useCallback)((()=>{r((e=>({pageIndex:n.j7.pageIndex,pageSize:n.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>r((r=>({...r,pageIndex:e,forceUpdate:!r.forceUpdate}))),setPageSize:e=>r((r=>({pageIndex:n.j7.pageIndex,pageSize:e,forceUpdate:!r.forceUpdate}))),refreshPagination:i,setPaginationsFunctions:t}}},39225:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(41397),n=t.n(a),i=t(9950);const o=e=>{const{isFcMode:r}=e||{},[t,a]=(0,i.useState)(void 0),[o,s]=(0,i.useState)(!1),d=(0,i.useRef)([]),l=(0,i.useCallback)((e=>{const a=d.current;d.current=e,t&&(r||n().isEqual(e,a)||s((e=>!e)))}),[r,t]),u=(0,i.useMemo)((()=>null===t||void 0===t?void 0:t.trim()),[t]);return{searchString:t,searchStringTrimmed:u,forceSearch:o,accessorsRef:d,setSearchString:a,setAccessors:l}}},88848:(e,r,t)=>{t.d(r,{$:()=>i});var a=t(9950),n=t(27081);const i=()=>{const[e,r]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[o,s]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[d,l]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[u,c]=(0,a.useState)({masterObject:[],error:"",loading:!0}),[g,m]=(0,a.useState)({currencyObject:[],error:"",loading:!0}),[p,v]=(0,a.useState)({gstStatusObject:[],error:"",loading:!0}),[h,f]=(0,a.useState)({paymentTermObject:[],error:"",loading:!0}),[j,q]=(0,a.useState)({incotermsObject:[],error:"",loading:!0}),[x,y]=(0,a.useState)({titleObject:[],error:"",loading:!0}),[b,R]=(0,a.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),A=(0,n.d4)((e=>e.masterMakerLov||{})),S=(0,n.d4)((e=>e.masterMakerLovList||{})),z=(0,n.d4)((e=>e.lovsForMasterName||[])),T=(0,n.d4)((e=>e.lovsForMasterNameSecond||[])),I=(0,n.d4)((e=>e.lovsForMasterNameThird||[])),Y=(0,n.d4)((e=>e.currency||[])),E=(0,n.d4)((e=>e.gstStatus||[])),D=(0,n.d4)((e=>e.paymentTerm||[])),O=(0,n.d4)((e=>e.incoterms||[])),w=(0,n.d4)((e=>e.title||[])),C=(0,n.d4)((e=>e.masterMakerLovHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...A})))}),[A]),(0,a.useEffect)((()=>{i((e=>({...e,...S})))}),[S]),(0,a.useEffect)((()=>{s((e=>({...e,...z})))}),[z]),(0,a.useEffect)((()=>{l((e=>({...e,...T})))}),[T]),(0,a.useEffect)((()=>{c((e=>({...e,...I})))}),[I]),(0,a.useEffect)((()=>{m((e=>({...e,...Y})))}),[Y]),(0,a.useEffect)((()=>{v((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{f((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{q((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{y((e=>({...e,...w})))}),[w]),(0,a.useEffect)((()=>{R((e=>({...e,...C})))}),[C]),{masterMakerLovs:e,masterMakerLovsList:t,masterMakerOrgType:o,masterMakerOrgTypeSecond:d,masterMakerOrgTypeThird:u,masterMakerCurrency:g,masterMakerGstStatus:p,masterMakerIncoterms:j,masterMakerPaymentTerm:h,masterMakerLovHistory:b,masterMakerTitle:x}}},3147:(e,r,t)=>{t.d(r,{E:()=>i});var a=t(9950),n=t(27081);const i=()=>{const[e,r]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({organizationStoreObject:{},error:"",loading:!0}),[o,s]=(0,a.useState)({organizationStoreObject:[],error:"",loading:!0}),[d,l]=(0,a.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[u,c]=(0,a.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[g,m]=(0,a.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[p,v]=(0,a.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[h,f]=(0,a.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),j=(0,n.d4)((e=>e.organizationStores||{})),q=(0,n.d4)((e=>e.organizationStoresAllAccess||{})),x=(0,n.d4)((e=>e.organizationStoresSecond||[])),y=(0,n.d4)((e=>e.organizationStoreDropdown||[])),b=(0,n.d4)((e=>e.organizationStoreDropdownSecond||[])),R=(0,n.d4)((e=>e.orgStoreDropDown||[])),A=(0,n.d4)((e=>e.orgViewStoreDropDown||[])),S=(0,n.d4)((e=>e.organizationStoresHistory||[]));return(0,a.useEffect)((()=>{r((e=>({...e,...j})))}),[j]),(0,a.useEffect)((()=>{i((e=>({...e,...q})))}),[q]),(0,a.useEffect)((()=>{s((e=>({...e,...x})))}),[x]),(0,a.useEffect)((()=>{l((e=>({...e,...y})))}),[y]),(0,a.useEffect)((()=>{c((e=>({...e,...b})))}),[b]),(0,a.useEffect)((()=>{m((e=>({...e,...R})))}),[R]),(0,a.useEffect)((()=>{v((e=>({...e,...A})))}),[A]),(0,a.useEffect)((()=>{f((e=>({...e,...S})))}),[S]),{organizationStores:e,organizationStoresSecond:o,organizationStoresDropdown:d,orgStoreDropDown:g,orgViewStoreDropDown:p,organizationStoresHistory:h,organizationStoresAllAccess:t,organizationStoresDropdownSecond:u}}},55519:(e,r,t)=>{t.d(r,{G:()=>i});var a=t(9950),n=t(27081);const i=()=>{const[e,r]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[o,s]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[d,l]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[u,c]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[g,m]=(0,a.useState)({organizationLocationObject:{},error:"",loading:!0}),[p,v]=(0,a.useState)({organizationGetListObject:{},error:"",loading:!0}),[h,f]=(0,a.useState)({organizationDropdownObject:[],error:"",loading:!0}),[j,q]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[x,y]=(0,a.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[b,R]=(0,a.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[A,S]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[z,T]=(0,a.useState)({organizationObject:{},error:"",loading:!0}),[I,Y]=(0,a.useState)({organizationHistoryObject:{},error:"",loading:!0}),E=(0,n.d4)((e=>e.organization||[])),D=(0,n.d4)((e=>e.organizationAllData||[])),O=(0,n.d4)((e=>e.organizationAllDataSecond||[])),w=(0,n.d4)((e=>e.organizationLocationByParent||[])),C=(0,n.d4)((e=>e.organizationLocationByParentSecond||[])),k=(0,n.d4)((e=>e.organizationLocation||[])),P=(0,n.d4)((e=>e.organizationListData||[])),L=(0,n.d4)((e=>e.organizationList||[])),N=(0,n.d4)((e=>e.organizationDropdown||[])),$=(0,n.d4)((e=>e.organizationLocationDropdown||[])),M=(0,n.d4)((e=>e.organizationLocationDropdownSecond||[])),H=(0,n.d4)((e=>e.organizationDropdownSecond||[])),B=(0,n.d4)((e=>e.organizationListSecond||[])),V=(0,n.d4)((e=>e.organizationHistory||[]));return(0,a.useEffect)((()=>{r((e=>({...e,...E})))}),[E]),(0,a.useEffect)((()=>{i((e=>({...e,...D})))}),[D]),(0,a.useEffect)((()=>{s((e=>({...e,...O})))}),[O]),(0,a.useEffect)((()=>{l((e=>({...e,...w})))}),[w]),(0,a.useEffect)((()=>{c((e=>({...e,...C})))}),[C]),(0,a.useEffect)((()=>{m((e=>({...e,...k})))}),[k]),(0,a.useEffect)((()=>{v((e=>({...e,...P})))}),[P]),(0,a.useEffect)((()=>{f((e=>({...e,...N})))}),[N]),(0,a.useEffect)((()=>{q((e=>({...e,...$})))}),[$]),(0,a.useEffect)((()=>{R((e=>({...e,...M})))}),[M]),(0,a.useEffect)((()=>{y((e=>({...e,...H})))}),[H]),(0,a.useEffect)((()=>{S((e=>({...e,...L})))}),[L]),(0,a.useEffect)((()=>{T((e=>({...e,...B})))}),[B]),(0,a.useEffect)((()=>{Y((e=>({...e,...V})))}),[V]),{organizations:e,organizationsAllData:t,organizationsAllDataSecond:o,organizationsLocByParent:d,organizationsLocByParentSecond:u,organizationsGetListData:p,organizationsDropdown:h,organizationsDropdownSecond:x,organizationsList:A,organizationsListSecond:z,organizationHistory:I,organizationsLocation:g,organizationsLocationDropdown:j,organizationsLocationDropdownSecond:b}}},66555:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Q});var a=t(9950),n=t(27081),i=t(96583),o=t(88848);var s=t(4139),d=t(74745),l=t(95537),u=t(67535),c=t(59254),g=t(16125),m=t(397),p=t(24965),v=t(10371),h=t(68605),f=t(22057),j=t(14341),q=t(8750),x=t(57560),y=t(87233),b=t(65669),R=t(26473),A=t(9449),S=t(60666),z=t(84601),T=t(96951),I=t(44414);const Y=e=>{let{onClose:r,masterData:t,selectedTraxns:n,setTransactions:i}=e;const o=["MRF","MRR","STR","LTLR","PTPR","CANCELMRF","CANCELMRR","CANCELSTR","CANCELLTLR","CANCELPTPR"],[d]=(new Date).toISOString().split("T"),l=(0,A.mN)({resolver:(0,R.t)(S.Ik().shape({name:z.A.name,transactionTypeIds:S.YO().min(2,"Select at least two transactions").required("Please select at least two transactions"),startRange:z.A.requiredWithNonZero("Start Range"),endRange:S.ai().typeError("End range must be a number").required("End range is required").test("greaterThanStart","End range must be greater than start range",(function(e){const{startRange:r}=this.parent;return e>r})),effectiveDate:z.A.requiredWithLabel("Effective Date")})),defaultValues:{},mode:"all"}),c=function(e,r,t,a){let n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,I.jsx)(T.o3,{name:e,type:t,label:r,InputLabelProps:{shrink:n},...a&&{required:!0}})},{handleSubmit:g,setValue:m}=l;(0,a.useEffect)((()=>{m("effectiveDate",d)}),[m,d]);return(0,I.jsx)(T.Op,{methods:l,onSubmit:g((e=>{e.id=e.transactionTypeIds.toString(),e.touched=!0,i([...n,e]),r(!1)})),children:(0,I.jsxs)(s.Ay,{container:!0,spacing:4,children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:c("name","Group Name","text",!0)}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return(0,I.jsx)(T.Yq,{name:e,label:r,InputLabelProps:{shrink:!0},menus:t,..."function"===typeof n&&{onChange:n},...a&&{required:!0}})}("transactionTypeIds","Transactions",((e,r)=>{let t=[];r&&r.length>0&&r.map((e=>{e.transactionTypeIds&&e.transactionTypeIds.length>1&&(t=[...t,...e.transactionTypeIds])}));let a=r&&r.filter((e=>!t.includes(e.id)));const n=a&&a.filter((e=>!e.startRange&&!e.endRange&&(!e.transactionTypeIds||e.transactionTypeIds.length<=1))),i=[];n.map((e=>{i.push(e.name)}));let o=[];return o=e.filter((e=>i.includes(e.name))),o})(t.filter((e=>!o.includes(e.name))),structuredClone(n)),!0)}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:c("startRange","Start Range","number",!0)}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:c("endRange","End Range","number",!0)}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:c("effectiveDate","Effective Date","date",!0)}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,I.jsx)(u.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Add"})})]})})};var E=t(14351);const D=e=>{let{data:r,masterData:t,selectedTransactions:n,setTransactions:i}=e;const[o,d]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[g,R]=(0,a.useState)(!1);let A=0;const[S]=(new Date).toISOString().split("T");function z(e){const r=/[0-9]/.test(e.key),t=["Tab","Delete","Backspace"].includes(e.key)||e.ctrlKey;r||t||e.preventDefault()}(0,a.useEffect)((()=>{l&&l.length>0&&d(l)}),[l]),(0,a.useEffect)((()=>{r&&r.length>0&&d(r)}),[r]);const T=(e,r,t,a)=>{let n=o;r[a]=e,r.touched=!0,n[t]=parseInt(r),d(n),i(n)},D=e=>{const r=[];return e&&e.length>0&&e.map((e=>{const a=null===t||void 0===t?void 0:t.find((r=>r.id===e));a&&r.push(a.name)})),null===r||void 0===r?void 0:r.join(", ")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.Ay,{container:!0,spacing:2,sx:{mt:5,mb:5},children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,children:(0,I.jsx)(y.A,{variant:"h4",children:"Groups"})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:(0,I.jsxs)(u.A,{onClick:()=>{R(!0)},size:"small",variant:"contained",color:"primary",children:["Create Group\xa0",(0,I.jsx)(q.A,{})]})})]}),o&&o.length>0&&(0,I.jsxs)(m.A,{children:[(0,I.jsx)(p.A,{children:(0,I.jsxs)(v.A,{children:[(0,I.jsx)(h.A,{children:"S. No."}),(0,I.jsx)(h.A,{children:"Group Name"}),(0,I.jsx)(h.A,{children:"Transactions"}),(0,I.jsx)(h.A,{children:"Start Range"}),(0,I.jsx)(h.A,{children:"End Range"}),(0,I.jsx)(h.A,{children:"Effective Date"}),(0,I.jsx)(h.A,{children:"Status"})]})}),(0,I.jsx)(f.A,{children:o&&o.length>0?(e=>{let r={},t=[];return e&&e.length>0&&e.map((e=>{var t;let a=null===e||void 0===e||null===(t=e.transactionTypeIds)||void 0===t?void 0:t.toString();a&&null!==a&&!r[a]&&(r[a]=e)})),Object.keys(r).map((e=>{t.push(r[e])})),t})(o).map(((e,r)=>(0,I.jsx)(a.Fragment,{children:e.transactionTypeIds&&e.transactionTypeIds.length>1&&(0,I.jsxs)(v.A,{children:[(0,I.jsx)(h.A,{children:""+ ++A}),(0,I.jsx)(h.A,{children:e.name}),(0,I.jsx)(h.A,{children:D(null===e||void 0===e?void 0:e.transactionTypeIds)}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"text",placeholder:"Start Range",...(null===e||void 0===e?void 0:e.startRange)&&{defaultValue:null===e||void 0===e?void 0:e.startRange},onKeyDown:z,key:e.id,onChange:t=>{var a;return T(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"startRange")}})}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"text",placeholder:"End Range",...(null===e||void 0===e?void 0:e.endRange)&&{defaultValue:null===e||void 0===e?void 0:e.endRange},onKeyDown:z,key:e.id,onChange:t=>{var a;return T(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"endRange")}})}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"date",...null!==e&&void 0!==e&&e.effectiveDate?{defaultValue:null===e||void 0===e?void 0:e.effectiveDate}:{defaultValue:S},key:e.id,onChange:t=>{var a;return T(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"effectiveDate")}})}),(0,I.jsx)(h.A,{children:"string"!==typeof e.isActive?"-":"1"===e.isActive?"Active":"Inactive"})]})},A))):(0,I.jsx)(I.Fragment,{})})]}),(0,I.jsx)(b.A,{open:g,onClose:()=>{R(!1)},"aria-labelledby":"modal-modal-title",children:(0,I.jsxs)(E.A,{sx:{width:"80%",p:2},modal:!0,darkTitle:!0,content:!1,children:[(0,I.jsxs)(s.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:0},children:[(0,I.jsx)(s.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-start",padding:"20px"},children:(0,I.jsx)(y.A,{variant:"h4",children:"Add Group"})}),(0,I.jsx)(s.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end",padding:"20px"},children:(0,I.jsx)(y.A,{onClick:()=>{R(!1)},children:(0,I.jsx)(x.A,{style:{cursor:"pointer",fontSize:20}})})})]}),(0,I.jsx)(Y,{masterData:t,selectedTraxns:n,onClose:()=>{R(!1)},setTransactions:e=>{A=0,i(e),c(e)}})]})})]})};var O=t(71826);const w=(0,c.Ay)(g.A)({borderRadius:"5px"}),C=e=>{let{setTransactions:r,selectedTransactions:t,organization:n,store:i}=e;const[l,u]=(0,a.useState)();let c=0;const[g,q]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),{masterMakerOrgType:b}=(0,o.$)(),R=(0,a.useMemo)((()=>(null===b||void 0===b?void 0:b.masterObject)||[]),[null===b||void 0===b?void 0:b.masterObject]),A=(e,t,a,n)=>{let i=l;t[n]=parseInt(e),t.touched=!0,t.transactionTypeIds||(t.transactionTypeIds=[t.id]),i[a]=t,u(i),r(i)},[S]=(new Date).toISOString().split("T");function z(e){const r=/[0-9]/.test(e.key),t=["Tab","Delete","Backspace"].includes(e.key)||e.ctrlKey;r||t||e.preventDefault()}(0,a.useEffect)((()=>{if(!i||!n)return;(async()=>{var e,r;const t=await(0,O.default)("/all-transaction-type-range-list",{method:"GET",query:{storeId:i,organizationId:n}}),a=null===t||void 0===t||null===(e=t.data)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.rows,o=null===a||void 0===a?void 0:a.filter((e=>null===e.endDate));o&&o.length>0?q(o.reverse()):q("none")})()}),[n,i]);const T=(0,a.useCallback)((e=>{const t=e.map((e=>({name:e.name,transactionTypeIds:[e.id],effectiveDate:S})));E(t),u(t),r(t)}),[S,r]),Y=(0,a.useCallback)(((e,t)=>{const a=e.map((e=>{var r;const a=null===t||void 0===t?void 0:t.find((r=>{var t;return null===(t=r.transactionTypeIds)||void 0===t?void 0:t.includes(e.id)}));return{...e,name:(null===a||void 0===a?void 0:a.name)||(null===e||void 0===e?void 0:e.name),transactionTypeId:e.id,endRange:null===a||void 0===a?void 0:a.endRange,startRange:null===a||void 0===a?void 0:a.startRange,isActive:null===a||void 0===a?void 0:a.isActive,effectiveDate:(null===a||void 0===a||null===(r=a.effectiveDate)||void 0===r?void 0:r.split("T")[0])||S,transactionTypeIds:null===a||void 0===a?void 0:a.transactionTypeIds}}));E(a),u(a),r(a)}),[S,r]),E=e=>{let r=[];e&&e.length>0&&e.map((e=>{e.transactionTypeIds&&e.transactionTypeIds.length>1&&"0"!==e.isActive&&(r=[...r,...e.transactionTypeIds])})),y(r)};(0,a.useEffect)((()=>{R&&R.length>0&&"none"===g?T(R):R&&R.length>0&&g&&g.length>0&&Y(R,g)}),[T,Y,R,g]);const C=e=>{let r=!1;return R.map((t=>{t.name!==e||x.includes(t.id)||(r=!0)})),r};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(m.A,{children:[(0,I.jsx)(p.A,{children:(0,I.jsxs)(v.A,{children:[(0,I.jsx)(h.A,{children:"S. No."}),(0,I.jsx)(h.A,{children:"Transaction"}),(0,I.jsx)(h.A,{children:"Start Range"}),(0,I.jsx)(h.A,{children:"End Range"}),(0,I.jsx)(h.A,{children:"Effective Date"}),(0,I.jsx)(h.A,{children:"Status"})]})}),(0,I.jsx)(f.A,{children:l&&l.length>0?l.map(((e,r)=>(0,I.jsx)(a.Fragment,{children:!x.includes(e.id)&&e.name&&C(e.name)&&(0,I.jsxs)(v.A,{children:[(0,I.jsx)(h.A,{children:""+ ++c}),(0,I.jsx)(h.A,{children:e.name}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"text",placeholder:"Start Range",...(null===e||void 0===e?void 0:e.startRange)&&{defaultValue:null===e||void 0===e?void 0:e.startRange},onKeyDown:z,key:e.id,onChange:t=>{var a;return A(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"startRange")}})}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"text",placeholder:"End Range",...(null===e||void 0===e?void 0:e.endRange)&&{defaultValue:null===e||void 0===e?void 0:e.endRange},onKeyDown:z,key:e.id,onChange:t=>{var a;return A(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"endRange")}})}),(0,I.jsx)(h.A,{children:(0,a.createElement)(j.A,{fullWidth:!0,type:"date",...null!==e&&void 0!==e&&e.effectiveDate?{defaultValue:null===e||void 0===e?void 0:e.effectiveDate}:{defaultValue:S},key:e.id,onChange:t=>{var a;return A(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value,e,r,"effectiveDate")}})}),(0,I.jsx)(h.A,{children:"string"!==typeof e.isActive?"-":"1"===e.isActive?"Active":"Inactive"})]})},e.id))):Array.from({length:10},((e,r)=>r+1)).map((e=>(0,I.jsx)(v.A,{children:Array.from({length:6},((e,r)=>r+1)).map((e=>(0,I.jsx)(h.A,{children:(0,I.jsx)(w,{variant:"rectangular",animation:"wave",height:30})},e)))},e)))})]}),(0,I.jsx)(s.Ay,{container:!0,spacing:2,sx:{mt:2},children:(0,I.jsx)(s.Ay,{item:!0,xs:12,children:(0,I.jsx)(d.A,{})})}),(0,I.jsx)(D,{data:l,masterData:R,selectedTransactions:t,setTransactions:e=>{y([]),r(e),c=0,E(e)}})]})};var k=t(55519),P=t(3147),L=t(29024),N=t(52867);const $=function(e){var r;let{disableAll:t,onSubmit:i,data:d}=e;const[l,c]=(0,a.useState)(!1),[g,m]=(0,a.useState)([]),[p,v]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[j,q]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[b,Y]=(0,a.useState)(null),E=(0,A.mN)({resolver:(0,R.t)(S.Ik().shape({organizationId:z.A.organizationId,storeId:z.A.store,prefix:z.A.alphanumericWithAlphabetRequired("Prefix")})),defaultValues:{},mode:"all"}),{handleSubmit:D,setValue:w,clearErrors:C}=E,$=(0,n.wA)(),{masterMakerOrgTypeSecond:{masterObject:M}}=(0,o.$)(),{organizationStores:H}=(0,P.E)(),{organizationsDropdown:{organizationDropdownObject:B},organizationsLocByParent:V}=(0,k.G)(),{organizationBranchData:_}=(0,a.useMemo)((()=>{var e;return{organizationBranchData:(null===V||void 0===V||null===(e=V.organizationObject)||void 0===e?void 0:e.rows)||[],isLoading:V.loading||!1}}),[V]),F=null===H||void 0===H||null===(r=H.organizationStoreObject)||void 0===r?void 0:r.rows;return(0,a.useEffect)((()=>{_&&v(_)}),[_]),(0,a.useEffect)((()=>{if(M){const e=M.filter((e=>["COMPANY","CONTRACTOR"].includes(null===e||void 0===e?void 0:e.name)));y(e)}}),[M]),(0,a.useEffect)((()=>{F&&F.length>0&&m(F.filter((e=>e.organizationId===h)))}),[F,h]),(0,a.useEffect)((()=>{$((0,L.VOH)("TRANSACTION TYPE")),$((0,L.rHZ)("ORGANIZATION TYPE"))}),[$]),(0,a.useEffect)((()=>{b&&$((0,L.d8s)(b))}),[$,b]),(0,a.useEffect)((()=>{if(d){var e,r;if(t=d,Object.entries(t).forEach((e=>{let[r,t]=e;w(r,t)})),null!==d&&void 0!==d&&d.organization)w("organizationTypeId",null===d||void 0===d||null===(e=d.organization)||void 0===e||null===(r=e.organization_type)||void 0===r?void 0:r.name);d.organization_store&&d.organization_store.organization&&d.organization_store.organization.parentId&&null!==d.organization_store.organization.parentId?(w("org",d.organization.name),w("orgBranch",d.organization_store.organization.name),w("orgStore",d.organization_store.name)):(w("org",d.organization.name),w("orgBranch",""),w("orgStore",d.organization_store.name))}var t}),[d,w,$]),(0,I.jsx)(T.Op,{methods:E,onSubmit:D((async e=>{i(e)})),children:(0,I.jsxs)(s.Ay,{container:!0,spacing:4,children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:d?(0,I.jsx)(T.o3,{name:"organizationTypeId",type:"text",label:"Organization Type",InputLabelProps:{shrink:!0},disabled:l||t,required:!0}):(0,I.jsx)(T.eu,{name:"organizationTypeId",menus:x,label:"Organization Type",InputLabelProps:{shrink:!0},onChange:e=>{var r,t;null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value&&(w("organizationId",""),w("branchId",""),w("storeId",""),w("prefix",""),c(!1),Y(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value))},disable:t,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:d?(0,I.jsx)(T.o3,{name:"org",type:"text",label:"Organization",InputLabelProps:{shrink:!0},disabled:l||t,required:!0}):(0,I.jsx)(T.eu,{name:"organizationId",menus:(0,N.HF)(B),label:"Organization",InputLabelProps:{shrink:!0},onChange:e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){var t,a,n,i,o;let r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.row;w("branchId",""),w("storeId",""),w("prefix",""),c(!1),f(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value),q(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value),$((0,L.VRs)({params:(null===r||void 0===r||null===(i=r.organization_type)||void 0===i?void 0:i.id)+"/"+(null===r||void 0===r?void 0:r.id)})),$((0,L.qV$)({organizationType:null===r||void 0===r||null===(o=r.organization_type)||void 0===o?void 0:o.id}))}},disable:t,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:d?(0,I.jsx)(T.o3,{name:"orgBranch",type:"text",label:"Organization Branch",InputLabelProps:{shrink:!0},disabled:l||t}):(0,I.jsx)(T.eu,{name:"branchId",menus:(0,N.HF)(p),label:"Organization Branch",InputLabelProps:{shrink:!0},onChange:e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){var t,a,n;w("storeId",""),w("prefix","");let r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.row;f(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value),$((0,L.qV$)({organizationType:null===r||void 0===r||null===(n=r.organization_type)||void 0===n?void 0:n.id}))}},disable:t})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:d?(0,I.jsx)(T.o3,{name:"orgStore",type:"text",label:"Store",InputLabelProps:{shrink:!0},disabled:l||t,required:!0}):(0,I.jsx)(T.eu,{name:"storeId",label:"Store",menus:(0,N.HF)(g),onChange:async e=>{var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value){var t,a,n,i,o;const r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,s=await(0,O.default)("/all-transaction-type-range-list",{method:"GET",query:{pageSize:1,pageIndex:1,storeId:r,organizationId:j}}),d=null===s||void 0===s||null===(a=s.data)||void 0===a||null===(n=a.data)||void 0===n||null===(i=n.rows)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.prefix;d?(c(!0),C(),w("prefix",d)):(w("prefix",""),c(!1))}},InputLabelProps:{shrink:!0},disable:t,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"prefix",type:"text",label:"Prefix",InputLabelProps:{shrink:!0},disabled:l||t,required:!0})}),!t&&(0,I.jsx)(s.Ay,{item:!0,xs:12,textAlign:"right",mt:-2,children:(0,I.jsx)(u.A,{sx:{mt:4.5},size:"small",type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})})},M=e=>{let{data:r,onBack:t,onSubmit:n,view:i}=e;const o=(0,A.mN)({resolver:(0,R.t)(S.Ik().shape({endDate:z.A.requiredWithLabel("End Date")})),defaultValues:{},mode:"all"}),{setValue:l,handleSubmit:c}=o;return(0,a.useEffect)((()=>{var e,t,a;r&&(a=r,Object.entries(a).forEach((e=>{let[r,t]=e;l(r,t||"")})),l("name",r.name&&null!==r.name?null===r||void 0===r?void 0:r.name:null===r||void 0===r?void 0:r.traxnsName),l("effectiveDate",(null===r||void 0===r||null===(e=r.effectiveDate)||void 0===e?void 0:e.split("T")[0])||""),l("endDate",(null===r||void 0===r||null===(t=r.endDate)||void 0===t?void 0:t.split("T")[0])||""))}),[r,l]),(0,I.jsxs)(T.Op,{methods:o,onSubmit:c((e=>{n(e)})),children:[(0,I.jsxs)(s.Ay,{container:!0,spacing:4,sx:{mb:4},children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"name",type:"text",label:"Name",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"traxnsName",type:"text",label:"TransactionTypeIds",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,sx:{display:"none"},children:(0,I.jsx)(T.o3,{name:"transactionTypeIds",type:"text",label:"TransactionTypeId",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"startRange",type:"number",label:"Start Range",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"endRange",type:"number",label:"End Range",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"effectiveDate",type:"date",label:"Effective Date",InputLabelProps:{shrink:!0},disabled:!0,required:!0})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,I.jsx)(T.o3,{name:"endDate",type:"date",label:"End Date",InputLabelProps:{shrink:!0},disabled:i,required:!0})})]}),(0,I.jsxs)(s.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:2},children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,children:(0,I.jsx)(d.A,{})}),(0,I.jsxs)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:[(0,I.jsx)(u.A,{onClick:t,size:"small",variant:"outlined",color:"primary",children:"Back"}),!i&&(0,I.jsx)(u.A,{size:"small",type:"submit",variant:"contained",color:"primary",children:"Update"})]})]})]})},H=(0,a.createContext)(),B=e=>{let{children:r}=e;const[t,n]=(0,a.useState)("Initial Value 1"),[i,o]=(0,a.useState)("Initial Value 2");return(0,I.jsx)(H.Provider,{value:{organizationId:t,setOrganizationId:n,storeId:i,setStoreId:o},children:r})};var V=t(62054);const _=e=>{let{onClick:r,view:t,update:n,data:i,refreshPagination:o}=e;const[c,g]=(0,a.useState)(null),[m,p]=(0,a.useState)([]),v=async e=>{let t,a;if(n){var s;a={organizationId:c.organizationId,storeId:c.storeId,prefix:null===(s=c.prefix)||void 0===s?void 0:s.toUpperCase(),name:e.name,transactionTypeIds:e.transactionTypeIds,startRange:parseInt(e.startRange),endRange:parseInt(e.endRange),effectiveDate:e.effectiveDate,endDate:e.endDate}}else{var d;const e=m.filter((e=>e.touched&&e.startRange&&!isNaN(e.startRange)&&e.endRange&&!isNaN(e.endRange)));if(!e.length)return void(0,V.A)("Please have at least one field with both start range and end range",{variant:"error"});if(e.find((e=>parseInt(e.endRange)<parseInt(e.startRange))))return void(0,V.A)("Ensure end ranges are greater than start ranges",{variant:"error"});a={organizationId:c.organizationId,storeId:c.storeId,prefix:null===(d=c.prefix)||void 0===d?void 0:d.toUpperCase(),ranges:e.map((e=>({name:e.name,transactionTypeIds:e.transactionTypeIds,startRange:parseInt(e.startRange),endRange:parseInt(e.endRange),effectiveDate:e.effectiveDate})))}}if(t=n?await(0,O.default)("/transaction-type-range-update",{method:"PUT",body:a,params:i.id}):await(0,O.default)("/transaction-type-range-form",{method:"POST",body:a}),t.success){const e=n?"Transaction Type Range updated successfully!":"Transaction Type Range added successfully!";(0,V.A)(e,{variant:"success",autoHideDuration:1e4}),o(),r()}else{var l,u;(0,V.A)((null===(l=t)||void 0===l||null===(u=l.error)||void 0===u?void 0:u.message)||"Operation failed. Please try again.",{variant:"error"})}};return(0,a.useEffect)((()=>{i&&g(i)}),[i]),(0,I.jsx)(B,{children:(0,I.jsxs)(E.A,{title:(t?"View ":n?"Update ":"Add ")+"Transaction Type Range",children:[(0,I.jsx)($,{disableAll:!!c,data:i,onSubmit:e=>g(e)}),c&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(s.Ay,{container:!0,spacing:2,sx:{mt:2},children:(0,I.jsx)(s.Ay,{item:!0,xs:12,children:(0,I.jsx)(d.A,{})})}),(0,I.jsx)(l.A,{sx:{mt:4},children:i?(0,I.jsx)(M,{view:t,data:i,onSubmit:v,onBack:r}):(0,I.jsx)(C,{onBack:()=>{g(null),p([])},store:null===c||void 0===c?void 0:c.storeId,organization:null===c||void 0===c?void 0:c.organizationId,selectedTransactions:m,setTransactions:p})})]}),!i&&(0,I.jsxs)(s.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:2},children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,children:(0,I.jsx)(d.A,{})}),(0,I.jsxs)(s.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:[(0,I.jsx)(u.A,{onClick:r,size:"small",variant:"outlined",color:"primary",children:"Back"}),!t&&c&&(null===m||void 0===m?void 0:m.length)>0&&(0,I.jsx)(u.A,{size:"small",onClick:v,variant:"contained",color:"primary",children:n?"Update":"Save"})]})]})]})})};var F=t(99635),Z=t(64499),U=t(89649),W=t(39225),G=t(30423),K=t(65920);const Q=()=>{const{paginations:{pageSize:e,pageIndex:r,forceUpdate:t},refreshPagination:s,setPageIndex:d,setPageSize:l}=(0,U.A)(),{searchString:u,setSearchString:c,accessorsRef:g,setAccessors:m,forceSearch:p,searchStringTrimmed:v}=(0,W.A)(),[h,f]=(0,a.useState)(!1),[j,q]=(0,a.useState)(!1),[x,y]=(0,a.useState)(!1),[b,R]=(0,a.useState)(!1),[A,S]=(0,a.useState)(null),[z,T]=(0,a.useState)(null),[Y,E]=(0,a.useState)(null),[D,w]=(0,a.useState)(1),[C,k]=(0,a.useState)(null),[P,$]=(0,a.useState)(!1),[M,H]=(0,a.useState)(!1),[B,Q]=(0,a.useState)(null),J=(0,n.wA)(),{masterMakerOrgType:X}=(0,o.$)(),ee=(0,a.useMemo)((()=>(null===X||void 0===X?void 0:X.masterObject)||[]),[null===X||void 0===X?void 0:X.masterObject]);(0,a.useEffect)((()=>{J((0,L.VOH)("TRANSACTION TYPE"))}),[J]);const{filterObjectForApi:re}=(0,G.bZ)(),te=(0,K.A)(re),ae=(0,K.A)(B);(0,a.useEffect)((()=>{[[te,re],[ae,B]].some(N.$H)?s():J((0,L.qfg)({pageIndex:r,pageSize:e,listType:D,...v&&{searchString:v,accessors:JSON.stringify(g.current)},sortBy:(null===B||void 0===B?void 0:B[0])||"updatedAt",sortOrder:(null===B||void 0===B?void 0:B[1])||"DESC",filterObject:re}))}),[J,r,e,t,D,v,B,g,p,s,te,re,ae]),(0,a.useEffect)((()=>{null!==A&&void 0!==A&&A.id&&J((0,L.cqD)({pageIndex:r,pageSize:e,listType:D,recordId:null===A||void 0===A?void 0:A.id}))}),[J,r,e,D,t,A]);const{transactionTypeRange:ne,transactionTypeRangeHistory:ie}=(()=>{const[e,r]=(0,a.useState)({transactionTypeRangesObject:{},error:"",loading:!0}),[t,i]=(0,a.useState)({transactionTypeRangeHistoryObject:{},error:"",loading:!0}),o=(0,n.d4)((e=>e.transactionTypeRange||{})),s=(0,n.d4)((e=>e.transactionTypeRangeHistory||{}));return(0,a.useEffect)((()=>{r((e=>({...e,...o})))}),[o]),(0,a.useEffect)((()=>{i((e=>({...e,...s})))}),[s]),{transactionTypeRange:e,transactionTypeRangeHistory:t}})(),{data:oe,count:se}=(0,a.useMemo)((()=>{var e,r;return{data:(null===ne||void 0===ne||null===(e=ne.transactionTypeRangesObject)||void 0===e?void 0:e.rows)||[],count:(null===ne||void 0===ne||null===(r=ne.transactionTypeRangesObject)||void 0===r?void 0:r.count)||0,isLoading:ne.loading||!1}}),[ne]),{historyData:de,historyCounts:le}=(0,a.useMemo)((()=>{var e,r;return{historyData:(null===(e=ie.transactionTypeRangeHistoryObject)||void 0===e?void 0:e.rows)||[],historyCounts:(null===(r=ie.transactionTypeRangeHistoryObject)||void 0===r?void 0:r.count)||0,isLoading:ie.loading||!1}}),[ie]),ue=(0,a.useMemo)((()=>[{Header:"Organization",accessor:"orgName",exportAccessor:"organization.name",filterProps:{tableName:"organizations",getColumn:"name",customAccessor:"orgName"}},{Header:"Organization Branch",accessor:"branchName",exportAccessor:"branchName",filterProps:{tableName:"organizations",getColumn:"name",customAccessor:"orgBranchName"}},{Header:"Store",accessor:"organization_store.name",filterProps:{tableName:"organization_stores",getColumn:"name",customAccessor:"storeName"}},{Header:"Prefix",accessor:"prefix",filterProps:{tableName:"transaction_type_ranges",getColumn:"prefix",customAccessor:"prefix"}},{Header:"Transaction Type",accessor:"traxnsName",filterProps:{tableName:"transaction_type_ranges",getColumn:"name",customAccessor:"name"}},{Header:"Start Range",accessor:"startRange",filterProps:{tableName:"transaction_type_ranges",getColumn:"start_range",customAccessor:"startRange"}},{Header:"End Range",accessor:"endRange",filterProps:{tableName:"transaction_type_ranges",getColumn:"end_range",customAccessor:"endRange"}},{Header:"Effective Date",accessor:"effectiveDate"},{Header:"End Date",accessor:"endDate"},{Header:"Updated By",accessor:"updated.name",filterProps:{tableName:"users",getColumn:"name",customAccessor:"updatedBy"}},{Header:"Created By",accessor:"created.name",filterProps:{tableName:"users",getColumn:"name",customAccessor:"createdBy"}},{Header:"Updated On",accessor:"updatedAt"},{Header:"Created On",accessor:"createdAt"}]),[]),ce=()=>{$(!1),w(1),k(null),H(!1),q(!j)},ge=e=>{const r=[];return e&&e.length>0&&e.map((e=>{const t=null===ee||void 0===ee?void 0:ee.find((r=>r.id===e));t&&r.push(t.name)})),r&&r.length>1?null===r||void 0===r?void 0:r.join(", "):r.toString()};return(0,I.jsxs)(I.Fragment,{children:[j?(0,I.jsx)(_,{refreshPagination:s,onClick:ce,...C&&{data:C},...P&&{view:P,update:!1},...M&&{update:M,view:!1}}):(0,I.jsx)(F.default,{title:"Transaction Type Range",data:(e=>{let r=[];return e&&e.length>0&&e.map((e=>{var t,a,n,i,o,s,d,l,u,c;r.push({...e,traxnsName:ge(e.transactionTypeIds),orgName:(null===e||void 0===e||null===(t=e.organization)||void 0===t?void 0:t.name)+" - "+(null===e||void 0===e||null===(a=e.organization)||void 0===a?void 0:a.code),branchName:null!==e&&void 0!==e&&null!==(n=e.organization_store)&&void 0!==n&&null!==(i=n.organization)&&void 0!==i&&i.parentId&&null!==(null===e||void 0===e||null===(o=e.organization_store)||void 0===o||null===(s=o.organization)||void 0===s?void 0:s.parentId)?(null===e||void 0===e||null===(d=e.organization_store)||void 0===d||null===(l=d.organization)||void 0===l?void 0:l.name)+" - "+(null===e||void 0===e||null===(u=e.organization_store)||void 0===u||null===(c=u.organization)||void 0===c?void 0:c.code):"-"})})),r})(oe),count:se,setPageIndex:d,setPageSize:l,pageIndex:r,pageSize:e,columns:ue,onClick:ce,handleRowView:e=>{q(!0),$(!0),H(!1),k(e)},handleRowDelete:e=>{T(e),f(!0)},handleRowUpdate:e=>{q(!0),H(!0),$(!1),k(e)},handleRowRestore:async e=>{E(e),y(!0)},listType:D,setListType:e=>{w(e)},handleRowHistory:e=>{S(e),R(!0)},searchConfig:{searchString:u,searchStringTrimmed:v,setSearchString:c,setAccessors:m},sortConfig:{sort:B,setSort:Q},exportConfig:{tableName:"transaction_type_ranges",apiQuery:{listType:D,filterObject:re}}}),(0,I.jsx)(Z.A,{open:h,handleClose:()=>f(!1),handleConfirm:async()=>{const e=await(0,O.default)("/delete-transaction-type-range",{method:"DELETE",params:z});var r;e.success?(s(),f(!1)):(0,V.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message,{variant:"error"})},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),(0,I.jsx)(Z.A,{open:x,handleClose:()=>y(!1),handleConfirm:async()=>{if(Y.endDate)(0,V.A)("This Record Can not be activeted",{variant:"error"}),y(!1);else{const r=await(0,O.default)("/transaction-type-range-activate",{method:"PUT",params:Y.id});var e;if(r.success)s(),y(!1);else(0,V.A)(null===r||void 0===r||null===(e=r.error)||void 0===e?void 0:e.message,{variant:"error"}),y(!1)}},title:"Confirm Restore",message:"Are you sure you want to restore?",confirmBtnTitle:"Restore"}),(0,I.jsx)(i.A,{open:b,onClose:()=>R(!1),scroll:"paper",disableEscapeKeyDown:!0,maxWidth:"lg",children:(0,I.jsx)(F.default,{isHistory:!0,title:null===A||void 0===A?void 0:A.name,data:de,columns:ue,count:le,hideActions:!0,hideSearch:!0,hideAddButton:!0,hideExportButton:!0,setPageIndex:d,setPageSize:l,pageIndex:r,pageSize:e})})]})}},13239:(e,r,t)=>{t.d(r,{A:()=>d});var a=t(89379),n=t(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var o=t(14840),s=function(e,r){return n.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:r,icon:i}))};const d=n.forwardRef(s)},26592:(e,r,t)=>{var a=t(24994);r.A=void 0;var n=a(t(79526)),i=t(44414);r.A=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,t)=>{var a=t(24994);r.A=void 0;var n=a(t(79526)),i=t(44414);r.A=(0,n.default)((0,i.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);