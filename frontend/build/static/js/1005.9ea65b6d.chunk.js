(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[1005,5406],{27423:(e,t,r)=>{"use strict";r.d(t,{A:()=>S});var i=r(9950),o=r(95537),a=r(53065),n=r(70146),l=r(89379);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var d=r(14840),u=function(e,t){return i.createElement(d.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const c=i.forwardRef(u);var m=r(65669),h=r(67535),g=r(90531),v=r(62054),j=r(44414);const f=(0,n.A)(c)({padding:"10px",fontSize:"22px",marginRight:"7px"}),x=(0,n.A)(o.A)({display:"flex",justifyContent:"center",cursor:"pointer"});function p(e){let{isOpen:t,onClose:r,setSegments:o}=e;const[a,n]=(0,i.useState)("");return(0,j.jsx)(m.A,{open:t,onClose:r,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,j.jsxs)("div",{style:{padding:"20px",backgroundColor:"white"},children:[(0,j.jsx)("div",{style:{height:"250px",overflowX:"hidden"},children:(0,j.jsx)(g.A,{rowsMin:10,placeholder:"Enter serial numbers here...",value:a,onChange:e=>n(e.target.value),style:{width:"500px",height:"230px",overflowY:"auto"}})}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:[(0,j.jsx)(h.A,{onClick:r,children:"Cancel"}),(0,j.jsx)(h.A,{variant:"contained",color:"primary",onClick:()=>{const e=a.split("\n").filter((e=>""!==e.trim())),t=[...new Set(e)];e.length===t.length?(o(t),r()):(0,v.A)("Duplicate serial numbers found. Kindly remove them.",{variant:"error"})},children:"Save"})]})]})})}const S=e=>{let{segments:t,setSegments:r,forDevolution:o=!1}=e;const[n,l]=(0,i.useState)(!1);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(x,{children:[(0,j.jsx)(p,{isOpen:n,onClose:()=>l(!1),setSegments:async e=>{try{if(!o&&e.length!==t.length)throw new Error(`Input contains ${e.length>t.length?"more":"less"} serial numbers than the quantity used`);r(e)}catch(a){i=null===a||void 0===a?void 0:a.message,(0,v.A)(i||"Something went wrong",{variant:"error"})}var i}}),(0,j.jsx)(a.A,{title:"Import from input",placement:"bottom",children:(0,j.jsx)(f,{onClick:()=>l(!0)})})]})})}},95615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=r(57560),o=r(65669),a=r(95537),n=r(87233),l=r(4139),s=r(67535),d=r(9950),u=r(25411),c=r(9912),m=r(61977),h=r(87125),g=r(22759),v=r(27423),j=r(86366),f=r(14351),x=r(62054),p=r(44414);const S={cursor:"pointer",fontSize:24},b=e=>{let{open:t,onClose:r,serialNumberData:b,showCheckboxes:y,onSave:q,selectedSerials:A,maxQuantity:w=0,noDisable:R}=e;const[I,z]=(0,d.useState)([]),L=Number(w);(0,d.useEffect)((()=>{A&&z(A)}),[A]);const Y=(0,d.useMemo)((()=>b||[]),[b]),D=(e,t)=>e&&I.length+1>L?((0,x.A)("Cannot select more serial numbers than the used quantity",{variant:"info"}),!1):(z(e?e=>e.concat(t):e=>e.filter((e=>e!==t))),!0),C=!R&&I.length!==L,[E,k]=(0,d.useState)([]),O=(0,d.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"File";e.some((e=>!Y.includes(e)))?(0,x.A)(`${t} contains serial number(s) which are not in the store`,{variant:"error"}):z(e)}),[Y]);return(0,d.useEffect)((()=>{k(Array(parseInt(L)).fill(""))}),[L,k]),(0,p.jsx)(o.A,{open:t,onClose:r,"aria-labelledby":"modal-modal-title",children:(0,p.jsxs)(f.A,{sx:{width:y?1e3:500},modal:!0,darkTitle:!0,content:!1,children:[(0,p.jsxs)(a.A,{display:"flex",mt:"1rem",mx:"2.4rem",children:[(0,p.jsx)(n.A,{variant:"h3",mt:"5px",children:"Serial Numbers"}),y&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.A,{segments:E,setSegments:O}),(0,p.jsx)(v.A,{segments:E,setSegments:e=>{O(e,"Input")}})]}),(0,p.jsx)(a.A,{position:"absolute",top:"15px",right:"21px",children:(0,p.jsx)(i.A,{onClick:r,style:S})})]}),(0,p.jsxs)(l.Ay,{container:!0,spacing:2,style:{display:"grid",gridTemplateColumns:"auto auto"},children:[(0,p.jsx)(l.Ay,{item:!0,xs:6,mx:5,mt:1,mb:y?1:2,style:{height:450,display:"flex",flexDirection:"column"},children:(0,p.jsxs)(h.K3,{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,p.jsxs)(a.A,{display:"flex",style:{height:48},children:[(0,p.jsx)(h.A3,{width:"20%",children:"S.No."}),(0,p.jsx)(h.A3,{width:y?"60%":"80%",children:"Serial Number"}),y&&(0,p.jsx)(h.A3,{width:"20%",children:(0,p.jsx)(g.PY,{blueBackground:!0,checked:I.length===Y.length||!!I.length&&"indeterminate",onChecked:e=>e&&Y.length>L?((0,x.A)(`Only the first ${L} serial numbers will be selected`,{variant:"info"}),z(Y.slice(0,L)),"indeterminate"):e?(z(Y),!0):(z([]),!0)})})]}),(0,p.jsx)(a.A,{style:{flex:1,display:"flex"},children:(0,p.jsx)(u.Ay,{children:e=>{let{height:t,width:r}=e;return(0,p.jsx)(c.Y1,{height:t,width:r,itemCount:Y.length,itemSize:48,itemData:{originalData:Y,showCheckboxes:y,selectedSerials:I,handleCheckboxChange:D},overscanCount:5,children:g.Ay})}})})]})}),y&&(0,p.jsx)(l.Ay,{item:!0,xs:6,mx:5,mt:1,mb:y?1:2,style:{height:450,display:"flex",flexDirection:"column"},children:(0,p.jsxs)(h.K3,{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,p.jsxs)(a.A,{display:"flex",style:{height:48},children:[(0,p.jsx)(h.A3,{width:"20%",children:"S.No."}),(0,p.jsx)(h.A3,{width:y?"60%":"80%",children:"Selected Serial Numbers"}),(0,p.jsx)(h.A3,{width:"20%"})]}),(0,p.jsxs)(a.A,{style:{flex:1,display:"flex"},children:[I&&I.length>0&&(0,p.jsx)(u.Ay,{children:e=>{let{height:t,width:r}=e;return(0,p.jsx)(c.Y1,{height:t,width:r,itemCount:I.length,itemSize:48,itemData:{selectedSerials:I,showCheckboxes:y,handleCheckboxChange:D},overscanCount:5,children:j.Ay})}}),I&&0===I.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.VW,{width:"20%"}),(0,p.jsx)(h.VW,{width:y?"60%":"80%",children:"No serial numbers selected"}),(0,p.jsx)(h.VW,{width:"20%"})]})]})]})})]}),y&&(0,p.jsx)(l.Ay,{item:!0,xs:12,sx:{textAlign:"center"},mb:2,children:(0,p.jsx)(s.A,{disabled:C,variant:"contained",onClick:()=>{q(I,Y.filter((e=>!I.includes(e)))),r()},children:"Add"})})]})})}},86366:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,DR:()=>d,wj:()=>s});var i=r(96319),o=r(9950),a=r(87125),n=r(44414);const l=(0,o.memo)((e=>{let{index:t,style:r,data:o}=e;const{showCheckboxes:l,selectedSerials:s,handleCheckboxChange:d}=o,u=s[t];return(0,n.jsxs)(a.tf,{index:t,style:r,children:[(0,n.jsx)(a.VW,{width:"20%",children:t+1}),(0,n.jsx)(a.VW,{width:l?"60%":"80%",children:u}),l&&(0,n.jsx)(a.VW,{width:"20%",children:(0,n.jsx)(i.A,{style:{cursor:"pointer"},onClick:()=>{d(!1,u)}})})]},t)})),s=(0,o.memo)((e=>{let{index:t,style:r,data:o}=e;const{showCheckboxes:l,selectedSerials:s,handleCheckboxChange:d}=o,u=s[t];return(0,n.jsxs)(a.tf,{index:t,style:r,children:[(0,n.jsx)(a.VW,{width:"20%",children:t+1}),(0,n.jsx)(a.VW,{width:l?"60%":"80%",children:u.oldSerialNo}),l&&(0,n.jsx)(a.VW,{width:"20%",children:(0,n.jsx)(i.A,{style:{cursor:"pointer"},onClick:()=>{d(!1,u)}})})]},t)})),d=(0,o.memo)((e=>{let{index:t,style:r,data:i}=e;const{showCheckboxes:o,rejectedSerials:l}=i,s=l[t];return(0,n.jsxs)(a.tf,{index:t,style:r,children:[(0,n.jsx)(a.VW,{width:"20%",children:t+1}),(0,n.jsx)(a.VW,{width:o?"60%":"80%",children:s.oldSerialNo})]},t)})),u=l},87125:(e,t,r)=>{"use strict";r.d(t,{A3:()=>n,K3:()=>a,VW:()=>s,tf:()=>l});var i=r(59254),o=r(86898);const a=(0,i.Ay)(o.A)({display:"flex",flexDirection:"column",width:415,overflowY:"auto"}),n=(0,i.Ay)(o.A)({width:e=>e.width||"20%",paddingTop:12,paddingBottom:12,textAlign:"center",backgroundColor:"#1677ff",color:"white",display:"flex",alignItems:"center",justifyContent:"center"}),l=(0,i.Ay)(o.A)((e=>{let{index:t}=e;return{display:"flex",backgroundColor:t%2===0?"#f2f2f2":"transparent",border:"1px solid #ddd","&:hover":{backgroundColor:"#ddd"}}})),s=(0,i.Ay)(o.A)({padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"})},61977:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var i=r(9950),o=r(55271),a=r(95537),n=r(53065),l=r(70146),s=r(9313),d=r(62054),u=r(97969),c=r(44414);const m="SerialNumbers",h=(0,l.A)(s.A)({padding:"10px",fontSize:"22px",marginRight:"7px"}),g=(0,l.A)(a.A)({display:"flex",justifyContent:"center",cursor:"pointer"}),v=(0,l.A)("input")({display:"none",cursor:"pointer"}),j=(0,l.A)("label")({verticalAlign:"middle",marginLeft:"10px",cursor:"pointer"}),f=["dif","xlt","xltx","fods","ots","html","slk","xlsm","ods","xls","csv","xlsx"],x=e=>{let{segments:t,setSegments:r,forDevolution:a=!1}=e;const[l,s]=(0,i.useState)(!1),x=e=>{(0,d.A)(e||"Something went wrong",{variant:"error"}),s(!1)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(g,{children:(0,c.jsxs)(n.A,{title:"Import from file",placement:"bottom",children:[(0,c.jsx)(j,{htmlFor:"myFile",children:l?(0,c.jsx)(u.m,{className:"rotate"}):(0,c.jsx)(h,{})}),(0,c.jsx)(v,{type:"file",id:"myFile",disabled:l,onChange:async e=>{var i,n;const l=null===e||void 0===e||null===(i=e.target)||void 0===i||null===(n=i.files)||void 0===n?void 0:n[0];l||x("Something went wrong while picking the file!");const d=l.name.split(".").pop();if(!f.includes(d))return void x("File type not supported");s(!0);const u=new FileReader;u.onload=e=>{try{const i=new Uint8Array(e.target.result),n=o.LF(i,{type:"array"}),[d]=n.SheetNames,u=n.Sheets[d],c=o.Wp.sheet_to_json(u,{header:1,raw:!1});if(!c)throw new Error("Something went wrong while parsing the file");const h=c[0].indexOf(m),g=-1!==h,v="text/plain"===l.type&&!g;if(!g&&!v)throw new Error(`Column for serial numbers not found. Looking for column name "${m}"`);const j=v?0:1,f=c.length,x=v?0:h,p=c.slice(j,f).map((e=>e[x])).filter((e=>void 0!==e&&""!==e.trim())),S=[...new Set(p)];if(p.length!==S.length)throw new Error("Duplicate serial numbers found. Kindly remove them.");if(!a&&S.length!==t.length)throw new Error(`File contains ${S.length>t.length?"more":"less"} serial numbers than the quantity used`);r(S),s(!1)}catch(i){x(null===i||void 0===i?void 0:i.message)}},u.readAsArrayBuffer(l)}})]})})})}},22759:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,PY:()=>s,ru:()=>u});var i=r(51496),o=r(9950),a=r(87125),n=r(44414);const l={"&.MuiCheckbox-root":{color:"white"},"&.MuiCheckbox-root:hover":{backgroundColor:"rgba(245, 245, 245, 0.4)"}},s=e=>{let{checked:t,onChecked:r,blueBackground:a}=e;const[s,d]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{d(t)}),[t]),(0,n.jsx)(i.A,{checked:!!s,indeterminate:"indeterminate"===s,onChange:e=>{const t=r(e.target.checked);t&&d("indeterminate"===t?t:e.target.checked)},sx:a?l:{},margin:"auto"})},d=(0,o.memo)((e=>{let{index:t,style:r,data:i}=e;const{originalData:o,showCheckboxes:l,selectedSerials:d,handleCheckboxChange:u}=i,c=o[t];return(0,n.jsxs)(a.tf,{index:t,style:r,children:[(0,n.jsx)(a.VW,{width:"20%",children:t+1}),(0,n.jsx)(a.VW,{width:l?"60%":"80%",children:c}),l&&(0,n.jsx)(a.VW,{width:"20%",children:(0,n.jsx)(s,{checked:d.includes(c),onChecked:e=>u(e,c)})})]},t)})),u=(0,o.memo)((e=>{let{index:t,style:r,data:i}=e;const{originalData:o,showCheckboxes:l,selectedSerials:d,handleCheckboxChange:u}=i,c=o[t];return(0,n.jsxs)(a.tf,{index:t,style:r,children:[(0,n.jsx)(a.VW,{width:"20%",children:t+1}),(0,n.jsx)(a.VW,{width:l?"60%":"80%",children:c.oldSerialNo}),l&&(0,n.jsx)(a.VW,{width:"20%",children:(0,n.jsx)(s,{checked:(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.oldSerialNo?e.map((e=>e.oldSerialNo)):e})(d).includes(c.oldSerialNo),onChecked:e=>u(e,c)})})]},t)})),c=d},14563:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=r(57560),o=r(4139),a=r(87233),n=r(64661),l=r(14341),s=r(67535),d=r(9950),u=r(86898),c=r(9912),m=r(25411),h=r(61977),g=r(87125),v=r(44414);const j=(0,d.memo)((e=>{let{index:t,style:r,data:i}=e;const{segments:o,handleOnChange:a,onPaste:n}=i,s=o[t],[u,c]=(0,d.useState)("");(0,d.useEffect)((()=>{c(s)}),[s]);return(0,v.jsxs)(g.tf,{index:t,style:r,children:[(0,v.jsx)(g.VW,{width:"20%",children:t+1}),(0,v.jsx)(g.VW,{width:"80%",children:(0,v.jsx)(l.A,{type:"text",value:u,onChange:e=>{let{value:r}=e.target;r=r.replace(/[^\w]/gi,"").toUpperCase(),c(r),a(r,t)},onPaste:e=>{e.preventDefault();const r=e.clipboardData.getData("Text");if(r.includes("\n"))n(e,t);else{let i=e.target.value+r;i=i.replace(/[^\w]/gi,"").toUpperCase(),c(i),a(i,t)}}})})]},t)}));var f=r(22759),x=r(14351);const p="ENTER_SERIAL_NUMBERS",S="GENERATE_SERIAL_NUMBERS",b=e=>{let{handleCloseSerial:t,closeCss:r,quantity:b,serialNumbers:y,setSerialNumbers:q,hideAuto:A=!1}=e;const[w,R]=(0,d.useState)(p),[I,z]=(0,d.useState)(""),[L,Y]=(0,d.useState)(""),[D,C]=(0,d.useState)(""),[E,k]=(0,d.useState)(!1),[O,N]=(0,d.useState)([]),[T,M]=(0,d.useState)([]),F=(e,t)=>{const r=O;r[t]=e,N(r)},$=(e,t)=>{const r=e.clipboardData.getData("text/plain"),i=O.slice();for(let a=0,n=r.split("\n");a<b&&a<n.length&&a+t<O.length;a++){var o;let e=null===(o=n[a])||void 0===o?void 0:o.replace(/[^\w]/gi,"").toUpperCase().trim();i[a+t]=e}N(i)},P=(e,t,r)=>{if(r){const i=parseInt(r)+parseInt(b),o=Array(i-r).fill().map(((i,o)=>`${e}${o+parseInt(r)}${t}`));M(o)}};return(0,d.useEffect)((()=>{null!==y&&void 0!==y&&y.length?N(y):N(Array(parseInt(b)).fill(""))}),[b,y]),(0,v.jsxs)(x.A,{sx:{width:520},modal:!0,darkTitle:!0,content:!1,children:[(0,v.jsx)(o.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:-1},children:(0,v.jsx)(o.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",marginRight:1},children:(0,v.jsx)(i.A,{onClick:t,style:r})})}),(0,v.jsxs)(o.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mt:0},children:[(0,v.jsxs)(o.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",padding:"0px"},children:[(0,v.jsxs)(u.A,{children:[w===p&&(0,v.jsx)(u.A,{position:"absolute",marginLeft:"-61px",children:(0,v.jsx)(h.A,{segments:O,setSegments:N})}),(0,v.jsx)(a.A,{color:w===p?"#FFFFFF":"#111111",onClick:()=>{R(p)},style:{cursor:"pointer",fontWeight:700,padding:10,background:w===p?"#1677FF":"#FFFFFF"},children:"Multiple Serial Number"})]}),!A&&(0,v.jsx)(a.A,{color:w===S?"#FFFFFF":"#111111",onClick:()=>{R(S)},style:{cursor:"pointer",fontWeight:700,padding:10,background:w===S?"#1677FF":"#FFFFFF"},children:"With Serial Number"})]}),w===p&&(0,v.jsx)(o.Ay,{item:!0,xs:12,m:5,mt:1,style:{height:400,display:"flex",flexDirection:"column"},children:(0,v.jsxs)(n.A,{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,v.jsxs)(u.A,{display:"flex",children:[(0,v.jsx)(g.A3,{width:"20%",children:"S.No."}),(0,v.jsx)(g.A3,{width:"80%",children:"Serial Number"})]}),(0,v.jsx)(u.A,{style:{flex:1,display:"flex"},children:(0,v.jsx)(m.Ay,{children:e=>{let{height:t,width:r}=e;return(0,v.jsx)(c.Y1,{height:t,width:r,itemCount:O.length,itemSize:60,itemData:{segments:O,handleOnChange:F,onPaste:$},overscanCount:5,children:j})}})})]})}),w===S&&!A&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(o.Ay,{container:!0,xs:12,m:1,ml:6,mr:6,children:[(0,v.jsx)(o.Ay,{item:!0,xs:2,m:1,children:"Prefix"}),(0,v.jsx)(o.Ay,{item:!0,xs:3,mr:3,children:(0,v.jsx)(l.A,{name:"prefix",value:I,onChange:e=>{if(e.target.value){let t=e.target.value;t=t.replace(/[^\w]/gi,"").toUpperCase(),z(t),P(t,L,D)}else z(""),P("",L,D)}})}),(0,v.jsx)(o.Ay,{item:!0,xs:2,m:1,children:"Suffix"}),(0,v.jsx)(o.Ay,{item:!0,xs:3,children:(0,v.jsx)(l.A,{name:"suffix",value:L,onChange:e=>{if(e.target.value){let t=e.target.value;t=t.replace(/[^\w]/gi,"").toUpperCase(),Y(t),P(I,t,D)}else Y(""),P(I,"",D)}})})]}),(0,v.jsxs)(o.Ay,{container:!0,xs:12,ml:6,mr:7,pr:.5,children:[(0,v.jsx)(o.Ay,{item:!0,xs:3,p:1,children:"Range From"}),(0,v.jsx)(o.Ay,{item:!0,xs:9,mb:1,children:(0,v.jsx)(l.A,{fullWidth:!0,type:"text",name:"rangeFrom",value:D,onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&(C(e.target.value),P(I,L,e.target.value),""===e.target.value&&M([]))}})}),(0,v.jsx)(o.Ay,{item:!0,xs:3,p:1,children:"Range To"}),(0,v.jsx)(o.Ay,{item:!0,xs:9,children:(0,v.jsx)(l.A,{fullWidth:!0,name:"rangeTo",type:"number",value:parseInt(D)+parseInt(b)-1,disabled:!0})})]}),(0,v.jsx)(o.Ay,{item:!0,xs:12,mx:5,mt:1,mb:2,style:{height:300,display:"flex",flexDirection:"column"},children:(0,v.jsxs)(n.A,{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,v.jsxs)(u.A,{display:"flex",style:{height:45},children:[(0,v.jsx)(g.A3,{width:"20%",children:"S.No."}),(0,v.jsx)(g.A3,{width:"80%",children:"Serial Number"})]}),(0,v.jsx)(u.A,{style:{flex:1,display:"flex"},children:(0,v.jsx)(m.Ay,{children:e=>{let{height:t,width:r}=e;return(0,v.jsx)(c.Y1,{height:t,width:r,itemCount:T.length,itemSize:45,itemData:{originalData:T},overscanCount:5,children:f.Ay})}})})]})})]})]}),E&&(0,v.jsx)(a.A,{m:5,mt:-4,color:"red",children:"Enter valid serial numbers"}),(0,v.jsx)(o.Ay,{item:!0,xs:12,mb:2,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(s.A,{size:"small",onClick:()=>{let e=[];e=w===S?T:O.filter((e=>""!==e));const r=e.length!==parseInt(b);k(r),r||(q(e),t(!0))},variant:"contained",color:"primary",children:"Save"})})]})}},84601:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var i=r(60666);const o=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],a=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},l=["nothing","",()=>!0],s=function(e,t,r){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=new Date(e),a=new Date(t),n=new Date(r);return i?n<=o&&o<=a:n<=o&&o>=a},d={allowedColumns:i.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:i.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:i.Yj().required("Required").nullable(),formType:i.Yj().required("Required").nullable(),taskType:i.Yj().required("Required").nullable(),code:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:i.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:i.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:i.Yj().required("Required"),title:i.Yj().required("Required").nullable(),office:i.Yj().required("Required").nullable(),masterCode:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:i.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:i.Yj().required("Required"),gstNumber:i.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:i.Yj().required("Required"),storePhoto:i.Yj().required("Required"),email:i.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:i.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:i.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:i.Yj().required("Required"),nother:i.Yj().nullable().required("Required"),otherArray:i.YO().min(1,"Please select atleast one field"),areaLevel:i.YO().min(1,"Please select atleast one level."),formTitle:i.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:i.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:i.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:i.Yj().required(" "),telephone:i.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:i.Yj().required("Required"),registeredAddress:i.Yj().required("Required"),quantity:i.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:i.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:i.ai().test(...n()).test(...o).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.ai().test(...t?n():l).test(...o).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:i.Yj().required("Required"),state:i.Yj().required("Required"),city:i.Yj().required("Required"),registeredCountry:i.Yj().required("Required"),registeredState:i.Yj().required("Required"),registeredCity:i.Yj().required("Required"),organizationType:i.Yj().nullable().required("Required"),organizationCode:i.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:i.Yj().nullable().required("Required"),organizationLocationId:i.Yj().required("Required"),integrationId:i.Yj().required("Required"),firm:i.Yj().required("Required"),movementType:i.Yj().required("Required"),supplier:i.Yj().required("Required"),masterMaker:i.Yj().required("Required"),projectMasterMaker:i.Yj().required("Required"),lov:i.Yj().required("Required"),date:i.Yj().required("Required"),fromDate:i.Yj().required("Required"),toDate:i.Yj().when("fromDate",{is:e=>!!e,then:i.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,t){return new Date(e).getTime()>=new Date(t.parent.fromDate).getTime()}))}),invoiceNumber:i.Yj().required("Required"),challanNumber:i.Yj().required("Required"),poNumber:i.Yj().required("Required"),workOrderNumber:i.Yj().required("Required"),receivingStore:i.Yj().required("Required"),uom:i.Yj().required("Required"),project:i.Yj().nullable().required("Required"),projectArr:i.YO().of(i.gl()).nullable().required("Required").min(1,"Required"),organizationArr:i.YO().of(i.gl()).nullable().required("Required").min(1,"Required"),accessProject:i.Yj().nullable().required("Required"),rate:i.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:i.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:i.Yj().required("Required"),rangeTo:i.Yj().required("Required"),requiredWithLabel:()=>i.Yj().nullable().required("Required"),requiredWithNonZero:e=>i.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>i.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:i.ai().required("Required"),isSerialize:i.Yj().required("Please select a checkbox"),vehicleNumber:i.Yj().required("Required"),vehicleNumberOptional:i.Yj().nullable(),inventoryNameOptional:i.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:i.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:i.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:i.Yj().required("Required"),eWayBillNumber:i.Yj().required("Required"),eWayBillDate:i.Yj().required("Required"),actualReceiptDate:i.Yj().when("eWayBillDate",{is:e=>!!e,then:i.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,t){return new Date(e).getTime()>=new Date(t.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:i.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:i.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:i.Yj().nullable().required("Required"),placeOfTransfer:i.Yj().required("Required"),contractorStore:i.Yj().nullable().required("Required"),projectSiteStoreLocation:i.Yj().required("Required"),contractorStoreLocation:i.Yj().nullable().required("Required"),contractorEmployee:i.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>i.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:i.Yj().required("Required"),longDescription:i.Yj().required("Required"),hsnCode:i.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:i.Yj().required("Required"),store:i.Yj().nullable().required("Required"),accessStore:i.Yj().nullable().required("Required"),series:i.Yj().required("Required"),material:i.Yj().required("Required"),materialType:i.Yj().required("Required"),materialCode:i.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:i.Yj().nullable().required("Required"),accessOrganizationId:i.Yj().nullable().required("Required"),company:i.Yj().required("Required"),contractor:i.Yj().nullable().required("Required"),contractorId:i.Yj().required("Required"),fromInstaller:i.Yj().nullable().required("Required"),toInstaller:i.Yj().nullable().required("Required"),fromStoreLocationId:i.Yj().nullable().required("Required"),toStoreLocationId:i.Yj().nullable().required("Required"),storeLocationId:i.Yj().nullable().required("Required"),installerStoreLocationId:i.Yj().nullable().required("Required"),accessStoreLocationId:i.Yj().nullable().required("Required"),fromStore:i.Yj().nullable().required("Required"),toStore:i.Yj().required("Required"),transporterName:i.Yj().required("Required"),customerSiteStoreId:i.Yj().nullable().required("Required"),toCustomerId:i.Yj().nullable().required("Required"),financialYear:i.Yj().required("Required"),user:i.Yj().required("Required"),accessUser:i.Yj().nullable().required("Required"),rightsFor:i.Yj().nullable().required("Required"),gaaLevelId:i.Yj().nullable().required("Required"),networkLevelId:i.Yj().nullable().required("Required"),server:i.Yj().required("Required"),port:i.Yj().required("Required"),encryption:i.Yj().required("Required"),requisitionNumber:i.Yj().nullable().required("Required"),password:i.Yj().required("Required"),transaction:i.Yj().nullable().required("Required"),serviceCenter:i.Yj().nullable().required("Required"),scrapLocation:i.Yj().nullable().required("Required"),effectiveFrom:i.Yj().required("Required"),effectiveTo:i.Yj().required("Required"),displayName:i.Yj().required("Required"),templateName:i.Yj().required("Required"),subject:i.Yj().required("Required"),from:i.Yj().required("Required"),to:i.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:i.Yj().required("Required"),attachmentsWhenIsAuthorized:i.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:i.Yj().nullable().required("Required")}),requestNumber:i.Yj().required("Required"),remarks:i.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:i.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:i.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:i.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>i.Yj().required("Required"),startDateRange:(e,t,r)=>i.Yj().required("Required").test("date-comparison",`${t} must be >= ${r}`,(function(t){return function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new Date(e),o=new Date(t);return r?i<=o:i>=o}(t,e,!1)})),endDateRange:(e,t,r,o,a,n)=>i.Yj().required("Required").test("date-comparison",`${r} must be <= ${o} and >= ${a}`,(function(r){return s(r,e,t,!n)})),endDateRangeMax:(e,t,r,o,a,n)=>i.Yj().required("Required").test("date-comparison",`${r} must be >= ${o} and >= ${a}`,(function(r){return s(r,e,t,!n)})),month:e=>i.ai().test(...n(e)).test(...a).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,t,r)=>i.ai().test(...n(t)).test(...a).typeError(`Please enter valid ${t}`).required("Required").max(e,`${t} must be less than equal to ${r}`),checkQty:e=>i.ai().test(...n(e)).test(...o).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||t>=0?i.ai().nullable().transform(((e,t)=>/^\s*$/.test(t)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(t,`Maximum quantity allowed: ${t||0}.`).required("Required"):i.ai().nullable().transform(((e,t)=>/^\s*$/.test(t)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:i.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},88848:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[r,a]=(0,i.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[n,l]=(0,i.useState)({masterObject:[],error:"",loading:!0}),[s,d]=(0,i.useState)({masterObject:[],error:"",loading:!0}),[u,c]=(0,i.useState)({masterObject:[],error:"",loading:!0}),[m,h]=(0,i.useState)({currencyObject:[],error:"",loading:!0}),[g,v]=(0,i.useState)({gstStatusObject:[],error:"",loading:!0}),[j,f]=(0,i.useState)({paymentTermObject:[],error:"",loading:!0}),[x,p]=(0,i.useState)({incotermsObject:[],error:"",loading:!0}),[S,b]=(0,i.useState)({titleObject:[],error:"",loading:!0}),[y,q]=(0,i.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),A=(0,o.d4)((e=>e.masterMakerLov||{})),w=(0,o.d4)((e=>e.masterMakerLovList||{})),R=(0,o.d4)((e=>e.lovsForMasterName||[])),I=(0,o.d4)((e=>e.lovsForMasterNameSecond||[])),z=(0,o.d4)((e=>e.lovsForMasterNameThird||[])),L=(0,o.d4)((e=>e.currency||[])),Y=(0,o.d4)((e=>e.gstStatus||[])),D=(0,o.d4)((e=>e.paymentTerm||[])),C=(0,o.d4)((e=>e.incoterms||[])),E=(0,o.d4)((e=>e.title||[])),k=(0,o.d4)((e=>e.masterMakerLovHistory||{}));return(0,i.useEffect)((()=>{t((e=>({...e,...A})))}),[A]),(0,i.useEffect)((()=>{a((e=>({...e,...w})))}),[w]),(0,i.useEffect)((()=>{l((e=>({...e,...R})))}),[R]),(0,i.useEffect)((()=>{d((e=>({...e,...I})))}),[I]),(0,i.useEffect)((()=>{c((e=>({...e,...z})))}),[z]),(0,i.useEffect)((()=>{h((e=>({...e,...L})))}),[L]),(0,i.useEffect)((()=>{v((e=>({...e,...Y})))}),[Y]),(0,i.useEffect)((()=>{f((e=>({...e,...D})))}),[D]),(0,i.useEffect)((()=>{p((e=>({...e,...C})))}),[C]),(0,i.useEffect)((()=>{b((e=>({...e,...E})))}),[E]),(0,i.useEffect)((()=>{q((e=>({...e,...k})))}),[k]),{masterMakerLovs:e,masterMakerLovsList:r,masterMakerOrgType:n,masterMakerOrgTypeSecond:s,masterMakerOrgTypeThird:u,masterMakerCurrency:m,masterMakerGstStatus:g,masterMakerIncoterms:x,masterMakerPaymentTerm:j,masterMakerLovHistory:y,masterMakerTitle:S}}},12952:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({companyStoreLocationsObject:{},error:"",loading:!0}),r=(0,o.d4)((e=>e.companyStoreLocations||{}));(0,i.useEffect)((()=>{t((e=>({...e,...r})))}),[r]);const[a,n]=(0,i.useState)({firmStoreLocationsObject:{},error:"",loading:!0}),l=(0,o.d4)((e=>e.firmStoreLocations||{}));(0,i.useEffect)((()=>{n((e=>({...e,...l})))}),[l]);const[s,d]=(0,i.useState)({organizationStoreLocationsHistoryObject:{},error:"",loading:!0}),u=(0,o.d4)((e=>e.organizationStoreLocationsHistory||[]));return(0,i.useEffect)((()=>{d((e=>({...e,...u})))}),[u]),{companyStoreLocations:e,firmStoreLocations:a,organizationStoreLocationsHistory:s}}},3147:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({organizationStoreObject:{},error:"",loading:!0}),[r,a]=(0,i.useState)({organizationStoreObject:{},error:"",loading:!0}),[n,l]=(0,i.useState)({organizationStoreObject:[],error:"",loading:!0}),[s,d]=(0,i.useState)({organizationStoreDropdownObject:{},error:"",loading:!0}),[u,c]=(0,i.useState)({organizationStoreDropdownSecondObject:{},error:"",loading:!0}),[m,h]=(0,i.useState)({orgStoreDropDownObject:{},error:"",loading:!0}),[g,v]=(0,i.useState)({orgViewStoreDropDownObject:{},error:"",loading:!0}),[j,f]=(0,i.useState)({organizationStoresHistoryObject:{},error:"",loading:!0}),x=(0,o.d4)((e=>e.organizationStores||{})),p=(0,o.d4)((e=>e.organizationStoresAllAccess||{})),S=(0,o.d4)((e=>e.organizationStoresSecond||[])),b=(0,o.d4)((e=>e.organizationStoreDropdown||[])),y=(0,o.d4)((e=>e.organizationStoreDropdownSecond||[])),q=(0,o.d4)((e=>e.orgStoreDropDown||[])),A=(0,o.d4)((e=>e.orgViewStoreDropDown||[])),w=(0,o.d4)((e=>e.organizationStoresHistory||[]));return(0,i.useEffect)((()=>{t((e=>({...e,...x})))}),[x]),(0,i.useEffect)((()=>{a((e=>({...e,...p})))}),[p]),(0,i.useEffect)((()=>{l((e=>({...e,...S})))}),[S]),(0,i.useEffect)((()=>{d((e=>({...e,...b})))}),[b]),(0,i.useEffect)((()=>{c((e=>({...e,...y})))}),[y]),(0,i.useEffect)((()=>{h((e=>({...e,...q})))}),[q]),(0,i.useEffect)((()=>{v((e=>({...e,...A})))}),[A]),(0,i.useEffect)((()=>{f((e=>({...e,...w})))}),[w]),{organizationStores:e,organizationStoresSecond:n,organizationStoresDropdown:s,orgStoreDropDown:m,orgViewStoreDropDown:g,organizationStoresHistory:j,organizationStoresAllAccess:r,organizationStoresDropdownSecond:u}}},55519:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[r,a]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[n,l]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[s,d]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[u,c]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[m,h]=(0,i.useState)({organizationLocationObject:{},error:"",loading:!0}),[g,v]=(0,i.useState)({organizationGetListObject:{},error:"",loading:!0}),[j,f]=(0,i.useState)({organizationDropdownObject:[],error:"",loading:!0}),[x,p]=(0,i.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[S,b]=(0,i.useState)({organizationDropdownSecondObject:[],error:"",loading:!0}),[y,q]=(0,i.useState)({organizationLocationDropdownObject:[],error:"",loading:!0}),[A,w]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[R,I]=(0,i.useState)({organizationObject:{},error:"",loading:!0}),[z,L]=(0,i.useState)({organizationHistoryObject:{},error:"",loading:!0}),Y=(0,o.d4)((e=>e.organization||[])),D=(0,o.d4)((e=>e.organizationAllData||[])),C=(0,o.d4)((e=>e.organizationAllDataSecond||[])),E=(0,o.d4)((e=>e.organizationLocationByParent||[])),k=(0,o.d4)((e=>e.organizationLocationByParentSecond||[])),O=(0,o.d4)((e=>e.organizationLocation||[])),N=(0,o.d4)((e=>e.organizationListData||[])),T=(0,o.d4)((e=>e.organizationList||[])),M=(0,o.d4)((e=>e.organizationDropdown||[])),F=(0,o.d4)((e=>e.organizationLocationDropdown||[])),$=(0,o.d4)((e=>e.organizationLocationDropdownSecond||[])),P=(0,o.d4)((e=>e.organizationDropdownSecond||[])),V=(0,o.d4)((e=>e.organizationListSecond||[])),W=(0,o.d4)((e=>e.organizationHistory||[]));return(0,i.useEffect)((()=>{t((e=>({...e,...Y})))}),[Y]),(0,i.useEffect)((()=>{a((e=>({...e,...D})))}),[D]),(0,i.useEffect)((()=>{l((e=>({...e,...C})))}),[C]),(0,i.useEffect)((()=>{d((e=>({...e,...E})))}),[E]),(0,i.useEffect)((()=>{c((e=>({...e,...k})))}),[k]),(0,i.useEffect)((()=>{h((e=>({...e,...O})))}),[O]),(0,i.useEffect)((()=>{v((e=>({...e,...N})))}),[N]),(0,i.useEffect)((()=>{f((e=>({...e,...M})))}),[M]),(0,i.useEffect)((()=>{p((e=>({...e,...F})))}),[F]),(0,i.useEffect)((()=>{q((e=>({...e,...$})))}),[$]),(0,i.useEffect)((()=>{b((e=>({...e,...P})))}),[P]),(0,i.useEffect)((()=>{w((e=>({...e,...T})))}),[T]),(0,i.useEffect)((()=>{I((e=>({...e,...V})))}),[V]),(0,i.useEffect)((()=>{L((e=>({...e,...W})))}),[W]),{organizations:e,organizationsAllData:r,organizationsAllDataSecond:n,organizationsLocByParent:s,organizationsLocByParentSecond:u,organizationsGetListData:g,organizationsDropdown:j,organizationsDropdownSecond:S,organizationsList:A,organizationsListSecond:R,organizationHistory:z,organizationsLocation:m,organizationsLocationDropdown:x,organizationsLocationDropdownSecond:y}}},80733:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({projectsObject:{},error:"",loading:!0}),[r,a]=(0,i.useState)({projectDetailsObject:{},error:"",loading:!0}),[n,l]=(0,i.useState)({projectsDropdownObject:[],error:"",loading:!0}),[s,d]=(0,i.useState)({projectsDropdownObject:[],error:"",loading:!0}),[u,c]=(0,i.useState)({projectsObject:[],error:"",loading:!0}),[m,h]=(0,i.useState)({projectsHistoryObject:{},error:"",loading:!0}),g=(0,o.d4)((e=>e.projects||{})),v=(0,o.d4)((e=>e.projectDetails||{})),j=(0,o.d4)((e=>e.projectsDropdown||[])),f=(0,o.d4)((e=>e.allProjectsDropdown||[])),x=(0,o.d4)((e=>e.projectsForRoleOrUser||[])),p=(0,o.d4)((e=>e.projectsHistory||{}));return(0,i.useEffect)((()=>{t((e=>({...e,...g})))}),[g]),(0,i.useEffect)((()=>{a((e=>({...e,...v})))}),[v]),(0,i.useEffect)((()=>{l((e=>({...e,...j})))}),[j]),(0,i.useEffect)((()=>{d((e=>({...e,...f})))}),[f]),(0,i.useEffect)((()=>{c((e=>({...e,...x})))}),[x]),(0,i.useEffect)((()=>{h((e=>({...e,...p})))}),[p]),{projects:e,projectsDropdown:n,allProjectsDropdown:s,projectsHistory:m,projectsGovernForRoleOrUser:u,projectDetails:r}}},111:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var i=r(9950),o=r(27081),a=r(53065),n=r(57073),l=r(4139),s=r(67535),d=r(36089),u=r(28429),c=r(1308),m=r(88848),h=r(26473),g=r(60666),v=r(12257),j=r(87233),f=r(74745),x=r(9449),p=r(80733),S=r(29024),b=r(3147),y=r(12952),q=r(55519),A=r(62605),w=r(96951),R=r(84601),I=r(14351),z=r(52867),L=r(44414);const Y=e=>{var t;let{saveData:r,disableAll:a,setDisableAll:n}=e;const[d,u]=(0,i.useState)(""),[c,Y]=(0,i.useState)(null),[D,C]=(0,i.useState)([]),[E,k]=(0,i.useState)([]),[O,N]=(0,i.useState)([]),[T,M]=(0,i.useState)(""),[F,$]=(0,i.useState)(),[P,V]=(0,i.useState)({}),W=(0,x.mN)({resolver:(0,h.t)(g.Ik().shape({projectId:R.A.project,organizationTypeId:R.A.organizationType,organizationId:R.A.organizationId,toProjectSiteStoreId:R.A.fromStore,fromStoreLocationId:R.A.serviceCenter,supplierId:R.A.supplier,...!(0,z.g6)(F)&&{eWayBillDate:R.A.requiredWithLabel("E-Way Bill Date")}})),defaultValues:{},mode:"all"}),{handleSubmit:B,setValue:H,watch:_,clearErrors:Z}=W,G=_("eWayBillNumber"),Q=(0,o.wA)();(0,i.useEffect)((()=>{Q((0,S.uiG)()),Q((0,S._G1)()),Q((0,S.VOH)("ORGANIZATION TYPE")),Q((0,S.h6R)({transactionTypeId:"b442aa8c-92cb-420f-9e34-04764be59fc5"}))}),[Q]);const{storeLocationsStock:U}=(0,A.t)(),{projectsDropdown:K}=(0,p.Y)(),{masterMakerOrgType:X,masterMakerLovs:J}=(0,m.$)(),ee=(0,i.useMemo)((()=>null===U||void 0===U?void 0:U.allStoreLocationsStock),[U]),te=((e,t)=>{const r=e&&e.filter((e=>e.name===t));return r&&r.length?r[0].id:void 0})(J.masterMakerLovsObject.rows,"SRCTS"),re=(X.masterObject||[]).filter((e=>"420e7b13-25fd-4d23-9959-af1c07c7e94b"===e.id||"decb6c57-6d85-4f83-9cc2-50e0630003df"===e.id)),ie=e=>{"projectId"===e?(H("organizationTypeId",null),H("organizationId",null),H("organizationbranchId",null),H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("requisitionNumber",null)):"organizationTypeId"===e?(H("organizationId",null),H("organizationbranchId",null),H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("requisitionNumber",null)):"organizationId"===e?(H("organizationbranchId",null),H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("requisitionNumber",null)):"organizationbranchId"===e?(H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("requisitionNumber",null)):"toProjectSiteStoreId"===e?(H("requisitionNumber",null),H("fromStoreLocationId",null)):"requisitionNumber"===e&&H("fromStoreLocationId",null)},oe=function(e,t,r,i,o){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,L.jsx)(v.A,{children:(0,L.jsx)(w.eu,{name:e,label:t,..."function"===typeof o&&{onChange:o},InputLabelProps:{shrink:!0},menus:r,...a&&{disable:!0},...i&&{required:!0},...n&&{allowClear:!0}})})},ae=function(e,t,r,i){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,L.jsx)(v.A,{spacing:1,children:(0,L.jsx)(w.o3,{name:e,type:r,label:t,InputLabelProps:{shrink:o},...a&&{disabled:!0},...i&&{required:!0}})})},ne=null===K||void 0===K?void 0:K.projectsDropdownObject,{organizationStoresDropdown:le}=(0,b.E)(),se=(null===(t=le.organizationStoreDropdownObject)||void 0===t?void 0:t.rows)||[],{companyStoreLocations:de,firmStoreLocations:ue}=(0,y.V)(),ce=((e,t,r)=>{var i,o;return null!==e&&void 0!==e&&e.toLowerCase().includes("company")?null===(i=t.companyStoreLocationsObject)||void 0===i?void 0:i.rows:null!==e&&void 0!==e&&e.toLowerCase().includes("contractor")?null===(o=r.firmStoreLocationsObject)||void 0===o?void 0:o.rows:[]})(d,de,ue),{organizationsDropdown:me,organizations:he,organizationsLocByParent:ge}=(0,q.G)(),ve=me.organizationDropdownObject||[],je=he.organizationObject.rows||[],{orgBranchData:fe}=(0,i.useMemo)((()=>({orgBranchData:ge.organizationObject.rows||[]})),[ge]),[xe,pe]=(0,i.useState)(null),Se=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value){var i,o;ie(r?"organizationbranchId":"organizationId"),!r&&H("orgnanizationbranchId",null),H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("fromStoreLocationId",null),!r&&Q((0,S.VRs)({params:c+"/"+(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)})),pe(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value);let t=se.filter((t=>{var r;return t.organizationId===(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)}));C(t)}};(0,i.useEffect)((()=>{var e;if(null!==ee&&void 0!==ee&&null!==(e=ee[0])&&void 0!==e&&e.allMaterialsArr){var t,i,o,a,n,l,s;let e=P;const d=D.filter((t=>t.id===e.toProjectSiteStoreId));e.transactionTypeId=te,e.fromOrganizationId=null!==(t=d[0])&&void 0!==t&&null!==(i=t.organization)&&void 0!==i&&i.parentId?null===(o=d[0])||void 0===o||null===(a=o.organization)||void 0===a?void 0:a.parentId:null===(n=d[0])||void 0===n||null===(l=n.organization)||void 0===l?void 0:l.id,e.storeLocationData=E,e.materials=null===ee||void 0===ee||null===(s=ee[0])||void 0===s?void 0:s.allMaterialsArr,r(e)}}),[ee,P,te,D,E,r]);(0,i.useEffect)((()=>{$(G)}),[G]),(0,i.useEffect)((()=>{(0,z.g6)(F)&&(Z("eWayBillDate"),H("eWayBillDate",""))}),[Z,F,H]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(I.A,{title:"SRCTS (Service Center To Store)",sx:{mb:2},children:(0,L.jsx)(w.Op,{methods:W,children:(0,L.jsxs)(l.Ay,{container:!0,spacing:4,children:[(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("projectId","Project",ne,!0,(()=>{ie("projectId")}))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("organizationTypeId","Organization Type",re,!0,(e=>{var t;if(ie("organizationTypeId"),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value){var r,i,o,a,n,l,s,d;H("orgnanizationId",null),H("orgnanizationbranchId",null),H("toProjectSiteStoreId",null),H("fromStoreLocationId",null),H("fromStoreLocationId",null),Q((0,S.d8s)(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)),Q((0,S.h7m)(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value));let t=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.row;u(null===t||void 0===t?void 0:t.name),Y(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value),null!==t&&void 0!==t&&null!==(n=t.name)&&void 0!==n&&n.toLowerCase().includes("contractor")?Q((0,S.c1B)(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)):null!==t&&void 0!==t&&null!==(s=t.name)&&void 0!==s&&s.toLowerCase().includes("company")&&Q((0,S.Ru7)(null===e||void 0===e||null===(d=e.target)||void 0===d?void 0:d.value))}}))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("organizationId","Organization",(0,z.HF)(ve),!0,Se)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("organizationbranchId","Organization Branch",(0,z.HF)(fe)||[],!1,(e=>{Se(e,!0)}),!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("toProjectSiteStoreId","To Store",D,!0,(e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value){ie("toProjectSiteStoreId"),H("fromStoreLocationId",null),H("fromStoreLocationId",null);let t=ce&&ce.filter((t=>{var r,i,o;return(null===t||void 0===t?void 0:t.organizationStoreId)===(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)&&(null===t||void 0===t||null===(i=t.organization_store)||void 0===i||null===(o=i.organization)||void 0===o?void 0:o.id)===xe}));k(t);let r=ce&&ce.filter((t=>{var r,i,o;return(null===t||void 0===t?void 0:t.name.includes("Service Center"))&&(null===t||void 0===t||null===(r=t.organization_store)||void 0===r||null===(i=r.organization)||void 0===i?void 0:i.id)===xe&&(null===t||void 0===t?void 0:t.organizationStoreId)===(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value)}));N(r)}}))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("supplierId","Supplier",(0,z.HF)(je),!0,(e=>{var t;const r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.row,i=r.cities?r.cities:r.city,o=r.registeredOfficeAddress?r.registeredOfficeAddress:r.address,a=r.registeredOfficePincode?r.registeredOfficePincode:r.pinCode;M(`${o}, ${i.name}, ${i.state.name}, ${i.state.country.name}, ${a}`)}))}),(0,L.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,L.jsx)(j.A,{children:"Address: "}),(0,L.jsx)(j.A,{mt:2,children:T})]}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:oe("fromStoreLocationId","Service Center Location",O,!0,(()=>{ie("fromStoreLocationId")}))}),(0,L.jsx)(l.Ay,{item:!0,md:3,xl:3,children:ae("placeOfSupply","Place Of Supply","text",!1)}),(0,L.jsx)(l.Ay,{item:!0,md:3,xl:2,children:ae("vehicleNumber","Vehicle No./LR No.","text",!1)}),(0,L.jsx)(l.Ay,{item:!0,md:3,xl:2,children:ae("eWayBillNumber","E-Way Bill Number","text",!1)}),(0,L.jsx)(l.Ay,{item:!0,md:3,xl:2,children:ae("eWayBillDate","E-Way Bill Date","date",!1,(0,z.g6)(F))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:3,children:ae("remarks","Remarks","text",!1)}),(0,L.jsx)(l.Ay,{container:!0,spacing:4,mt:2,children:(0,L.jsx)(l.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:!a&&(0,L.jsx)(s.A,{size:"small",variant:"contained",onClick:B((e=>{V(e),n(!0),Q((0,S.mx4)({projectId:e.projectId,storeId:e.toProjectSiteStoreId,supplierId:e.supplierId,storeLocationId:e.fromStoreLocationId}))})),color:"primary",children:"Next"})})}),(0,L.jsx)(l.Ay,{container:!0,sx:{mt:3,mb:3},children:(0,L.jsx)(l.Ay,{item:!0,md:12,xl:12,children:(0,L.jsx)(f.A,{})})})]})})})})};var D=r(65669),C=r(14563),E=r(95615),k=r(71826);const O={cursor:"pointer",fontSize:24},N=e=>{var t;let{materials:r,onMaterailsInput:a,formData:n,view:d,update:u,showData:c}=e;const[m,v]=(0,i.useState)(!1),[f,p]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[q,A]=(0,i.useState)(c&&c.rate?null===c||void 0===c?void 0:c.rate:null),[Y,N]=(0,i.useState)(null),[T,M]=(0,i.useState)(""),[F,$]=(0,i.useState)(""),[P,V]=(0,i.useState)(null),[W,B]=(0,i.useState)(!1),[H,_]=(0,i.useState)([]),[Z,G]=(0,i.useState)([]),[Q,U]=(0,i.useState)([]),[K,X]=(0,i.useState)(!1),[J,ee]=(0,i.useState)(!1),[te,re]=(0,i.useState)([]),[ie,oe]=(0,i.useState)(null),[ae,ne]=(0,i.useState)(!1),le=(0,o.wA)(),se=(0,i.useCallback)((async()=>{const e=await(0,k.default)("/organization-store-location-list-data",{method:"GET",query:{organizationType:n.organizationTypeId,organizationStoreId:n.toProjectSiteStoreId}});if(e.success){var t;const r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;_(null===r||void 0===r?void 0:r.rows)}}),[n]);(0,i.useEffect)((()=>{le((0,S._G1)()),se()}),[le,se]),(0,i.useEffect)((()=>{v(!!d)}),[d,u]);const de=(0,x.mN)({resolver:(0,h.t)(g.Ik().shape({materialId:R.A.requiredWithLabel("Material"),quantity:ae?R.A.checkForInteger("Quantity",b):R.A.maxQuantity(b,!0),toStoreLocationId:R.A.toStoreLocationId})),defaultValues:{},mode:"all"}),{handleSubmit:ue,setValue:ce,reset:me,watch:he}=de,ge=he("uom");(0,i.useEffect)((()=>{var e,t;(d||u)&&c&&(B(!0),N(c),y((0,z.$G)(null===c||void 0===c?void 0:c.qtyStk)),t=c,Object.entries(t).forEach((e=>{let[t,r]=e;"actions"!==t&&ce(t,r)})),ce("toStoreLocationId",null===c||void 0===c?void 0:c.toStoreLocationId),ce("uomId",null===c||void 0===c?void 0:c.uomId),ce("uom",null===c||void 0===c?void 0:c.uom),V(null===c||void 0===c?void 0:c.toStoreLocationId),$(null===c||void 0===c||null===(e=c.receiveStoreLocation)||void 0===e?void 0:e.name),G(null===c||void 0===c?void 0:c.material_serial_numbers),A(null===c||void 0===c?void 0:c.rate),p(null===c||void 0===c?void 0:c.quantity))}),[d,u,c,ce,n]);const ve=(e,t,r,i,o,a)=>(0,L.jsx)(w.eu,{name:e,label:t,onChange:o,InputLabelProps:{shrink:!0},menus:r,...a&&{disable:!0},...i&&{required:!0}}),je=function(e,t,r,i,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return(0,L.jsx)(w.o3,{name:e,type:r,label:t,..."function"===typeof o&&{handleChange:o},InputLabelProps:{shrink:n},...(a||m)&&{disabled:!0},...i&&{required:!0}})},fe=e=>{G(e)},xe=()=>{X(!1)},pe=["missing","consumed","billing","installed","installer","old","service-center","service center"];return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(I.A,{sx:{mb:2,pb:4},children:(0,L.jsxs)(w.Op,{methods:de,children:[(0,L.jsxs)(l.Ay,{container:!0,spacing:2,sx:{mt:2},children:[(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:ve("materialId","Material",(Se=r,Se&&Se.length>0&&Se.map((e=>{var t,r,i,o;return{...e,mainId:null===e||void 0===e?void 0:e.id,id:null===e||void 0===e||null===(t=e.material)||void 0===t?void 0:t.id,name:(null===e||void 0===e||null===(r=e.material)||void 0===r?void 0:r.code)+" - "+(null===e||void 0===e||null===(i=e.material)||void 0===i?void 0:i.name),code:null===e||void 0===e||null===(o=e.material)||void 0===o?void 0:o.code}}))||[]),!0,(e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.value){var r,i,o,a,n,l,s,d,u,c;let t=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.row;null!==t&&void 0!==t&&null!==(i=t.material)&&void 0!==i&&i.isSerialNumber&&re(null===t||void 0===t?void 0:t.serialNumbers),ce("qtyStk",(0,z.$G)(null===t||void 0===t?void 0:t.quantity)),y((0,z.$G)(null===t||void 0===t?void 0:t.quantity)),ce("code",null===t||void 0===t?void 0:t.code),ce("rate",null===t||void 0===t||null===(o=t.rate)||void 0===o?void 0:o.toFixed(2)),ce("tax",null===t||void 0===t?void 0:t.tax),ce("value",null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.toFixed(2)),ce("uom",null===t||void 0===t||null===(n=t.uom)||void 0===n?void 0:n.name),ce("uomId",null===t||void 0===t||null===(l=t.uom)||void 0===l?void 0:l.id),ce("toStoreLocationId",null===t||void 0===t||null===(s=t.receiveStoreLocation)||void 0===s?void 0:s.id),V(null===t||void 0===t||null===(d=t.receiveStoreLocation)||void 0===d?void 0:d.id),$(null===t||void 0===t||null===(u=t.receiveStoreLocation)||void 0===u?void 0:u.name),oe(null===t||void 0===t?void 0:t.receiveStoreLocation),ce("quantity",null),N(t),A(null===t||void 0===t||null===(c=t.rate)||void 0===c?void 0:c.toFixed(2))}}),!!u)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:je("code","Code","text",!0,void 0,!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:ve("toStoreLocationId","To Store Location",H&&H.filter((e=>pe.every((t=>!e.name.toLowerCase().includes(t))))),!0,(e=>{var t,r,i,o;oe(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.row),V(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value),$(null===e||void 0===e||null===(i=e.target)||void 0===i||null===(o=i.row)||void 0===o?void 0:o.name)}))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,children:je("quantity","Quantity",(0,z.VF)(ge)?"text":"number",!0,(e=>{var t,r;(0,z.VF)(ge)?ne(!1):ne(!0),p(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),ce("value",((null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)*q).toFixed(2))}))}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,children:je("qtyStk","Qty In Stock","number",!1,void 0,!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,children:je("uom","UOM","text",!0,void 0,!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,style:{display:"none"},children:je("uomId","UOMId","text",!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,children:je("rate","Rate","text",!0,(e=>{var t;let r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;A(r.toFixed(2))}),!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,sx:{display:"none"},children:je("tax","Tax%","text",!0,void 0,!0)}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:2,children:je("value","Value","number",!0,void 0,!0)}),(0,L.jsxs)(l.Ay,{item:!0,xs:12,sm:2,sx:{textAlign:"center"},children:[((null===Y||void 0===Y||null===(t=Y.material)||void 0===t?void 0:t.isSerialNumber)||u&&(null===c||void 0===c?void 0:c.isSerialNumber))&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.A,{mb:-1,children:"SerialNumber"})," ",(0,L.jsx)("br",{})," ",(0,L.jsx)(s.A,{size:"small",onClick:()=>{U(te&&!u?(e=>(ce("allSerials",e),(0,z.Y6)(e)))(te):c&&c.allSerials?c.allSerials:[]),ee(!0)},variant:"contained",color:"primary",children:"View"})]}),T&&""!==T&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsx)(j.A,{color:"error",sx:{fontSize:12,marginTop:2},children:T})]})]}),(0,L.jsx)(l.Ay,{item:!0,xs:12,sm:12,mt:4,textAlign:"right",children:!d&&(0,L.jsx)(s.A,{size:"small",onClick:ue((e=>{var t,r;Y&&null!==Y&&void 0!==Y&&null!==(t=Y.material)&&void 0!==t&&t.isSerialNumber&&0===Z.length?M("Serial Number is required"):Y&&null!==Y&&void 0!==Y&&null!==(r=Y.material)&&void 0!==r&&r.isSerialNumber&&Z.length!==e.quantity?M(`Please select a total of ${e.quantity} serial numbers.`):(M(!1),Z&&(e.material_serial_numbers=Z),e.tax=0===e.tax?"0":e.tax,e.fromStoreLocationName=F,e.requestNumber=Y.referenceDocumentNumber,e.receiveStoreLocation=ie,a(e,null===Y||void 0===Y?void 0:Y.materialId,(null===Y||void 0===Y?void 0:Y.materialId)+P),G([]),U([]),N(null),ce("qtyStk",null),y(null),B(!1),me())})),variant:"contained",color:"primary",children:W?"Update":"Add"})})]}),(0,L.jsx)(D.A,{open:K,onClose:xe,"aria-labelledby":"modal-modal-title",children:(0,L.jsx)(C.default,{handleCloseSerial:xe,closeCss:O,quantity:f,setSerialNumbers:fe})}),J&&(0,L.jsx)(E.default,{open:J,onClose:()=>{ee(!1)},maxQuantity:f,serialNumberData:Q,showCheckboxes:!0,onSave:e=>{fe(e)},selectedSerials:Z})]})})});var Se};var T=r(99635),M=r(60845),F=r(62054);const $=e=>{let{values:t,onEdit:r,onDelete:i}=e;return(0,L.jsxs)("div",{children:[(0,L.jsx)(a.A,{title:"Edit",placement:"bottom",children:(0,L.jsx)(n.A,{color:"secondary",onClick:()=>r(t),children:(0,L.jsx)(d.A,{})})}),(0,L.jsx)(a.A,{title:"Delete",placement:"bottom",children:(0,L.jsx)(n.A,{color:"secondary",onClick:()=>i(t),children:(0,L.jsx)(c.A,{})})})]})},P=()=>{const e=(0,u.Zp)(),[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)([]),[d,c]=(0,i.useState)({}),[h,g]=(0,i.useState)(!1),[v,j]=(0,i.useState)(!1),[f,x]=(0,i.useState)(!1),[p,b]=(0,i.useState)(!1),[y,q]=(0,i.useState)(!1),[A,R]=(0,i.useState)(null),[I,z]=(0,i.useState)(!1),[D,C]=(0,i.useState)({}),[E,O]=(0,i.useState)([]),P=(0,o.wA)(),{pathname:V}=(0,u.zy)();(0,i.useEffect)((()=>{n([]),z(!1)}),[V]);const W=(0,i.useMemo)((()=>[{Header:"Actions",accessor:"actions"},{Header:"Name",accessor:"material.name"},{Header:"Code",accessor:"code"},{Header:"Quantity",accessor:"quantity"},{Header:"UOM",accessor:"uom"},{Header:"To Store Location",accessor:"receiveStoreLocation.name"}]),[]);(0,i.useEffect)((()=>{P((0,S._G1)())}),[P]);const{masterMakerLovs:B}=(0,m.$)(),H=((e,t)=>{const r=e&&e.filter((e=>e.name===t));return r&&r.length?r[0].id:void 0})(B.masterMakerLovsObject.rows,"COMPANY");(0,i.useEffect)((()=>{H&&P((0,M.Ru)({organizationType:H}))}),[P,H]);const _=()=>{R(null),z(!1),j(!1),x(!1),q(!1)},Z=e=>{g(!1),b(!0),q(!0),c(e)},G=(e,i,o)=>{((e,i)=>{i&&(a.map((o=>{let a={};if(o.material.id===e.materialId){a={...o,...e},a.uomId=null===e||void 0===e?void 0:e.uomId,O((e=>[...e,a.toStoreLocationId]));const n=t.findIndex((e=>e.materialId===i));let l={...a};if(n>=0){const e=[...t];e[n]=l,r(e)}else r(t.concat(l))}})),b(!1))})(e,i);const n=D;n[o]||(n[o]={}),n[o]=e,C(n)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Y,{onClick:_,saveData:e=>{e&&e.projectId&&e.toProjectSiteStoreId&&(j(!0),x(!0),n(e.materials),R(e))},disableAll:I,setDisableAll:z}),f&&a&&a.length>0&&(0,L.jsx)(N,{onMaterailsInput:(e,t,r)=>{G(e,t);const i=D;i[r]||(i[r]={}),i[r]=e,C(i),q(!1)},storeLocationData:null===A||void 0===A?void 0:A.storeLocationData,formData:A,view:h,update:p,showData:d,materials:a,selectedLocations:E,selectedItems:D}),v&&t&&t.length>0&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(T.default,{title:"SRCTS",hideHeader:!0,hidePagination:!0,data:(e=>{let i=[];return e&&e.length>0&&e.map(((e,o)=>{i.push({...e,actions:(0,L.jsx)($,{values:e,onEdit:Z,onDelete:e=>{((e,i)=>{if(t){const o=t.filter(((t,r)=>r!==e));let a=o.map((e=>e.toStoreLocationId));r(o),O(a),delete D[i.materialId+i.toStoreLocationId]}})(o,e)}})})})),i})(t),count:t.length,columns:W,hideActions:!0}),(0,L.jsx)(w.Op,{children:(0,L.jsx)(l.Ay,{container:!0,spacing:4,children:(0,L.jsxs)(l.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end",gap:"20px",mt:2},children:[(0,L.jsx)(s.A,{onClick:_,size:"small",variant:"outlined",color:"primary",children:"Back"}),(0,L.jsx)(s.A,{disabled:y,onClick:async()=>{var r,i,o;q(!0);const a=(()=>{const{transactionTypeId:e,projectId:r,organizationId:i,vehicleNumber:o,toProjectSiteStoreId:a,supplierId:n,fromStoreLocationId:l,placeOfSupply:s,eWayBillNumber:d,eWayBillDate:u,remarks:c}=A;return{transactionTypeId:e,remarks:c,supplierId:n,vehicleNumber:o,placeOfSupply:s,...d&&""!==d&&{eWayBillNumber:d},...d&&""!==d&&u&&""!==u&&{eWayBillDate:u},stock_ledgers:(null===t||void 0===t?void 0:t.map((t=>{const o=parseFloat(t.quantity)*t.rate;return{transactionTypeId:e,projectId:r,organizationId:i,storeId:a,storeLocationId:t.toStoreLocationId,fromStoreLocationId:l,materialId:t.materialId,uomId:t.uomId,quantity:t.quantity,rate:t.rate,value:o,tax:t.tax,remarks:c,serialNumber:t.material_serial_numbers}})))||[]}})(),n=await(0,k.default)("/location-to-other-location",{method:"POST",body:a});var l;if(!n.success)return(0,F.A)((null===n||void 0===n||null===(l=n.error)||void 0===l?void 0:l.message)||"Operation failed. Please try again!",{variant:"error"}),void q(!1);const s=null!==(r=null===(i=n.data)||void 0===i?void 0:i.data)&&void 0!==r?r:{},d=s.referenceDocumentNumber||(null===(o=s[0])||void 0===o?void 0:o.referenceDocumentNumber);(0,F.A)(d?`Transaction created with reference number: ${d}`:"Transaction created successfully!",{variant:"success",autoHideDuration:1e4}),setTimeout((()=>{q(!1)}),100),e("/srcts-receipt")},size:"small",variant:"contained",color:"primary",children:"Submit"})]})})})]})]})}},62605:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var i=r(9950),o=r(27081);const a=()=>{const[e,t]=(0,i.useState)({stocksObject:{},error:"",loading:!0}),[r,a]=(0,i.useState)({transactionObject:{},error:"",loading:!1}),[n,l]=(0,i.useState)({transactionObject:{},error:"",loading:!0}),[s,d]=(0,i.useState)({transactionObject:{},error:"",loading:!0}),[u,c]=(0,i.useState)({transactionObject:{},error:"",loading:!0}),[m,h]=(0,i.useState)({data:{},error:"",loading:!0}),[g,v]=(0,i.useState)({data:{},error:"",loading:!0}),[j,f]=(0,i.useState)({data:{},error:"",loading:!0}),[x,p]=(0,i.useState)({stoDataObject:{},error:"",loading:!0}),[S,b]=(0,i.useState)({refDataObject:{},error:"",loading:!0}),[y,q]=(0,i.useState)({refDataSecondObject:{},error:"",loading:!0}),[A,w]=(0,i.useState)({refDataThirdObject:{},error:"",loading:!0}),[R,I]=(0,i.useState)({stockLedgerDetailListObject:{},error:"",loading:!0}),[z,L]=(0,i.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[Y,D]=(0,i.useState)({allStoreLocationsStock:[],error:"",loading:!0}),[C,E]=(0,i.useState)({transactionObject:{},error:"",loading:!1}),[k,O]=(0,i.useState)({transactionObject:{},error:"",loading:!1}),[N,T]=(0,i.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[M,F]=(0,i.useState)({storeLocationsTransactionObject:{},error:"",loading:!0}),[$,P]=(0,i.useState)({transactionObject:{},error:"",loading:!1}),V=(0,o.d4)((e=>e.stocks||{})),W=(0,o.d4)((e=>e.transactions||{})),B=(0,o.d4)((e=>e.transactionsSecond||{})),H=(0,o.d4)((e=>e.transactionsQty||{})),_=(0,o.d4)((e=>e.transactionsSecondQty||{})),Z=(0,o.d4)((e=>e.serialNumbers||{})),G=(0,o.d4)((e=>e.serialNumbersSecond||{})),Q=(0,o.d4)((e=>e.allSerialNumbers||{})),U=(0,o.d4)((e=>e.stoData||{})),K=(0,o.d4)((e=>e.refData||{})),X=(0,o.d4)((e=>e.refDataSecond||{})),J=(0,o.d4)((e=>e.refDataThird||{})),ee=(0,o.d4)((e=>e.stockLedgerDetailList||{})),te=(0,o.d4)((e=>e.storeLocationsTransactions||{})),re=(0,o.d4)((e=>e.storeLocationsStock||[])),ie=(0,o.d4)((e=>e.transactionMaterialList||{})),oe=(0,o.d4)((e=>e.txnByMaterial||{})),ae=(0,o.d4)((e=>e.txnByLocationMaterial||{})),ne=(0,o.d4)((e=>e.storeStockReport||{})),le=(0,o.d4)((e=>e.stockLedgerMaterialList||{}));return(0,i.useEffect)((()=>{t((e=>({...e,...V})))}),[V]),(0,i.useEffect)((()=>{a((e=>({...e,...W})))}),[W]),(0,i.useEffect)((()=>{l((e=>({...e,...B})))}),[B]),(0,i.useEffect)((()=>{d((e=>({...e,...H})))}),[H]),(0,i.useEffect)((()=>{c((e=>({...e,..._})))}),[_]),(0,i.useEffect)((()=>{h((e=>({...e,...Z})))}),[Z]),(0,i.useEffect)((()=>{v((e=>({...e,...G})))}),[G]),(0,i.useEffect)((()=>{f((e=>({...e,...Q})))}),[Q]),(0,i.useEffect)((()=>{p((e=>({...e,...U})))}),[U]),(0,i.useEffect)((()=>{b((e=>({...e,...K})))}),[K]),(0,i.useEffect)((()=>{q((e=>({...e,...X})))}),[X]),(0,i.useEffect)((()=>{w((e=>({...e,...J})))}),[J]),(0,i.useEffect)((()=>{I((e=>({...e,...ee})))}),[ee]),(0,i.useEffect)((()=>{L((e=>({...e,...te})))}),[te]),(0,i.useEffect)((()=>{D((e=>({...e,...re})))}),[re]),(0,i.useEffect)((()=>{E((e=>({...e,...ie})))}),[ie]),(0,i.useEffect)((()=>{O((e=>({...e,...oe})))}),[oe]),(0,i.useEffect)((()=>{T((e=>({...e,...ae})))}),[ae]),(0,i.useEffect)((()=>{F((e=>({...e,...ne})))}),[ne]),(0,i.useEffect)((()=>{P((e=>({...e,...le})))}),[le]),{stocks:e,transaction:r,serialNumbers:m,serialNumbersSecond:g,allSerialNumbers:j,stoData:x,refData:S,stockLedgerDetailList:R,storeLocationsTransaction:z,transactionsSecond:n,refDataSecond:y,refDataThird:A,transactionQty:s,transactionSecondQty:u,storeLocationsStock:Y,transactionMaterialList:C,txnByMaterial:k,txnByLocationMaterial:N,storeStockReport:M,stockLedgerMaterialList:$}}},13239:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var i=r(89379),o=r(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=r(14840),l=function(e,t){return o.createElement(n.A,(0,i.A)((0,i.A)({},e),{},{ref:t,icon:a}))};const s=o.forwardRef(l)},26592:(e,t,r)=>{"use strict";var i=r(24994);t.A=void 0;var o=i(r(79526)),a=r(44414);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,t,r)=>{"use strict";var i=r(24994);t.A=void 0;var o=i(r(79526)),a=r(44414);t.A=(0,o.default)((0,a.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")},1308:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var i=r(65471),o=r(44414);const a=(0,i.A)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},64661:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var i=r(58168),o=r(98587),a=r(9950),n=r(72004),l=r(88465),s=r(18463),d=r(59254),u=r(86957),c=r(44414);const m=["className","component"],h=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),g=a.forwardRef((function(e,t){const r=(0,s.b)({props:e,name:"MuiTableContainer"}),{className:a,component:d="div"}=r,g=(0,o.A)(r,m),v=(0,i.A)({},r,{component:d}),j=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},u.I,t)})(v);return(0,c.jsx)(h,(0,i.A)({ref:t,as:d,className:(0,n.A)(j.root,a),ownerState:v},g))}))},86957:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,I:()=>a});var i=r(1763),o=r(423);function a(e){return(0,o.Ay)("MuiTableContainer",e)}const n=(0,i.A)("MuiTableContainer",["root"])},83686:()=>{}}]);