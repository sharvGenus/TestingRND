"use strict";(self.webpackChunkgenus_power=self.webpackChunkgenus_power||[]).push([[1998,5406],{64499:(e,r,i)=>{i.d(r,{A:()=>q});var t=i(9950),a=i(65669),d=i(43263),n=i(57191),l=i(95537),o=i(67535),u=i(87233),s=i(44414);q.defaultProps={title:"Confirm Action",message:"Are you sure to perform this action",closeBtnTitle:"Cancel",confirmBtnTitle:"Ok"};const c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"background.paper",borderRadius:"10px",p:3},m={display:"flex",flexDirection:"row",padding:"15px 0"},v={display:"flex",justifyContent:"flex-end",gap:2},p={marginTop:2,display:"flex",fontSize:"14px"};function q(e){let{open:r,handleClose:i,title:q,message:f,closeBtnTitle:j,confirmBtnTitle:b,handleConfirm:g,confirmColor:h}=e;const[x,R]=(0,t.useState)(null);return(0,t.useEffect)((()=>{R(null)}),[r]),(0,s.jsx)("div",{children:(0,s.jsx)(a.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,closeAfterTransition:!0,slots:{backdrop:d.A},slotProps:{backdrop:{timeout:500}},children:(0,s.jsx)(n.A,{in:r,children:(0,s.jsxs)(l.A,{sx:c,children:[(0,s.jsx)(u.A,{id:"transition-modal-title",variant:"h4",children:q}),(0,s.jsx)(u.A,{id:"transition-modal-title",variant:"h6",sx:m,children:f}),(0,s.jsxs)(l.A,{sx:v,children:[!!i&&(0,s.jsx)(o.A,{onClick:i,size:"small",variant:"outlined",color:"primary",children:j}),!!g&&(0,s.jsx)(o.A,{onClick:g,size:"small",variant:"contained",color:h||"error",children:b})]}),x&&(0,s.jsx)(u.A,{variant:"p",color:"red",sx:p,children:x})]})})})})}},84601:(e,r,i)=>{i.d(r,{A:()=>u});var t=i(60666);const a=["is-decimal-up-to-3-places","Must have up to 3 decimal places",e=>!e||/^\d+(\.\d{1,3})?$/.test(e.toString())],d=["is-decimal-up-to-2-places","Must have up to 2 decimal places",e=>!e||/^\d+(\.\d{1,2})?$/.test(e.toString())],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return["is-non-zero",`${e||"Quantity"} should be greater than zero`,e=>e>0]},l=["nothing","",()=>!0],o=function(e,r,i){let t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=new Date(e),d=new Date(r),n=new Date(i);return t?n<=a&&a<=d:n<=a&&a>=d},u={allowedColumns:t.ai().typeError("Value must be a number").min(1,"Value must be between 1 and 5").max(5,"Value must be between 1 and 5").required(""),name:t.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("Required"),form:t.Yj().required("Required").nullable(),formType:t.Yj().required("Required").nullable(),taskType:t.Yj().required("Required").nullable(),code:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required").nullable(),inventoryName:t.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid name").required("Required"),particulars:t.Yj().matches(/^[A-Za-z0-9\-_'\s(),./]+$/,"Please enter valid particulars").required("Required"),orgName:t.Yj().required("Required"),title:t.Yj().required("Required").nullable(),office:t.Yj().required("Required").nullable(),masterCode:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),projectName:t.Yj().matches(/^(?!0\d).*$/,"Leading zero values are not allowed").required("Required"),type:t.Yj().required("Required"),gstNumber:t.Yj().matches(/^([0][1-9]|[1-2][0-9]|[3][0-7])([a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9a-zA-Z]{1}[zZ]{1}[0-9a-zA-Z]{1})+$/,"Please enter valid GST number").required("Required").nullable(),attachments:t.Yj().required("Required"),storePhoto:t.Yj().required("Required"),email:t.Yj().matches(/^[a-zA-Z0-9._]{1,}@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter valid email").required("Required").nullable(),mobileNumber:t.Yj().matches("^((\\+91)?|91)?[6789]\\d{9}$","Please enter valid mobile number").required("Required"),mobileNumberOptional:t.Yj().nullable().test("isValidOrEmpty","Please enter a valid mobile number",(function(e){return!e||/^((\+91)?|91)?[6789]\d{9}$/.test(e)})),other:t.Yj().required("Required"),nother:t.Yj().nullable().required("Required"),otherArray:t.YO().min(1,"Please select atleast one field"),areaLevel:t.YO().min(1,"Please select atleast one level."),formTitle:t.Yj().matches(/^[A-Za-z ]*$/,"Only A-Z letters allowed.").required("Required"),attributeTitle:t.Yj().required(" ").matches(/^[A-Z].*$/,"First letter must be capital"),dbColumn:t.Yj().matches(/^(?!.*__)[a-z_]{1,20}$/,"Only use small letters and underscore. (Max length 20)").required(""),required:t.Yj().required(" "),telephone:t.Yj().matches(/\b(?:\d{3}-\d{3}-\d{4}|\(\d{3}\) \d{3}-\d{4}|\d{10})\b/,"Enter valid telephone number").nullable(),address:t.Yj().required("Required"),registeredAddress:t.Yj().required("Required"),quantity:t.ai().typeError("Please enter valid quantity").required("Required"),billingQuantity:t.ai().typeError("Please enter valid billing quantity").required("Required"),trxnQuantity:t.ai().test(...n()).test(...a).typeError("Please enter valid quantity").required("Required"),maxQuantity:function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.ai().test(...r?n():l).test(...a).required("Required").typeError("Please enter a valid Quantity").max(e,`Maximum quantity allowed: ${e||0}.`)},country:t.Yj().required("Required"),state:t.Yj().required("Required"),city:t.Yj().required("Required"),registeredCountry:t.Yj().required("Required"),registeredState:t.Yj().required("Required"),registeredCity:t.Yj().required("Required"),organizationType:t.Yj().nullable().required("Required"),organizationCode:t.ai().typeError("Value must be a valid integer").required("Required").integer("Value must be an integer").max("2147483647","Value exceeds maximum allowed"),organizationStoreId:t.Yj().nullable().required("Required"),organizationLocationId:t.Yj().required("Required"),integrationId:t.Yj().required("Required"),firm:t.Yj().required("Required"),movementType:t.Yj().required("Required"),supplier:t.Yj().required("Required"),masterMaker:t.Yj().required("Required"),projectMasterMaker:t.Yj().required("Required"),lov:t.Yj().required("Required"),date:t.Yj().required("Required"),fromDate:t.Yj().required("Required"),toDate:t.Yj().when("fromDate",{is:e=>!!e,then:t.Yj().test("isGreaterThanFromDate","To Date cannot be less than From date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.fromDate).getTime()}))}),invoiceNumber:t.Yj().required("Required"),challanNumber:t.Yj().required("Required"),poNumber:t.Yj().required("Required"),workOrderNumber:t.Yj().required("Required"),receivingStore:t.Yj().required("Required"),uom:t.Yj().required("Required"),project:t.Yj().nullable().required("Required"),projectArr:t.YO().of(t.gl()).nullable().required("Required").min(1,"Required"),organizationArr:t.YO().of(t.gl()).nullable().required("Required").min(1,"Required"),accessProject:t.Yj().nullable().required("Required"),rate:t.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid rate").required("Required"),tax:t.Yj().matches(/^[0-9]\d{0,9}(\.\d{1,2})?%?$/,"Enter valid tax").required("Required"),rangeFrom:t.Yj().required("Required"),rangeTo:t.Yj().required("Required"),requiredWithLabel:()=>t.Yj().nullable().required("Required"),requiredWithNonZero:e=>t.ai().required("Required").min(1,`${e} must be greater than zero`).typeError(`${e} must be a number`),endRange:e=>t.ai().required("Required").min(e,"End Range must be greater than start range").typeError("End Range must be a number"),value:t.ai().required("Required"),isSerialize:t.Yj().required("Please select a checkbox"),vehicleNumber:t.Yj().required("Required"),vehicleNumberOptional:t.Yj().nullable(),inventoryNameOptional:t.Yj().nullable().test("isValidOrEmpty","Please enter valid name",(function(e){return!e||/^[A-Za-z0-9\-_'\s(),./]+$/.test(e)})),aadharNumber:t.Yj().matches(/^\d{12}$/,"Please enter valid aadhar number"),panNumber:t.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Please enter valid PAN Number"),lrNumber:t.Yj().required("Required"),eWayBillNumber:t.Yj().required("Required"),eWayBillDate:t.Yj().required("Required"),actualReceiptDate:t.Yj().when("eWayBillDate",{is:e=>!!e,then:t.Yj().test("isGreaterThanEWayBillDate","Actual receipt date cannot be less than e-way bill date",(function(e,r){return new Date(e).getTime()>=new Date(r.parent.eWayBillDate).getTime()}))}).required("Required"),pincode:t.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),registeredPincode:t.Yj().min(6,"Enter valid pincode").max(6,"Enter valid pincode").required("Required"),projectSiteStore:t.Yj().nullable().required("Required"),placeOfTransfer:t.Yj().required("Required"),contractorStore:t.Yj().nullable().required("Required"),projectSiteStoreLocation:t.Yj().required("Required"),contractorStoreLocation:t.Yj().nullable().required("Required"),contractorEmployee:t.Yj().required("Required"),alphanumericWithAlphabetRequired:e=>t.Yj().matches(/^[^\s]*$/,`Enter Valid ${e}`).required("Required"),description:t.Yj().required("Required"),longDescription:t.Yj().required("Required"),hsnCode:t.Yj().min(6,"Enter valid HSN Code").max(8,"Enter valid HSN Code").required("Required"),isSerialNumber:t.Yj().required("Required"),store:t.Yj().nullable().required("Required"),accessStore:t.Yj().nullable().required("Required"),series:t.Yj().required("Required"),material:t.Yj().required("Required"),materialType:t.Yj().required("Required"),materialCode:t.Yj().required("Required").matches(/^\S+$/,"Should not contain any space").matches(/[0-9]/,"Should contain at least one number").matches(/^(?!0\d).*$/,"Leading zero values are not allowed"),organizationId:t.Yj().nullable().required("Required"),accessOrganizationId:t.Yj().nullable().required("Required"),company:t.Yj().required("Required"),contractor:t.Yj().nullable().required("Required"),contractorId:t.Yj().required("Required"),fromInstaller:t.Yj().nullable().required("Required"),toInstaller:t.Yj().nullable().required("Required"),fromStoreLocationId:t.Yj().nullable().required("Required"),toStoreLocationId:t.Yj().nullable().required("Required"),storeLocationId:t.Yj().nullable().required("Required"),installerStoreLocationId:t.Yj().nullable().required("Required"),accessStoreLocationId:t.Yj().nullable().required("Required"),fromStore:t.Yj().nullable().required("Required"),toStore:t.Yj().required("Required"),transporterName:t.Yj().required("Required"),customerSiteStoreId:t.Yj().nullable().required("Required"),toCustomerId:t.Yj().nullable().required("Required"),financialYear:t.Yj().required("Required"),user:t.Yj().required("Required"),accessUser:t.Yj().nullable().required("Required"),rightsFor:t.Yj().nullable().required("Required"),gaaLevelId:t.Yj().nullable().required("Required"),networkLevelId:t.Yj().nullable().required("Required"),server:t.Yj().required("Required"),port:t.Yj().required("Required"),encryption:t.Yj().required("Required"),requisitionNumber:t.Yj().nullable().required("Required"),password:t.Yj().required("Required"),transaction:t.Yj().nullable().required("Required"),serviceCenter:t.Yj().nullable().required("Required"),scrapLocation:t.Yj().nullable().required("Required"),effectiveFrom:t.Yj().required("Required"),effectiveTo:t.Yj().required("Required"),displayName:t.Yj().required("Required"),templateName:t.Yj().required("Required"),subject:t.Yj().required("Required"),from:t.Yj().required("Required"),to:t.YO().min(1,"Provide at least one Receiver Email"),supervisorNumber:t.Yj().required("Required"),attachmentsWhenIsAuthorized:t.Yj().nullable().when("authorizedUser",{is:e=>"true"===e||!0===e,then:t.Yj().nullable().required("Required")}),requestNumber:t.Yj().required("Required"),remarks:t.Yj().test("isLength","Length should not be more then 256 characters",(e=>!e||(null===e||void 0===e?void 0:e.length)<=256)).nullable(),bankName:t.Yj().matches(/^[A-Za-z ]*$/,"Please enter valid bank name").required("Required"),ifscCode:t.Yj().matches(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Please enter a valid IFSC code").required("IFSC code is required"),accountNumber:t.Yj().matches(/^[0-9]{1,}$/,"Please enter a valid account number").required("Required"),endDate:()=>t.Yj().required("Required"),startDateRange:(e,r,i)=>t.Yj().required("Required").test("date-comparison",`${r} must be >= ${i}`,(function(r){return function(e,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const t=new Date(e),a=new Date(r);return i?t<=a:t>=a}(r,e,!1)})),endDateRange:(e,r,i,a,d,n)=>t.Yj().required("Required").test("date-comparison",`${i} must be <= ${a} and >= ${d}`,(function(i){return o(i,e,r,!n)})),endDateRangeMax:(e,r,i,a,d,n)=>t.Yj().required("Required").test("date-comparison",`${i} must be >= ${a} and >= ${d}`,(function(i){return o(i,e,r,!n)})),month:e=>t.ai().test(...n(e)).test(...d).typeError(`Please enter valid ${e}`).required("Required"),endMonthRange:(e,r,i)=>t.ai().test(...n(r)).test(...d).typeError(`Please enter valid ${r}`).required("Required").max(e,`${r} must be less than equal to ${i}`),checkQty:e=>t.ai().test(...n(e)).test(...a).typeError(`Please enter valid ${e}`).required("Required"),checkForInteger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r||r>=0?t.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).max(r,`Maximum quantity allowed: ${r||0}.`).required("Required"):t.ai().nullable().transform(((e,r)=>/^\s*$/.test(r)?null:e)).integer(`${e} must be an integer`).required("Required").typeError(`${e} must be an integer`).min(1,`${e} must be greater than 0`).required("Required")},priority:t.ai().typeError("Must be a number").integer("Must be an integer").min(0,"Must be a non-negative number").required("Required")}},89649:(e,r,i)=>{i.d(r,{A:()=>d});var t=i(9950),a=i(80415);function d(){const[e,r]=(0,t.useState)({pageIndex:a.j7.pageIndex,pageSize:a.j7.pageSize,forceUpdate:!0}),i=(0,t.useCallback)((function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageSize;r((e=>({pageIndex:i,pageSize:t,forceUpdate:!e.forceUpdate})))}),[e]),d=(0,t.useCallback)((()=>{r((e=>({pageIndex:a.j7.pageIndex,pageSize:a.j7.pageSize,forceUpdate:!e.forceUpdate})))}),[]);return{paginations:e,setPageIndex:e=>r((r=>({...r,pageIndex:e,forceUpdate:!r.forceUpdate}))),setPageSize:e=>r((r=>({pageIndex:a.j7.pageIndex,pageSize:e,forceUpdate:!r.forceUpdate}))),refreshPagination:d,setPaginationsFunctions:i}}},39225:(e,r,i)=>{i.d(r,{A:()=>n});var t=i(41397),a=i.n(t),d=i(9950);const n=e=>{const{isFcMode:r}=e||{},[i,t]=(0,d.useState)(void 0),[n,l]=(0,d.useState)(!1),o=(0,d.useRef)([]),u=(0,d.useCallback)((e=>{const t=o.current;o.current=e,i&&(r||a().isEqual(e,t)||l((e=>!e)))}),[r,i]),s=(0,d.useMemo)((()=>null===i||void 0===i?void 0:i.trim()),[i]);return{searchString:i,searchStringTrimmed:s,forceSearch:n,accessorsRef:o,setSearchString:t,setAccessors:u}}},64865:(e,r,i)=>{i.r(r),i.d(r,{default:()=>w});var t=i(27081),a=i(9950),d=i(616),n=i(4139),l=i(67535),o=i(60666),u=i(9449),s=i(26473),c=i(96951),m=i(14351),v=i(84601),p=i(71826),q=i(62054),f=i(44414);const j=e=>{var r,i;let{selectedDataId:t,editRow:d,onBack:j,formsList:b,formId:g,savedColumn:h}=e;const x=(0,u.mN)({resolver:(0,s.t)(o.Ik().shape({formAttributeId:v.A.nother,formAttributeName:v.A.nother,newName:v.A.nother})),defaultValues:{formAttributeId:(null===d||void 0===d?void 0:d.formAttributeId)||"",formAttributeName:(null===d||void 0===d?void 0:d.formAttributeName)||"",newName:(null===d||void 0===d?void 0:d.newName)||""},mode:"all"}),{handleSubmit:R,setValue:y,reset:S}=x;(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.id?y("id",null===d||void 0===d?void 0:d.id):y("id",null)}),[d,y]);return(0,f.jsx)(c.Op,{methods:x,onSubmit:R((async e=>{if(null!==t){let a;var r,i;if(a=await(0,p.default)(e.id&&null!==(null===e||void 0===e?void 0:e.id)?"/devolution-mapping-update":"/devolution-mapping-create",{method:e.id?"PUT":"POST",body:{devolutionConfigId:t,formAttributeId:e.formAttributeId,newName:e.newName},...e.id&&{params:e.id}}),a.success)(0,q.A)(`Devolution mapping ${e.id?"updated":"created"} successfully`,{variant:"success"});else(0,q.A)(null===(r=a)||void 0===r||null===(i=r.error)||void 0===i?void 0:i.message,{variant:"error"})}h(e),S()})),children:(0,f.jsx)(m.A,{sx:{mb:2},children:(0,f.jsxs)(n.Ay,{container:!0,rowSpacing:3,columnSpacing:2,children:[(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"formAttributeId",label:"Forms Column",InputLabelProps:{shrink:!0},menus:(null===(r=b.filter((e=>e.id==g))[0])||void 0===r||null===(i=r.form_attributes)||void 0===i?void 0:i.map((e=>({name:e.name,id:e.id}))))||[],onChange:e=>{var r,i;y("formAttributeName",null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.name),y("newName",null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.name)},required:!0,disable:!1})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.o3,{name:"newName",label:"New Name",InputLabelProps:{shrink:!0},required:!0,disabled:!1})}),(0,f.jsxs)(n.Ay,{item:!0,xs:12,textAlign:"right",sx:{display:"flex",justifyContent:"flex-end",gap:"1.25rem"},children:[(0,f.jsx)(l.A,{variant:"outlined",size:"small",color:"primary",onClick:j,children:"Back"}),(0,f.jsx)(l.A,{variant:"contained",size:"small",color:"primary",type:"submit",children:d?"Update":"Add"})]})]})})})},b=e=>{var r,i,t,d,j,b,g,h,x,R,y,S;let{formsList:Y,formId:A,onNext:I,selectedData:w}=e;const[k,N]=(0,a.useState)(!1),E=(0,u.mN)({resolver:(0,s.t)(o.Ik().shape({prefix:v.A.alphanumericWithAlphabetRequired("Devolution prefix"),index:v.A.nother,oldSerialNoId:v.A.nother,newSerialNoId:v.A.nother,oldMakeId:v.A.nother})),defaultValues:{prefix:(null===w||void 0===w?void 0:w.prefix)||"",index:(null===w||void 0===w?void 0:w.index)||1,oldSerialNoId:(null===w||void 0===w||null===(r=w.old_serial_no)||void 0===r?void 0:r.id)||null,newSerialNoId:(null===w||void 0===w||null===(i=w.new_serial_no)||void 0===i?void 0:i.id)||null,oldMakeId:(null===w||void 0===w||null===(t=w.old_make)||void 0===t?void 0:t.id)||null,newMakeId:(null===w||void 0===w||null===(d=w.new_make)||void 0===d?void 0:d.id)||null},mode:"all"}),{handleSubmit:C,setValue:z,watch:P}=E,D=P("prefix"),L=P("index"),O=P("oldSerialNoId"),M=P("newSerialNoId"),T=P("oldMakeId"),$=P("newMakeId");(0,a.useEffect)((()=>{var e,r,i,t;Y&&Y.length>0&&w&&null!==w&&void 0!==w&&w.id&&(z("oldSerialNoId",null===w||void 0===w||null===(e=w.old_serial_no)||void 0===e?void 0:e.id),z("newSerialNoId",null===w||void 0===w||null===(r=w.new_serial_no)||void 0===r?void 0:r.id),z("oldMakeId",null===w||void 0===w||null===(i=w.old_make)||void 0===i?void 0:i.id),z("newMakeId",null===w||void 0===w||null===(t=w.new_make)||void 0===t?void 0:t.id))}),[Y,w,z]),(0,a.useEffect)((()=>{var e,r,i,t;D!==(null===w||void 0===w?void 0:w.prefix)||L!==(null===w||void 0===w?void 0:w.index)||O!==(null===w||void 0===w||null===(e=w.old_serial_no)||void 0===e?void 0:e.id)||T!==(null===w||void 0===w||null===(r=w.old_make)||void 0===r?void 0:r.id)||M!==(null===w||void 0===w||null===(i=w.new_serial_no)||void 0===i?void 0:i.id)||$!==(null===w||void 0===w||null===(t=w.new_make)||void 0===t?void 0:t.id)?N(!0):N(!1)}),[D,L,O,T,M,$,w]);return(0,f.jsx)(c.Op,{methods:E,onSubmit:C((async e=>{if(w&&null!==w&&void 0!==w&&w.id&&k){var r,i;const a=await(0,p.default)("/devolution-config-update",{method:"PUT",body:{projectId:null===w||void 0===w||null===(r=w.project)||void 0===r?void 0:r.id,formId:null===w||void 0===w||null===(i=w.form)||void 0===i?void 0:i.id,...e},params:w.id});var t;if(a.success)(0,q.A)("Devolution Config Update Successfully",{variant:"success"});else(0,q.A)(null===a||void 0===a||null===(t=a.error)||void 0===t?void 0:t.message,{variant:"error"})}I(e)})),children:(0,f.jsx)(m.A,{sx:{mb:2},children:(0,f.jsxs)(n.Ay,{container:!0,rowSpacing:3,columnSpacing:2,children:[(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.o3,{name:"prefix",label:"Devolution Prefix",type:"text",InputLabelProps:{shrink:!0},required:!0,disabled:!(null===w||void 0===w||!w.isLocked)&&(null===w||void 0===w?void 0:w.isLocked)})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.o3,{name:"index",label:"Index Number",type:"number",InputLabelProps:{shrink:!0},required:!0,disabled:!(null===w||void 0===w||!w.isLocked)&&(null===w||void 0===w?void 0:w.isLocked)})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"oldSerialNoId",label:"Old Serial Number",InputLabelProps:{shrink:!0},menus:(null===(j=Y.filter((e=>e.id==A))[0])||void 0===j||null===(b=j.form_attributes)||void 0===b?void 0:b.map((e=>({name:e.name,id:e.id}))))||[],required:!0,allowClear:!0})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"oldMakeId",label:"Old Make",InputLabelProps:{shrink:!0},menus:(null===(g=Y.filter((e=>e.id==A))[0])||void 0===g||null===(h=g.form_attributes)||void 0===h?void 0:h.filter((e=>e.id!==O)).map((e=>({name:e.name,id:e.id}))))||[],required:!0,allowClear:!0})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"newSerialNoId",label:"New Serial Number",InputLabelProps:{shrink:!0},menus:(null===(x=Y.filter((e=>e.id==A))[0])||void 0===x||null===(R=x.form_attributes)||void 0===R?void 0:R.filter((e=>e.id!==O&&e.id!==T)).map((e=>({name:e.name,id:e.id}))))||[],required:!0,allowClear:!0})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"newMakeId",label:"New Make",InputLabelProps:{shrink:!0},menus:(null===(y=Y.filter((e=>e.id==A))[0])||void 0===y||null===(S=y.form_attributes)||void 0===S?void 0:S.filter((e=>e.id!==O&&e.id!==M&&e.id!==T)).map((e=>({name:e.name,id:e.id}))))||[],allowClear:!0})}),(0,f.jsx)(n.Ay,{item:!0,xs:12,textAlign:"right",sx:{display:"flex",justifyContent:"flex-end",gap:"1.25rem"},children:(0,f.jsx)(l.A,{variant:"contained",size:"small",color:"primary",type:"submit",children:w&&null!==w&&void 0!==w&&w.id&&k?"Update":"Next"})})]})})})};var g=i(88848),h=i(80733),x=i(29024),R=i(76300),y=i(99635),S=i(64499),Y=i(89649);const A=e=>{let{selectedData:r,onBack:i}=e;const[A,I]=(0,a.useState)({}),[w,k]=(0,a.useState)({}),[N,E]=(0,a.useState)([]),[C,z]=(0,a.useState)(null),[P,D]=(0,a.useState)(!1),[L,O]=(0,a.useState)(!1),[M,T]=(0,a.useState)(!1),$=(0,t.wA)(),_=(0,a.useRef)(!0),{masterMakerOrgType:F}=(0,g.$)(),H=null===F||void 0===F?void 0:F.masterObject,[U,Z]=(0,a.useState)(!1),[B,V]=(0,a.useState)(null),[W,G]=(0,a.useState)(null),{forms:Q}=(0,R.I)(),K=(0,u.mN)({resolver:(0,s.t)(o.Ik().shape({projectId:v.A.nother,formTypeId:v.A.nother,formId:v.A.nother,searchFields:v.A.otherArray,displayFields:v.A.otherArray,mobileFields:v.A.otherArray})),mode:"all"}),{handleSubmit:J,setValue:X,watch:ee}=K,{formsList:re}=(0,a.useMemo)((()=>{var e;return{formsList:(null===Q||void 0===Q||null===(e=Q.formDataObject)||void 0===e?void 0:e.rows)||[]}}),[Q]);(0,a.useEffect)((()=>{var e;re&&re.length>0&&r&&null!==r&&void 0!==r&&r.id&&X("formId",null===(e=r.form)||void 0===e?void 0:e.id)}),[re,X,r]);const{paginations:{pageSize:ie,pageIndex:te},refreshPagination:ae,setPageIndex:de,setPageSize:ne}=(0,Y.A)(),{projectsDropdown:le}=(0,h.Y)(),oe=null===le||void 0===le?void 0:le.projectsDropdownObject;(0,a.useEffect)((()=>{$((0,x.VOH)("FORM_TYPES")),$((0,x.uiG)())}),[$]);const ue=(0,a.useCallback)(((e,r)=>{_.current||X("formId",""),_.current=!1,$((0,x.tgI)({projectId:e,typeId:r}))}),[$,X]),se=ee("projectId"),ce=ee("formTypeId"),me=ee("formId"),{devolutionMappingList:ve}=(0,d.T)(),{mappingList:pe}=(0,a.useMemo)((()=>{var e;return{mappingList:(null===ve||void 0===ve||null===(e=ve.stocksObject)||void 0===e?void 0:e.rows)||[]}}),[ve]);(0,a.useEffect)((()=>{if(pe){let r=(e=pe)&&e.length>0&&e.map((e=>{var r,i;return{formAttributeName:null===(r=e.form_attribute)||void 0===r?void 0:r.name,newName:e.newName,formAttributeId:null===e||void 0===e||null===(i=e.form_attribute)||void 0===i?void 0:i.id,id:null===e||void 0===e?void 0:e.id}}));E(r)}var e}),[pe]),(0,a.useEffect)((()=>{ue(se,ce)}),[se,ce,ue]);(0,a.useEffect)((()=>{}),[me]),(0,a.useEffect)((()=>{var e,i,t,a;r&&null!==r&&void 0!==r&&r.id&&(X("projectId",null===r||void 0===r||null===(e=r.project)||void 0===e?void 0:e.id),X("formTypeId",null===r||void 0===r||null===(i=r.form)||void 0===i||null===(t=i.master_maker_lov)||void 0===t?void 0:t.id),X("formId",null===(a=r.form)||void 0===a?void 0:a.id),$((0,x.EbG)({devolutionConfigId:null===r||void 0===r?void 0:r.id,pageIndex:te,pageSize:ie})))}),[r,X,$,te,ie,ae]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Op,{methods:K,onSubmit:J((e=>{I(e),O(!0),null!==r&&void 0!==r&&r.id||E([])})),children:(0,f.jsxs)(m.A,{title:"Devolution Configurator",sx:{mb:2},children:[(0,f.jsxs)(n.Ay,{container:!0,rowSpacing:3,columnSpacing:2,children:[(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"projectId",label:"Project",InputLabelProps:{shrink:!0},menus:oe,allowClear:!0,required:!0,disable:r&&(null===r||void 0===r?void 0:r.id)})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"formTypeId",label:"Form Type",InputLabelProps:{shrink:!0},menus:ee("projectId")?H:[],allowClear:!0,required:!0,disable:r&&(null===r||void 0===r?void 0:r.id)})}),(0,f.jsx)(n.Ay,{item:!0,md:4,xs:12,children:(0,f.jsx)(c.eu,{name:"formId",label:"Form",InputLabelProps:{shrink:!0},menus:ee("projectId")&&ee("formTypeId")?re:[],allowClear:!0,required:!0,disable:r&&(null===r||void 0===r?void 0:r.id)})})]}),(0,f.jsxs)(n.Ay,{item:!0,xs:12,textAlign:"right",sx:{display:"flex",justifyContent:"flex-end",gap:"1.25rem",marginTop:3},children:[(0,f.jsx)(l.A,{variant:"outlined",size:"small",color:"primary",onClick:()=>{i()},children:"Back"}),(0,f.jsx)(l.A,{variant:"contained",size:"small",color:"primary",type:"submit",children:"Proceed"})]})]})}),L&&(0,f.jsx)(b,{selectedData:r,formsList:re,formId:me,onNext:e=>{k({...A,...e}),T(!0),null!==r&&void 0!==r&&r.id||E([])}}),P&&(0,f.jsx)(j,{onBack:()=>{O(!1),D(!1)},selectedDataId:null!==r&&void 0!==r&&r.id?null===r||void 0===r?void 0:r.id:null,editRow:C,formsList:re,formId:me,savedColumn:e=>{let i=[...N];const t=N.findIndex((r=>r.formAttributeId===e.formAttributeId));t>-1?i[t]={...i[t],...e}:i.push(e),E(i),D(!1),r&&null!==r&&void 0!==r&&r.id&&$((0,x.EbG)({devolutionConfigId:null===r||void 0===r?void 0:r.id,pageIndex:te,pageSize:ie}))}}),(0,f.jsx)(S.A,{open:U,handleClose:()=>Z(!1),handleConfirm:async()=>{if(r&&null!==r&&void 0!==r&&r.id&&B&&null!==B){const i=await(0,p.default)("/devolution-mapping-delete",{method:"DELETE",params:B});var e;if(i.success)Z(!1),(0,q.A)("Devolution Mapping Deleted Successfully",{variant:"success"}),$((0,x.EbG)({devolutionConfigId:null===r||void 0===r?void 0:r.id,pageIndex:te,pageSize:ie}));else(0,q.A)(null===i||void 0===i||null===(e=i.error)||void 0===e?void 0:e.message,{variant:"error"}),Z(!1)}else(()=>{let e=[];N.map((r=>{r.formAttributeId!==W.formAttributeId&&e.push(r)})),E(e),D(!1),G(null)})(),Z(!1)},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),M&&(0,f.jsx)(y.default,{setPageIndex:de,setPageSize:ne,pageIndex:te,pageSize:ie,hideHistoryIcon:!0,hideViewIcon:!0,hideExportButton:!0,hidePagination:!0,accessTableOnly:!0,handleRowDelete:e=>{"string"===typeof e?(V(e),G(N.filter((r=>r.id===e))[0])):(V(null),G(e)),Z(!0)},handleRowUpdate:e=>{z(e),D(!0)},onClick:()=>{z(null),D(!0)},data:N||[],columns:[{Header:"Froms Column",accessor:"formAttributeName"},{Header:"User-Defined Column",accessor:"newName"}],count:N.length||0}),!(null!==r&&void 0!==r&&r.id)&&N&&N.length>0&&(0,f.jsx)(n.Ay,{item:!0,xs:12,textAlign:"right",sx:{display:"flex",justifyContent:"flex-end",marginTop:3},children:(0,f.jsx)(l.A,{variant:"contained",size:"small",color:"primary",onClick:()=>(async()=>{var e;let r=await(0,p.default)("/devolution-config-create",{method:"POST",body:{...w,devolution_mappings:N.map((e=>({formAttributeId:e.formAttributeId,newName:e.newName})))}});r.success?(i(),(0,q.A)("Devolution Config Added Successfully",{variant:"success"})):(0,q.A)(null===r||void 0===r||null===(e=r.error)||void 0===e?void 0:e.message)})(),children:"Save"})})]})};var I=i(39225);const w=()=>{const[e,r]=(0,a.useState)({}),[i,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[u,s]=(0,a.useState)(null),c=(0,t.wA)(),{paginations:{pageSize:v,pageIndex:j},refreshPagination:b,setPageIndex:g,setPageSize:h}=(0,Y.A)(),{searchString:R,setSearchString:w,accessorsRef:k,setAccessors:N,searchStringTrimmed:E}=(0,I.A)(),{devolutionConfigList:{stocksObject:{rows:C,count:z}}}=(0,d.T)();return(0,a.useEffect)((()=>{c((0,x.KuK)({pageIndex:j,pageSize:v,...E&&{searchString:E,accessors:JSON.stringify(k.current)}}))}),[c,j,v,b,k,E]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S.A,{open:l,handleClose:()=>o(!1),handleConfirm:async()=>{const e=await(0,p.default)("/devolution-config-delete",{method:"DELETE",params:u});var r;e.success?((0,q.A)("Devolution Config Deleted Successfully",{variant:"success"}),c((0,x.KuK)({pageIndex:j,pageSize:v,...E&&{searchString:E,accessors:JSON.stringify(k.current)}})),o(!1)):(0,q.A)(null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message)},title:"Confirm Delete",message:"Are you sure you want to delete?",confirmBtnTitle:"Delete"}),!i&&(0,f.jsx)(m.A,{title:"Devolution Configurator",sx:{mb:2},children:(0,f.jsx)(y.default,{title:"",hideHistoryIcon:!0,hideViewIcon:!0,hideExportButton:!0,setPageIndex:g,setPageSize:h,pageIndex:j,pageSize:v,handleRowDelete:e=>{s(e),o(!0)},handleRowUpdate:e=>{n(!0),r(e)},onClick:()=>{r({}),n(!0)},data:C||[],columns:[{Header:"Project",accessor:"project.name"},{Header:"Form",accessor:"form.name"},{Header:"Devolution Prefix",accessor:"prefix"},{Header:"Index Number",accessor:"index"},{Header:"Old Serial Number",accessor:"old_serial_no.name"},{Header:"Old Make",accessor:"old_make.name"},{Header:"New Serial Number",accessor:"new_serial_no.name"},{Header:"New Make",accessor:"new_make.name"}],count:z||0,searchConfig:{searchString:R,searchStringTrimmed:E,setSearchString:w,setAccessors:N},exportConfig:{tableName:"devolution-configurator",fileName:"devolution-configurator",apiQuery:{listType:1}}})}),i&&(0,f.jsx)(A,{selectedData:e,onBack:()=>{g(1),h(25),n(!1),r({}),c((0,x.KuK)({pageIndex:j,pageSize:v,...E&&{searchString:E,accessors:JSON.stringify(k.current)}}))}})]})}},616:(e,r,i)=>{i.d(r,{T:()=>d});var t=i(9950),a=i(27081);const d=()=>{const[e,r]=(0,t.useState)({stocksObject:{},error:"",loading:!0}),[i,d]=(0,t.useState)({stocksObject:{},error:"",loading:!0}),[n,l]=(0,t.useState)({stocksObject:{},error:"",loading:!0}),o=(0,a.d4)((e=>e.devolutionConfig||[])),u=(0,a.d4)((e=>e.devolutionMapping||[])),s=(0,a.d4)((e=>e.devolutionList||[]));return(0,t.useEffect)((()=>{r((e=>({...e,...o})))}),[o]),(0,t.useEffect)((()=>{d((e=>({...e,...u})))}),[u]),(0,t.useEffect)((()=>{l((e=>({...e,...s})))}),[s]),{devolutionConfigList:e,devolutionMappingList:i,devolutionList:n}}},88848:(e,r,i)=>{i.d(r,{$:()=>d});var t=i(9950),a=i(27081);const d=()=>{const[e,r]=(0,t.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[i,d]=(0,t.useState)({masterMakerLovsObject:{},error:"",loading:!0}),[n,l]=(0,t.useState)({masterObject:[],error:"",loading:!0}),[o,u]=(0,t.useState)({masterObject:[],error:"",loading:!0}),[s,c]=(0,t.useState)({masterObject:[],error:"",loading:!0}),[m,v]=(0,t.useState)({currencyObject:[],error:"",loading:!0}),[p,q]=(0,t.useState)({gstStatusObject:[],error:"",loading:!0}),[f,j]=(0,t.useState)({paymentTermObject:[],error:"",loading:!0}),[b,g]=(0,t.useState)({incotermsObject:[],error:"",loading:!0}),[h,x]=(0,t.useState)({titleObject:[],error:"",loading:!0}),[R,y]=(0,t.useState)({masterMakerLovHistoryObject:{},error:"",loading:!0}),S=(0,a.d4)((e=>e.masterMakerLov||{})),Y=(0,a.d4)((e=>e.masterMakerLovList||{})),A=(0,a.d4)((e=>e.lovsForMasterName||[])),I=(0,a.d4)((e=>e.lovsForMasterNameSecond||[])),w=(0,a.d4)((e=>e.lovsForMasterNameThird||[])),k=(0,a.d4)((e=>e.currency||[])),N=(0,a.d4)((e=>e.gstStatus||[])),E=(0,a.d4)((e=>e.paymentTerm||[])),C=(0,a.d4)((e=>e.incoterms||[])),z=(0,a.d4)((e=>e.title||[])),P=(0,a.d4)((e=>e.masterMakerLovHistory||{}));return(0,t.useEffect)((()=>{r((e=>({...e,...S})))}),[S]),(0,t.useEffect)((()=>{d((e=>({...e,...Y})))}),[Y]),(0,t.useEffect)((()=>{l((e=>({...e,...A})))}),[A]),(0,t.useEffect)((()=>{u((e=>({...e,...I})))}),[I]),(0,t.useEffect)((()=>{c((e=>({...e,...w})))}),[w]),(0,t.useEffect)((()=>{v((e=>({...e,...k})))}),[k]),(0,t.useEffect)((()=>{q((e=>({...e,...N})))}),[N]),(0,t.useEffect)((()=>{j((e=>({...e,...E})))}),[E]),(0,t.useEffect)((()=>{g((e=>({...e,...C})))}),[C]),(0,t.useEffect)((()=>{x((e=>({...e,...z})))}),[z]),(0,t.useEffect)((()=>{y((e=>({...e,...P})))}),[P]),{masterMakerLovs:e,masterMakerLovsList:i,masterMakerOrgType:n,masterMakerOrgTypeSecond:o,masterMakerOrgTypeThird:s,masterMakerCurrency:m,masterMakerGstStatus:p,masterMakerIncoterms:b,masterMakerPaymentTerm:f,masterMakerLovHistory:R,masterMakerTitle:h}}},80733:(e,r,i)=>{i.d(r,{Y:()=>d});var t=i(9950),a=i(27081);const d=()=>{const[e,r]=(0,t.useState)({projectsObject:{},error:"",loading:!0}),[i,d]=(0,t.useState)({projectDetailsObject:{},error:"",loading:!0}),[n,l]=(0,t.useState)({projectsDropdownObject:[],error:"",loading:!0}),[o,u]=(0,t.useState)({projectsDropdownObject:[],error:"",loading:!0}),[s,c]=(0,t.useState)({projectsObject:[],error:"",loading:!0}),[m,v]=(0,t.useState)({projectsHistoryObject:{},error:"",loading:!0}),p=(0,a.d4)((e=>e.projects||{})),q=(0,a.d4)((e=>e.projectDetails||{})),f=(0,a.d4)((e=>e.projectsDropdown||[])),j=(0,a.d4)((e=>e.allProjectsDropdown||[])),b=(0,a.d4)((e=>e.projectsForRoleOrUser||[])),g=(0,a.d4)((e=>e.projectsHistory||{}));return(0,t.useEffect)((()=>{r((e=>({...e,...p})))}),[p]),(0,t.useEffect)((()=>{d((e=>({...e,...q})))}),[q]),(0,t.useEffect)((()=>{l((e=>({...e,...f})))}),[f]),(0,t.useEffect)((()=>{u((e=>({...e,...j})))}),[j]),(0,t.useEffect)((()=>{c((e=>({...e,...b})))}),[b]),(0,t.useEffect)((()=>{v((e=>({...e,...g})))}),[g]),{projects:e,projectsDropdown:n,allProjectsDropdown:o,projectsHistory:m,projectsGovernForRoleOrUser:s,projectDetails:i}}},13239:(e,r,i)=>{i.d(r,{A:()=>o});var t=i(89379),a=i(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var n=i(14840),l=function(e,r){return a.createElement(n.A,(0,t.A)((0,t.A)({},e),{},{ref:r,icon:d}))};const o=a.forwardRef(l)},26592:(e,r,i)=>{var t=i(24994);r.A=void 0;var a=t(i(79526)),d=i(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},36089:(e,r,i)=>{var t=i(24994);r.A=void 0;var a=t(i(79526)),d=i(44414);r.A=(0,a.default)((0,d.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);